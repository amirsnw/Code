/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, Output, ViewChild } from '@angular/core';
import { Subscription } from 'rxjs';
import { TaminLazyLoadService } from '../../services/tamin-lazy-load/tamin-lazy-load.service';
import { OverlayService } from '../../services/overlay/overlay.service';
import { isNullOrUndefined } from 'util';
import { Guid } from '../../helpers/guid';
import { PersianNumberPipe } from '../../pipes/persian-number.pipe';
import { HttpClient, HttpEventType, HttpHeaders } from '@angular/common/http';
/* In Cordova, we need to install the https://github.com/caixiangsap/filechooser.git */
export class TaminImageGalleryManagedComponent {
    /**
     * @param {?} taminLazyLoadService
     * @param {?} changeDetectorRef
     * @param {?} overlayService
     * @param {?} http
     */
    constructor(taminLazyLoadService, changeDetectorRef, overlayService, http) {
        this.taminLazyLoadService = taminLazyLoadService;
        this.changeDetectorRef = changeDetectorRef;
        this.overlayService = overlayService;
        this.http = http;
        // tslint:disable-next-line:max-line-length
        this.defaultImage = 'data:image/png;base64,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';
        this._subscription = new Subscription();
        this._queue = [];
        this.images = [];
        this.insertable = true;
        this.maxImageSize = 120;
        this.saveUrl = '';
        this.getUrl = '';
        this.afterInsert = new EventEmitter();
        this.afterRemove = new EventEmitter();
        this.beforeInsert = new EventEmitter();
        this.beforeRemove = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @return {?}
     */
    ngAfterViewInit() {
        /** @type {?} */
        const me = this;
        this.imageInput.nativeElement.addEventListener('change', (/**
         * @param {?} e
         * @return {?}
         */
        (e) => {
            if (e.srcElement.files[0].size > me.maxImageSize * 1024) {
                /** @type {?} */
                const persianNumberPipe = new PersianNumberPipe();
                /** @type {?} */
                const message = persianNumberPipe.transform('اندازه فایل تصویر نمی تواند بیش از' + ' ' + me.maxImageSize.toString() + ' ' + 'کیلو بایت باشد.');
                me.showAlert('پیام سیستم', message);
                e.srcElement.value = '';
                return;
            }
            /** @type {?} */
            const reader = new FileReader();
            reader.readAsDataURL(e.srcElement.files[0]);
            reader.onload = (/**
             * @param {?} event
             * @return {?}
             */
            (event) => {
                /** @type {?} */
                const model = new ImageModelManaged();
                model.source = ((/** @type {?} */ (event.target))).result;
                model.title = this.defaultTitle;
                model.tag = this.defaultTag;
                model.file = e.srcElement.files[0];
                model.internalId = model.internalId = Guid.create().toString();
                if (!this.images.find((/**
                 * @param {?} c
                 * @return {?}
                 */
                c => c.source === model.source))) {
                    this.beforeInsert.emit();
                    me.images.push(model);
                    this.afterInsert.emit(model);
                    this.changeDetectorRef.detectChanges();
                    this._gallery.update();
                    this.imageInput.nativeElement.value = '';
                    model.loading = true;
                    this.changeDetectorRef.detectChanges();
                    this.saveImage2(model)
                        .then((/**
                     * @param {?} value
                     * @return {?}
                     */
                    value => {
                        model.loading = false;
                        model.guid = value;
                        model.loadFailed = false;
                    }))
                        .catch((/**
                     * @param {?} reason
                     * @return {?}
                     */
                    reason => {
                        model.loading = false;
                        model.loadFailed = true;
                    }));
                }
            });
        }));
        this._subscription.add(this.taminLazyLoadService.loadJs('assets/viewerjs/dist/viewer.js').subscribe((/**
         * @param {?} value
         * @return {?}
         */
        value => {
            this._subscription.add(this.taminLazyLoadService.loadCss('assets/viewerjs/dist/viewer.css').subscribe((/**
             * @param {?} value1
             * @return {?}
             */
            value1 => {
                this._gallery = new Viewer(this.imageContainer.nativeElement);
            })));
        })));
    }
    /**
     * @param {?} title
     * @param {?=} tag
     * @return {?}
     */
    selectImage(title, tag = null) {
        /** @type {?} */
        const me = this;
        this.defaultTitle = title;
        this.defaultTag = tag;
        if (window.hasOwnProperty('cordova')) {
            this.checkPermission().then((/**
             * @param {?} value
             * @return {?}
             */
            value => {
                if (value) {
                    filechooser.open({ 'mime': 'image/*' }, (/**
                     * @param {?} data
                     * @return {?}
                     */
                    (data) => {
                        me.getBase64FromImageUrl(data);
                    }), (/**
                     * @param {?} reason
                     * @return {?}
                     */
                    (reason) => {
                        me.showAlert('پیام سیستم', 'خطا در بارگذاری فایل');
                    }));
                }
            })).catch((/**
             * @param {?} reason
             * @return {?}
             */
            reason => {
                me.showAlert('پیام سیستم', 'خطا در دسترسی به تصاویر ذخیره شده');
            }));
        }
        else {
            this.imageInput.nativeElement.click();
        }
    }
    /**
     * @return {?}
     */
    areAllImagesUploaded() {
        /** @type {?} */
        let result = true;
        this.images.forEach((/**
         * @param {?} value
         * @return {?}
         */
        value => {
            result = result && (value.guid !== '');
        }));
        return result;
    }
    /**
     * @param {?} model
     * @return {?}
     */
    addImage(model) {
        if (isNullOrUndefined(model)) {
            alert('اطلاعات تصویر نادرست است.');
            return;
        }
        this.beforeInsert.emit(model);
        model.internalId = Guid.create().toString();
        this.images.push(model);
        this.afterInsert.emit(model);
        this.changeDetectorRef.detectChanges();
        this._gallery.update();
    }
    /**
     * @param {?} id
     * @return {?}
     */
    removeImage(id) {
        this.showQuestionBox('پیام سیستم', 'آیا مطمئن هستید', (/**
         * @return {?}
         */
        () => {
            /** @type {?} */
            const model = this.images.find((/**
             * @param {?} c
             * @return {?}
             */
            c => c.internalId === id));
            this.beforeRemove.emit(model);
            this.images = this.images.filter((/**
             * @param {?} obj
             * @return {?}
             */
            obj => obj.internalId !== id));
            this.changeDetectorRef.detectChanges();
            this._gallery.update();
            this.afterRemove.emit(model);
        }), (/**
         * @return {?}
         */
        () => {
        }));
    }
    /**
     * @return {?}
     */
    startWaiting() {
        this._overlay = this.overlayService.show(this.host.nativeElement);
    }
    /**
     * @return {?}
     */
    stopWaiting() {
        this.overlayService.hide(this._overlay);
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this.stopWaiting();
        this._subscription.unsubscribe();
    }
    /**
     * @private
     * @param {?} title
     * @param {?} message
     * @param {?} yesCallback
     * @param {?} noCallback
     * @return {?}
     */
    showQuestionBox(title, message, yesCallback, noCallback) {
        alertify.confirm(title, message, yesCallback, noCallback)
            .set({
            labels: { ok: 'بلی', cancel: 'خیر' }
        });
    }
    /**
     * @private
     * @param {?} title
     * @param {?} message
     * @return {?}
     */
    showAlert(title, message) {
        alertify.alert(title, message);
    }
    /**
     * @private
     * @param {?} model
     * @return {?}
     */
    saveImage(model) {
        return new Promise((/**
         * @param {?} resolve
         * @param {?} reject
         * @return {?}
         */
        (resolve, reject) => {
            /** @type {?} */
            const formData = new FormData();
            formData.append('file', model.file, model.file.name);
            /** @type {?} */
            const headers = new HttpHeaders({ 'Content-Type': 'application/json' });
            this.http.post(this.saveUrl, model.source.split(',')[1], { headers: headers }).toPromise()
                .then((/**
             * @param {?} value
             * @return {?}
             */
            value => {
                resolve(((/** @type {?} */ (value))).guid);
            }))
                .catch((/**
             * @param {?} reason
             * @return {?}
             */
            reason => {
                reject(reason);
            }));
        }));
    }
    /**
     * @private
     * @param {?} model
     * @return {?}
     */
    saveImage2(model) {
        return new Promise((/**
         * @param {?} resolve
         * @param {?} reject
         * @return {?}
         */
        (resolve, reject) => {
            /** @type {?} */
            const formData = new FormData();
            formData.append('file', model.file, model.file.name);
            this.http.post(this.saveUrl, formData, {
                reportProgress: true,
                observe: 'events'
            })
                .subscribe((/**
             * @param {?} event
             * @return {?}
             */
            (event) => {
                switch (event.type) {
                    case HttpEventType.Sent:
                        break;
                    case HttpEventType.Response:
                        // console.log(event.body.guid);
                        resolve(event.body.guid);
                        break;
                    case 1: {
                        break;
                    }
                }
            }), (/**
             * @param {?} error
             * @return {?}
             */
            error => {
                reject(error);
            }));
        }));
    }
    /**
     * @param {?} img
     * @return {?}
     */
    retrySaveImage(img) {
        img.loading = true;
        img.loadFailed = false;
        this.changeDetectorRef.detectChanges();
        this.saveImage2(img)
            .then((/**
         * @param {?} value
         * @return {?}
         */
        value => {
            img.loading = false;
            img.loadFailed = false;
            img.guid = value;
        }))
            .catch((/**
         * @param {?} reason
         * @return {?}
         */
        reason => {
            img.loading = false;
            img.loadFailed = true;
        }));
    }
    /**
     * @param {?} img
     * @return {?}
     */
    cancelSaveImage(img) {
        this.removeImage(img.internalId);
    }
    /**
     * @return {?}
     */
    clearImages() {
        this.images = [];
    }
    /**
     * @param {?} guid
     * @param {?} title
     * @param {?} type
     * @param {?} id
     * @param {?=} removeable
     * @param {?=} tag
     * @return {?}
     */
    downloadImage(guid, title, type, id, removeable = false, tag = null) {
        /** @type {?} */
        const tmp = new ImageModelManaged();
        tmp.source = this.defaultImage;
        tmp.internalId = Guid.create().toString();
        tmp.tag = tag;
        tmp.file = null;
        tmp.title = title;
        tmp.removeable = removeable;
        tmp.guid = '';
        tmp.loading = false;
        tmp.loading = true;
        tmp.loadFailed = false;
        tmp.loadFailed = false;
        // tmp.size = [];
        tmp.internalTemp = {
            guid: guid,
            title: title,
            type: type,
            id: id,
            tag: tag
        };
        this.images.push(tmp);
        /** @type {?} */
        const theUrl = `${this.getUrl}/${guid}/${type}/${id}`;
        this.addToQueue(guid);
        this.http.get(theUrl)
            .toPromise()
            .then((/**
         * @param {?} value
         * @return {?}
         */
        (value) => {
            this.removefromQueue(guid);
            // tmp.source = 'data:image/png;base64,' + value.data.image;
            tmp.source = 'data:image/png;base64,' + value.data;
            tmp.loading = false;
            tmp.guid = guid;
        }))
            .catch((/**
         * @param {?} reason
         * @return {?}
         */
        reason => {
            this.removefromQueue(guid);
            tmp.loadFailed = true;
        }));
    }
    /**
     * @private
     * @param {?} guid
     * @return {?}
     */
    addToQueue(guid) {
        this._queue.push(guid);
    }
    /**
     * @private
     * @param {?} guid
     * @return {?}
     */
    removefromQueue(guid) {
        this._queue.pop();
        if (this._queue.length === 0) {
            this.changeDetectorRef.detectChanges();
            this._gallery.update();
        }
    }
    /**
     * @private
     * @param {?} dataurl
     * @param {?} filename
     * @return {?}
     */
    dataURLtoFile(dataurl, filename) {
        /** @type {?} */
        const byteString = atob(dataurl.split(',')[1]);
        /** @type {?} */
        const mimeString = dataurl.split(',')[0].split(':')[1].split(';')[0];
        /** @type {?} */
        const ab = new ArrayBuffer(byteString.length);
        /** @type {?} */
        const ia = new Uint8Array(ab);
        for (let i = 0; i < byteString.length; i++) {
            ia[i] = byteString.charCodeAt(i);
        }
        return new Blob([ab], { type: mimeString });
        // const arr = dataurl.split(',');
        // const mime = arr[0].match(/:(.*?);/)[1];
        // const bstr = atob(arr[1]);
        // let n = bstr.length;
        // const u8arr = new Uint8Array(n);
        // while (n--) {
        //   u8arr[n] = bstr.charCodeAt(n);
        // }
        // return new File([u8arr], filename, {type: mime});
    }
    /**
     * @private
     * @param {?} data
     * @return {?}
     */
    getBase64FromImageUrl(data) {
        /** @type {?} */
        const me = this;
        /** @type {?} */
        const reader = new FileReader();
        /** @type {?} */
        const tmp = this.dataURLtoBlob('data:image/png;base64,' + data);
        reader.readAsDataURL(tmp);
        reader.onloadend = (/**
         * @return {?}
         */
        function () {
            if (me.dataURLtoBlob(reader.result).size > me.maxImageSize * 1024) {
                /** @type {?} */
                const persianNumberPipe = new PersianNumberPipe();
                /** @type {?} */
                const message = persianNumberPipe.transform('اندازه فایل تصویر نمی تواند بیش از' + ' ' + me.maxImageSize.toString() + ' ' + 'کیلو بایت باشد.');
                me.showAlert('پیام سیستم', message);
                return;
            }
            /** @type {?} */
            const model = new ImageModelManaged();
            model.source = reader.result;
            model.title = me.defaultTitle;
            model.tag = me.defaultTag;
            model.file = (/** @type {?} */ (me.dataURLtoFile(reader.result, 'image.jpg')));
            model.internalId = model.internalId = Guid.create().toString();
            if (!me.images.find((/**
             * @param {?} c
             * @return {?}
             */
            c => c.source === model.source))) {
                me.beforeInsert.emit();
                me.images.push(model);
                me.afterInsert.emit(model);
                me.changeDetectorRef.detectChanges();
                me._gallery.update();
                me.imageInput.nativeElement.value = '';
                model.loading = true;
                me.changeDetectorRef.detectChanges();
                me.saveImage2(model)
                    .then((/**
                 * @param {?} value
                 * @return {?}
                 */
                value => {
                    model.loading = false;
                    model.guid = value;
                    model.loadFailed = false;
                    me.changeDetectorRef.detectChanges();
                }))
                    .catch((/**
                 * @param {?} reason
                 * @return {?}
                 */
                reason => {
                    model.loading = false;
                    model.loadFailed = true;
                    me.changeDetectorRef.detectChanges();
                }));
            }
            // if (me.dataURLtoBlob(reader.result).size > me.maxImageSize * 1024) {
            //   const persianNumberPipe = new PersianNumberPipe();
            //   const message = persianNumberPipe.transform('اندازه فایل تصویر نمی تواند بیش از' + ' ' + me.maxImageSize.toString() + ' ' + 'کیلو بایت باشد.');
            //   me.showAlert('پیام سیستم', message);
            //   return;
            // }
            // const model = new ImageModelManaged();
            // model.source = reader.result;
            // model.title = me.defaultTitle;
            // model.tag = me.defaultTag;
            // model.file = me.dataURLtoFile(reader.result, 'image.jpg');
            // model.internalId = model.internalId = Guid.create().toString();
            // if (!me.images.find(c => c.source === model.source)) {
            //   me.beforeInsert.emit();
            //   me.images.push(model);
            //   me.afterInsert.emit(model);
            //   me.changeDetectorRef.detectChanges();
            //   me._gallery.update();
            //   me.imageInput.nativeElement.value = '';
            //   model.loading = true;
            //   me.changeDetectorRef.detectChanges();
            //   me.saveImage(model)
            //     .then(value => {
            //       model.loading = false;
            //       model.guid = value;
            //       model.loadFailed = false;
            //     })
            //     .catch(reason => {
            //       model.loading = false;
            //       model.loadFailed = true;
            //     });
            // }
        });
    }
    /**
     * @param {?} dataURL
     * @return {?}
     */
    dataURLtoBlob(dataURL) {
        /** @type {?} */
        const binary = atob(dataURL.split(',')[1]);
        // Create 8-bit unsigned array
        /** @type {?} */
        const array = [];
        for (let i = 0; i < binary.length; i++) {
            array.push(binary.charCodeAt(i));
        }
        return new Blob([new Uint8Array(array)], { type: 'image/png' });
    }
    /**
     * @return {?}
     */
    checkPermission() {
        return new Promise((/**
         * @param {?} resolve
         * @param {?} reject
         * @return {?}
         */
        (resolve, reject) => {
            // @ts-ignore
            /** @type {?} */
            const Permission = window.plugins.Permission;
            /** @type {?} */
            const permission = 'android.permission.WRITE_EXTERNAL_STORAGE';
            Permission.has(permission, (/**
             * @param {?} results
             * @return {?}
             */
            (results) => {
                if (!results[permission]) {
                    Permission.request(permission, (/**
                     * @param {?} result
                     * @return {?}
                     */
                    (result) => {
                        if (result[permission]) {
                            resolve(true);
                        }
                        else {
                            resolve(false);
                        }
                    }), (/**
                     * @param {?} reason
                     * @return {?}
                     */
                    (reason) => {
                        reject(reason);
                    }));
                }
                else {
                    resolve(true);
                }
            }), (/**
             * @param {?} reason
             * @return {?}
             */
            (reason) => {
                reject(reason);
            }));
        }));
    }
}
TaminImageGalleryManagedComponent.decorators = [
    { type: Component, args: [{
                selector: 'tamin-image-gallery-managed',
                template: "<div #host>\n  <div class=\"image-container\" #imageContainer>\n    <ng-container *ngFor=\"let img of images\">\n      <div class=\"gallery-image-container\">\n        <div class=\"overlay\" [ngClass]=\"{'overlay': img.loading || img.loadFailed}\">\n        </div>\n        <div class=\"error-message\" *ngIf=\"img.loadFailed\">\u062E\u0637\u0627 \u062F\u0631 \u0628\u0627\u0631\u06AF\u0632\u0627\u0631\u06CC</div>\n        <div class=\"error-buttons\" *ngIf=\"img.loadFailed\">\n          <span class=\"error-button-retry\" (click)=\"retrySaveImage(img)\">\u062A\u0644\u0627\u0634 \u0645\u062C\u062F\u062F</span>\n          <span class=\"error-button-cancel\" (click)=\"cancelSaveImage(img)\">\u0627\u0646\u0635\u0631\u0627\u0641</span>\n        </div>\n        <!-- <Waiting Bar> -->\n        <div class=\"sk-fading-circle middle\" *ngIf=\"img.loading || img.loading\">\n          <div class=\"sk-circle1 sk-circle\"></div>\n          <div class=\"sk-circle2 sk-circle\"></div>\n          <div class=\"sk-circle3 sk-circle\"></div>\n          <div class=\"sk-circle4 sk-circle\"></div>\n          <div class=\"sk-circle5 sk-circle\"></div>\n          <div class=\"sk-circle6 sk-circle\"></div>\n          <div class=\"sk-circle7 sk-circle\"></div>\n          <div class=\"sk-circle8 sk-circle\"></div>\n          <div class=\"sk-circle9 sk-circle\"></div>\n          <div class=\"sk-circle10 sk-circle\"></div>\n          <div class=\"sk-circle11 sk-circle\"></div>\n          <div class=\"sk-circle12 sk-circle\"></div>\n        </div>\n        <div class=\"sending\" *ngIf=\"img.loading || img.loading\">\n          \u062F\u0631 \u062D\u0627\u0644 \u0627\u0631\u0633\u0627\u0644\n        </div>\n        <!-- <Waiting Bar> -->\n        <div class=\"title\">{{img.title}}</div>\n        <img [attr.src]=\"img.source\" alt=\"\" class=\"img\">\n        <div class=\"footer\" *ngIf=\"img.removeable\">\n          <span><i class=\"icon-trash-empty remove\" (click)=\"removeImage(img.internalId)\" *ngIf=\"!img.loading\"></i></span>\n          <span><i class=\"icon-trash-empty\" *ngIf=\"img.loading\"></i></span>\n        </div>\n      </div>\n    </ng-container>\n  </div>\n  <input type=\"file\" name=\"name\" style=\"display: none;\" accept=\".jpg,.jpeg,.png\" #imageInput/>\n</div>\n",
                styles: [".overlay{position:absolute;top:0;bottom:0;left:0;right:0;height:100%;width:100%;opacity:.3;transition:.3s;background-color:#000;cursor:auto}.error-message{padding:5px;width:90%;color:#fff;background-color:red;position:absolute;top:20%;left:50%;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);text-align:center;z-index:100000}.error-buttons{position:absolute;width:100%;top:50%;left:50%;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);text-align:center;z-index:100000}.error-button-retry{color:#fff;padding:5px;width:40%;background-color:#4f3fff;white-space:nowrap;margin-left:5px;display:inline-block;cursor:pointer}.error-button-cancel{color:#fff;padding:5px;width:40%;background-color:red;white-space:nowrap;margin-right:5px;display:inline-block;cursor:pointer}.image-container{display:flex;flex-wrap:wrap;width:calc(100% - 10px);min-height:100px;border:1px solid #cacaca;margin:5px}.gallery-image-container{width:180px;margin:10px;border:1px solid #0b7dda;position:relative}.gallery-image-container .title{color:#fff;background-color:#0b7dda;width:100%;padding:3px;text-align:center}.gallery-image-container .img{padding:5px;width:100%;height:auto}.gallery-image-container .footer{color:#fff;background-color:#0b7dda;width:100%;padding:3px;text-align:center;position:absolute;bottom:0}.gallery-image-container .remove{cursor:pointer}.error-container{display:block;height:auto}.error-container .message{width:100%;position:absolute;left:0;top:0;background-color:red;opacity:1!important}.wrapper{margin:30px;padding:30px;background:#fff;width:360px;height:640px;display:flex;flex-direction:column}.wrapper-cell{display:flex;margin-bottom:30px}@-webkit-keyframes placeHolderShimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}@keyframes placeHolderShimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}.animated-background{-webkit-animation-duration:1.25s;animation-duration:1.25s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.image-overlay{opacity:.3;display:block;height:auto;transition:.5s;-webkit-backface-visibility:hidden;backface-visibility:hidden}.middle{position:absolute;top:calc(50% - 40px);left:calc(50% - 40px)}.sending{position:absolute;top:calc(50% + 30px);left:calc(50% - 40px)}.sk-fading-circle{margin-left:20px;margin-top:20px;width:40px;height:40px}.sk-fading-circle .sk-circle{width:100%;height:100%;position:absolute;left:0;top:0}.sk-fading-circle .sk-circle:before{content:'';display:block;margin:0 auto;width:15%;height:15%;background-color:#333;border-radius:100%;-webkit-animation:1.2s ease-in-out infinite both sk-circleFadeDelay;animation:1.2s ease-in-out infinite both sk-circleFadeDelay}.sk-fading-circle .sk-circle2{transform:rotate(30deg)}.sk-fading-circle .sk-circle3{transform:rotate(60deg)}.sk-fading-circle .sk-circle4{transform:rotate(90deg)}.sk-fading-circle .sk-circle5{transform:rotate(120deg)}.sk-fading-circle .sk-circle6{transform:rotate(150deg)}.sk-fading-circle .sk-circle7{transform:rotate(180deg)}.sk-fading-circle .sk-circle8{transform:rotate(210deg)}.sk-fading-circle .sk-circle9{transform:rotate(240deg)}.sk-fading-circle .sk-circle10{transform:rotate(270deg)}.sk-fading-circle .sk-circle11{transform:rotate(300deg)}.sk-fading-circle .sk-circle12{transform:rotate(330deg)}.sk-fading-circle .sk-circle2:before{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.sk-fading-circle .sk-circle3:before{-webkit-animation-delay:-1s;animation-delay:-1s}.sk-fading-circle .sk-circle4:before{-webkit-animation-delay:-.9s;animation-delay:-.9s}.sk-fading-circle .sk-circle5:before{-webkit-animation-delay:-.8s;animation-delay:-.8s}.sk-fading-circle .sk-circle6:before{-webkit-animation-delay:-.7s;animation-delay:-.7s}.sk-fading-circle .sk-circle7:before{-webkit-animation-delay:-.6s;animation-delay:-.6s}.sk-fading-circle .sk-circle8:before{-webkit-animation-delay:-.5s;animation-delay:-.5s}.sk-fading-circle .sk-circle9:before{-webkit-animation-delay:-.4s;animation-delay:-.4s}.sk-fading-circle .sk-circle10:before{-webkit-animation-delay:-.3s;animation-delay:-.3s}.sk-fading-circle .sk-circle11:before{-webkit-animation-delay:-.2s;animation-delay:-.2s}.sk-fading-circle .sk-circle12:before{-webkit-animation-delay:-.1s;animation-delay:-.1s}@-webkit-keyframes sk-circleFadeDelay{0%,100%,39%{opacity:0}40%{opacity:1}}@keyframes sk-circleFadeDelay{0%,100%,39%{opacity:0}40%{opacity:1}}"]
            }] }
];
/** @nocollapse */
TaminImageGalleryManagedComponent.ctorParameters = () => [
    { type: TaminLazyLoadService },
    { type: ChangeDetectorRef },
    { type: OverlayService },
    { type: HttpClient }
];
TaminImageGalleryManagedComponent.propDecorators = {
    insertable: [{ type: Input }],
    maxImageSize: [{ type: Input }],
    saveUrl: [{ type: Input }],
    getUrl: [{ type: Input }],
    afterInsert: [{ type: Output }],
    afterRemove: [{ type: Output }],
    beforeInsert: [{ type: Output }],
    beforeRemove: [{ type: Output }],
    imageContainer: [{ type: ViewChild, args: ['imageContainer',] }],
    imageInput: [{ type: ViewChild, args: ['imageInput',] }],
    host: [{ type: ViewChild, args: ['host',] }]
};
if (false) {
    /**
     * @type {?}
     * @private
     */
    TaminImageGalleryManagedComponent.prototype.defaultImage;
    /**
     * @type {?}
     * @private
     */
    TaminImageGalleryManagedComponent.prototype._subscription;
    /**
     * @type {?}
     * @private
     */
    TaminImageGalleryManagedComponent.prototype._overlay;
    /**
     * @type {?}
     * @private
     */
    TaminImageGalleryManagedComponent.prototype.defaultTitle;
    /**
     * @type {?}
     * @private
     */
    TaminImageGalleryManagedComponent.prototype.defaultTag;
    /**
     * @type {?}
     * @private
     */
    TaminImageGalleryManagedComponent.prototype._gallery;
    /**
     * @type {?}
     * @private
     */
    TaminImageGalleryManagedComponent.prototype._queue;
    /** @type {?} */
    TaminImageGalleryManagedComponent.prototype.images;
    /** @type {?} */
    TaminImageGalleryManagedComponent.prototype.insertable;
    /** @type {?} */
    TaminImageGalleryManagedComponent.prototype.maxImageSize;
    /** @type {?} */
    TaminImageGalleryManagedComponent.prototype.saveUrl;
    /** @type {?} */
    TaminImageGalleryManagedComponent.prototype.getUrl;
    /** @type {?} */
    TaminImageGalleryManagedComponent.prototype.afterInsert;
    /** @type {?} */
    TaminImageGalleryManagedComponent.prototype.afterRemove;
    /** @type {?} */
    TaminImageGalleryManagedComponent.prototype.beforeInsert;
    /** @type {?} */
    TaminImageGalleryManagedComponent.prototype.beforeRemove;
    /** @type {?} */
    TaminImageGalleryManagedComponent.prototype.imageContainer;
    /** @type {?} */
    TaminImageGalleryManagedComponent.prototype.imageInput;
    /** @type {?} */
    TaminImageGalleryManagedComponent.prototype.host;
    /**
     * @type {?}
     * @private
     */
    TaminImageGalleryManagedComponent.prototype.taminLazyLoadService;
    /**
     * @type {?}
     * @private
     */
    TaminImageGalleryManagedComponent.prototype.changeDetectorRef;
    /**
     * @type {?}
     * @private
     */
    TaminImageGalleryManagedComponent.prototype.overlayService;
    /**
     * @type {?}
     * @private
     */
    TaminImageGalleryManagedComponent.prototype.http;
}
export class ImageModelManaged {
    constructor() {
        this.removeable = true;
        this.guid = '';
        this.loading = false;
        this.loadFailed = false;
    }
}
if (false) {
    /** @type {?} */
    ImageModelManaged.prototype.source;
    /** @type {?} */
    ImageModelManaged.prototype.internalId;
    /** @type {?} */
    ImageModelManaged.prototype.tag;
    /** @type {?} */
    ImageModelManaged.prototype.file;
    /** @type {?} */
    ImageModelManaged.prototype.title;
    /** @type {?} */
    ImageModelManaged.prototype.removeable;
    /** @type {?} */
    ImageModelManaged.prototype.guid;
    /** @type {?} */
    ImageModelManaged.prototype.loading;
    /** @type {?} */
    ImageModelManaged.prototype.loadFailed;
    /** @type {?} */
    ImageModelManaged.prototype.internalTemp;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFtaW4taW1hZ2UtZ2FsbGVyeS1tYW5hZ2VkLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL3RhbWluLWZyYW1ld29yay8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3RhbWluLWltYWdlLWdhbGxlcnktbWFuYWdlZC90YW1pbi1pbWFnZS1nYWxsZXJ5LW1hbmFnZWQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBRUwsaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxVQUFVLEVBQ1YsWUFBWSxFQUNaLEtBQUssRUFHTCxNQUFNLEVBQ04sU0FBUyxFQUNWLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBQyxZQUFZLEVBQUMsTUFBTSxNQUFNLENBQUM7QUFDbEMsT0FBTyxFQUFDLG9CQUFvQixFQUFDLE1BQU0sd0RBQXdELENBQUM7QUFDNUYsT0FBTyxFQUFDLGNBQWMsRUFBQyxNQUFNLHdDQUF3QyxDQUFDO0FBQ3RFLE9BQU8sRUFBQyxpQkFBaUIsRUFBQyxNQUFNLE1BQU0sQ0FBQztBQUN2QyxPQUFPLEVBQUMsSUFBSSxFQUFDLE1BQU0sb0JBQW9CLENBQUM7QUFDeEMsT0FBTyxFQUFDLGlCQUFpQixFQUFDLE1BQU0saUNBQWlDLENBQUM7QUFDbEUsT0FBTyxFQUFDLFVBQVUsRUFBRSxhQUFhLEVBQUUsV0FBVyxFQUFDLE1BQU0sc0JBQXNCLENBQUM7O0FBYzVFLE1BQU0sT0FBTyxpQ0FBaUM7Ozs7Ozs7SUFzQjVDLFlBQ1Usb0JBQTBDLEVBQzFDLGlCQUFvQyxFQUNwQyxjQUE4QixFQUM5QixJQUFnQjtRQUhoQix5QkFBb0IsR0FBcEIsb0JBQW9CLENBQXNCO1FBQzFDLHNCQUFpQixHQUFqQixpQkFBaUIsQ0FBbUI7UUFDcEMsbUJBQWMsR0FBZCxjQUFjLENBQWdCO1FBQzlCLFNBQUksR0FBSixJQUFJLENBQVk7O1FBeEJsQixpQkFBWSxHQUFHLG9zZEFBb3NkLENBQUM7UUFDcHRkLGtCQUFh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SUFDbkIsZ0NBQVM7O0lBQ1QsaUNBQVc7O0lBQ1gsa0NBQWM7O0lBQ2QsdUNBQWtCOztJQUNsQixpQ0FBVTs7SUFDVixvQ0FBZ0I7O0lBQ2hCLHVDQUFtQjs7SUFFbkIseUNBQWtCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgRXZlbnRFbWl0dGVyLFxuICBJbnB1dCxcbiAgT25EZXN0cm95LFxuICBPbkluaXQsXG4gIE91dHB1dCxcbiAgVmlld0NoaWxkXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtTdWJzY3JpcHRpb259IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtUYW1pbkxhenlMb2FkU2VydmljZX0gZnJvbSAnLi4vLi4vc2VydmljZXMvdGFtaW4tbGF6eS1sb2FkL3RhbWluLWxhenktbG9hZC5zZXJ2aWNlJztcbmltcG9ydCB7T3ZlcmxheVNlcnZpY2V9IGZyb20gJy4uLy4uL3NlcnZpY2VzL292ZXJsYXkvb3ZlcmxheS5zZXJ2aWNlJztcbmltcG9ydCB7aXNOdWxsT3JVbmRlZmluZWR9IGZyb20gJ3V0aWwnO1xuaW1wb3J0IHtHdWlkfSBmcm9tICcuLi8uLi9oZWxwZXJzL2d1aWQnO1xuaW1wb3J0IHtQZXJzaWFuTnVtYmVyUGlwZX0gZnJvbSAnLi4vLi4vcGlwZXMvcGVyc2lhbi1udW1iZXIucGlwZSc7XG5pbXBvcnQge0h0dHBDbGllbnQsIEh0dHBFdmVudFR5cGUsIEh0dHBIZWFkZXJzfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQge0ltYWdlTW9kZWx9IGZyb20gJy4uL3RhbWluLWltYWdlLWdhbGxlcnkvdGFtaW4taW1hZ2UtZ2FsbGVyeS5jb21wb25lbnQnO1xuXG5kZWNsYXJlIHZhciBhbGVydGlmeTogYW55O1xuZGVjbGFyZSBsZXQgVmlld2VyOiBhbnk7XG5kZWNsYXJlIGxldCBmaWxlY2hvb3NlcjogYW55O1xuXG4vKiBJbiBDb3Jkb3ZhLCB3ZSBuZWVkIHRvIGluc3RhbGwgdGhlIGh0dHBzOi8vZ2l0aHViLmNvbS9jYWl4aWFuZ3NhcC9maWxlY2hvb3Nlci5naXQgKi9cblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndGFtaW4taW1hZ2UtZ2FsbGVyeS1tYW5hZ2VkJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3RhbWluLWltYWdlLWdhbGxlcnktbWFuYWdlZC5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3RhbWluLWltYWdlLWdhbGxlcnktbWFuYWdlZC5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIFRhbWluSW1hZ2VHYWxsZXJ5TWFuYWdlZENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95IHtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuICBwcml2YXRlIGRlZmF1bHRJbWFnZSA9ICdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUlBQUFBQ0FDQVlBQUFERFBtSExBQUFyeDBsRVFWUjQydTE5QzZ3ZHgzbmVQN3ZuL2JodlhwS1hraWhTRXZXZzVJZWFOR21iT0kzVENHMER0SkpRQVk2UnVFN3NPbkZjQTA1YkkzSGFLSTZiT0lIaENLaGJ1RTJOQUczcVFrNmFCRFlRQjBoUm9BYUN1TENLV3FKRVBTekp0Q2lSbENqeXZsL251ZFAvbjUzWi9XZDI5cHh6S1ZMYWEzR0l3M3ZPUG1abjV2Lys1L3d6SytCNmVWc1g4VlkzNEhwNWE4dDFBTHpOeTM0QUFHK2pmS3NiOC8xV2lnZ0EweWJ4OE1NUGh3OCsrT0RQQmtId0NmeDlqeER4S2ZQM2JWNys0OTEzMy8xTGI3U1NJbzFrUXZodmZPTWJOODNNelB3ZUV2cEJPakEzTndlSER4OVdoRGVmdDN0NSt1bW5BUUh3aGdmaXFvN2sxNzcxM0Y3cVU5ZSsrT3pwOExYenI0alY1VXZpSXovOXdEK3BsTXVmS1pWS3g1dk5wcnFvWEtrZ0FPYVY3SThKTDloM2FYVWhFUEZ4S1dVTUZQV1UrTHc1cG4rbzQrWk9yMTdSMTdpREpNMDUvWjNxbGM0MWtlVFZTQmhHa2RVZXFlOFBSTnlYQ0crZ1kwRWduSG9rRFBCYzRMUnpwbG5iL3dCNDlFdi9ubm9mdEthbncxOTQvNE0vVnk2WGY3dlphTXkxMjIxb05CcXd1cm9LZzhFUUZnOHU0cGdGOFFBR1ppaEVRcHgwYUlRRkFQb3RSRlpkR05pQUlTUS9yNG5wbGlCSDRrUUdDQnBjTXZrZFA0aitSa2g4dW81QVVRcEUybG9HTGxPUE9xYS8wL1ZTM1NjaERBUjdKc0IwbzdwL0FhQUlINDlDOE1zZitjQlBWcXZWenlHMzMwMkVyOVZxeUFVQjdPenN3UEx5TWl3dExVRVFobmdzVk1jSkFFWUtKRFF6djRTZlVNTEQ2Y2x2TGhYQUJnWUhRaUFFY09GaDdvMHkrSEhxMHdRY2FwRVFtbk82VGZRVVU1OFFhY3NVWUtJVVhBUUFYbStqV3Q2ZkFDRGl2M0xtUmZIaEQ3eS84YTUzdnVPUmVyMytZUkwxeFBGRVlQTjU5ZFZYZ1k3WDlmRXdMT0VuakFkQlNRT2JlV1B1aTFXQXk5SG12SzhZOExqRU5lZjRBQm1WWTY0aElpbXhMWVI5dlFNQUtnWUFnYkN2VWVwRHhuV3ByaW4xbGdMR1NCVjZCZ2QzclZMYWZ3QXd4UC84YjMvNkhpVDhIN1ZhclJQVDA5TUowYW16aHZ2WDF0WmdmbUZCL1VaN0lBRUFXRjZBRnZIeEFVdnZNMG1xQnBkemNFb2NOZ2lXblpDZXQ3OW5BUkFUbFluMW5MNUhtdEFpQndBRFZCT2cyMit1SmJDRXBQSzB6dUx0cjViM0R3QlU4dzN4UC9kYnYvRzNXODNtVjZlbXB1YUl3em5YR3hCY3VIQkJjWDZ0VmtmaWg0cjRCQUtsQ21LbDdoQTdIVXhnQU1nU09XbU9aeEFNRVRuZnA5ZjVBR0RxRk5vb05lYzQrTXgzNmFnVTNtWVM5VU5sSjZUWGt6RklmUTMxWHdNS1UyY0Z4MlcvQUlCei9rK2dxUDhxY24yZGkzekQrZlRwOS90Sy9NL05MeWppbzJHWUFrQmZhN2lFRzFFQVdRN2toRWdCa0NXNk5STFNJanY0N3BEZ3IxTktHekM4U09lOE1mWWlKZjZqUkEwWWFXSUFZQ1NYQzZKOUF3QkQvTi81OUw4NU9UMDk5ZGRJL0JhSy93elhtKzhyS3l2UTYvV2czWjZDRWhLL1hFN0ZmeGdHWU1TK1MxZ3BSNHRnbDFpbUhsK3g2dDdEYUJuUHc1VVM2aHpZQU9EUElyTFNYYVQzQXcxd1k4dTQ2c3pVVmNheEtEd0FEUEgvNWNjL09uUDgyTTNmUkxGL3dvaDlUblQrKzl5NWMwQUFJUlZBM0cvMGYyd0lCaG12elV1ME1aeHZ1cDBiU3hxQkpMOENNVzJJYnpSMmhNK2dUSyt6NnpRdUg5MFhhRmZYVldXOHp0SitBY0RwYno4Vy9MYy8rTTlrOEQxSWJsNGU1NXZmTDd6d0FoeFlYQVIwRFpINEJnQmhjaDRBdk1ZY3A5a2tBRkM4WlF3eVJxQThBby9DQ3YrUmhvZHNTV0RWYndKSHJHRVVLekJFVm4xMTJyN3ZBR0M0LzVIZitjeURLUGIvbUZ2N2VTQVlEb2Z3MGtzdndlTEJnNHJ3NVhJRlF2eGIwZ0J3aVd3R3h1cE1ydkhuZHRvR1FGNXhYY0c4ODVtREdrbEpvTWlwUnpxaWpBQ1F0SXg1TnNGK0JJQWgvb2QrOXFlbjduMzN1MDdQenM0dW1RQ1B5L1g4MkdBd2dMTm56eW9BVkRUeDFVZGZON1lqV2ZjL1Y4d2JBSXpyL0NnQTVFa0tXOXpIVjJac0FzZkg5TlpsZVRSMjFKUEdwTkFBSU5IL1g3LzBuejZMZXYrVHJ1aDNnV0Mra3dRNGMrWU1IRHgwQ0NxVlNtTDlKd0VnWi9Bei9xWUFyeHZtbTAzZUN3QW00ZjVSODlVcDhmM0dJVytzWU1lNHloTk1YTkhsNUI0V0VnRHYrL0RIQXVMKzMvalVKMjg0dUhqZytjWEZ4Y280MFcrK1UzbnVPOTlSczM2eEFWaTIvWDluZ0gwQUdOM0Y5RTZEaXpmYWVWOWJaTjVGd09NTSt2Y1lGWllFamh5REpTZ3lBRll1dng3KzdzT2ZlZ1M1LzU4YjdoOGwrdm5mRjE5OEVhYW5aNkNHbm9DS0FXai9ueHRHZWJiQWFBQ2tRUm91VGE1bTUvTzlnK3h6NU5pNzNCNXdCaWl1Q2hEdis5REh3cDkvM3dOSGtQdWZSZTZ2R3d0K0ZPZWI0STZaQXhnTUl5Q2owYmlCUkRVVkJuYW1jTlVETXdBWXlZdkEzYjg4dlg2bEF5SkhITXdZZ2Q2N2pBTEl3bVhmQU9DKyt4OHFmZmJYZi9YZnpzN00vQXE2ZmhPSmZwN2tzYlcxQlJjdlh0U2VRQndJVWxQQnpBak0wLzNtK3lqSHpxZjdtZEgraGdaRGpqa3BSOTdsazI5Mnk5S2p4UVNBTWxnLys3blBOLzdoZlgvdnhZTlllUGpXQndJeStycmRMdXp1N2lZZjRuVGkvQU9MeGhWTUFaQVg1czJLZmx2a1d3TFU4ZjE5ZjYrMGpBTkEvalY1VDg0M000c0tnT0JiMy9yV3o4ek16UHdYZFAyOFJPOTBPb3JMaWRnRUFOTHhaZkwxa2VqYzhvL0ZmNmc5Z0t3Ym1HWUQ1VFhGaWJ0ZjQ4NmI0alVBZlUxbFRENitGeTVBaWdrQW9sRHc3Y2NmLzRzREN3cy9hZngrTThGRFJOL2MzRlNFcFNnZjErK0dRR2JlbndJL3l2MHJ4WWtnUEFmUWplZjdSOWJtblB4WXdMVXAwdjB5eWxETmtRdytGY1YvRjgwTlZPTC95MS8rOG9GNzdybm4vTkxTVWtqRUpDNG53aE9uRXlDcVZRT0tlRXJYMXYrcHRLQ1l2ekllbWU0WHlYdytzK0NUMlR0WGI1cEcrYTI5TEVTdVhuRkR3N21VZEJxUXFMTnhGTkxYRmMwTlZPTC9zY2NlK3lVVS9WOGdEdC9lM2xaRWF6U2JLT0xMaWZzVnAzWXg0anRHb0dVY2d0QWg0RFMvanpjNUJVQ2k5WUdUVnpqVzNyWGllSWMyZTcvWTlmMUhOYmlnQUZEaS80a25ubmdhL2Y0VE5KMUx2bndKRFRpUWh2QlpRNUFUbkdmNnVLbmZKazNLWnhIYlk4a0l6M3AzclFtZmJZZC9jQ2NCeUtnUU5vOG5GQWtBU3Z3ajl6K0VuUDhWY3YxVUNyZUtiMHZOeFg3aVc0UTJkZ0JQcjBxYy9Pd0FjaHZRTlpTRVIrUy9XV1d2cXNXckZYS2NnZ1FBSWg2blFnSGc4Y2NmLzc4by91OWRXRmlJYzl4MWR4VFJMZEVlV25seFFvalVWaHFicDI5bkFMc1dkZ3lhcTkvQkt5bFg2bExLVVJXeDc0VUR3S2xUcDRaMzNIR0h5bTJUVVNxcllnQUVpUTFnVy9RcHQvc2E0L1dnSmhqWmEybmtUVnF1UEtaZ08zOTVwWEFBZVBMSko0ZDMzbm1uQW9EcGZVSnd0a0RENTVQdkNRQTVqZmNGZGE1V0I2K2t2REVBeERYc0p3QUFBaUM2NjY2NzRnUUlFZ0JCYXNERnhPZUJIR2RHYk1MR1RES29vL3pwdDdiNDRPa0xDdXcvQUtnNm5ucnFLUVdBMUlwTk81SVEzMUx3bzZkRHJxUmh4U1crMjVweG9WKy8zT05IaWdZQVFBRElreWRQNXJneGV4WHNlVTNjazZkOUZlcmNhenRIMWJGM255QXZia1NsY0FBNGZmcTBCWUR4YVpaWDByeXJBWUJ4a3k1NTEwMzY3QWxrV0U0MDBEN0dBWkExREFzT2dQelo3OUV6SThDdTk0VHc1S2k2SmhwVlNDSkRHYWQ3VWd0RDdQM2NxRnZ5em1mRzhmc09BQTd4TEViUEFZQmJGWGlxSFp1a2RaVUFrT2VmVG9KdlQzVzU1NTJ4MmdjQUdLZmpKd0hBK05hNUpMT0ZnMjhXWmx4WDkrSmppUHd1N3NHS05RdEUzRGtMYVJZNldPMlNWdENzNEFCd1J3Szgrc3ppSnQ5WU82ZEg0U0lMZ0x5dTVuSDhST3lZMWpNTzQwNXRrWlQ1MVU2b0FuakVkQjhBSUcxNHRwOFRnZ0J5Q0QzaXVGKzBqK2hxTGlFbmtTSzIyRmRMdTh3T0lBbDNqODRWekZjUGZ0RnZTdUVTUXJ3U1lDSzluRDlmdTVlR3lmd3ZkbTNqNGpDWkEvNVd1UHNJakpKV282b2FlZjJJWU5BK0FJQ3Blb3pnNWpOK3doNlFTUnVXc2NWR1dXRVRlWUdUQnBSemJKZ1I5YXRjUmsvckpnYUFidHErVXdHNWx2YlY0SG8yTUdNQjRQNGNLWjl6YmhwbFNveXB5bHE0bW9mMkVaRlNVOTVXQUVoMzNwTFdzWHdBdU1OMkRRRGdQdGU5bWttMjNNMHRSd0RBOUM3UGh0amZBQmloaHpOS1FtL0VGRytsRWxtL3M2SS83OEE0QU9RWmZEazN1ZVpORGdETVRLaWJCSk9wMGhQemRZVy9DNFI5QW9EOEFjeWpqeDBQU2dsUGlhWG1ZL2JkczU0MWxwTTlJR0NETGE0VUFMNHJrMTArQXIyelNXanRjWkRtUWNqa2V0WnByOHNvNGd2M213M2dQR2JNazN6Y1Q4U21aZVAwb1Z4RDgzMm9wY0hJNGtxamtmNzJLQUNNYjd0MXRjNkFvdFIyK3FqMURrR29GN29HTUdxZFF1NVNjZGFxUXNjQnJtWXhuRS9yQ21nRkVTMDIyWStGOWoweWF5R01KSmkwdU5yQkFPRnRBd0RpZHJOOGJIRng4YXJXLzJZVld1dEkreDdGMjk2VTlnU0F2Q0srM3dGZzlEK0pmVnBPUnVzTWpodzVvczY5K3oyL0JtRlVBU2xDa09VQVpGQ0dxQnpDSU1UclE0Q3dWb0dwVmlzR0VFcVFjcVVLRlR6V3FKVmhyaEhDa1lVNnpFOU5BVzNCM08xMG9ZYUVvYTNhbmo5L0djNWMzb1hkQVlwdEdNTGh1U21ZbmhJdzNBRzRiV2thWGw1ZWg5Zlh0NVV1SG9vcXlBSFpJeDJseTZ0QlZZbjZlaTJDRytlcWNNdkJObnpvd1I5VzdUMS8vcnphQ1pVV3g5QTExd0hBaUd6djBDa3N2VzdFUDNFL0xTczdldlNvT3Y0RDcvMU5DQVlCREpVc3hPRVBxekJFSUF6dzB5WGQyeTdEd2NWWmFPSmdENUd3RmVTNlpyMmt0bGVkcW9UUVFqQlFyMHY0YWRhcjhQcG1BSC8xN010d2JtVUxGdHAxT0hMb0FJaCtENEpoSDlydENxeHNvOTNSMXhNeW9ZRE9vSWZBeFB0bEJ3NjFLbkRMZ1JtNDVlWkRFQ0pvNXFjcmNIeXhEWWNRUElkdW1GYnRwVzF2S0YyZXBFQzgvakY4ZXdKZ3JOSG1GR1A0MGRheEd4c2JjUHo0Y2RYeEgvbTd2NG5Ba0RBTUJFU1VjVnlxUWgrSjM2c0o2T0YzQWdRUlBVQ3BFSllDcUtKa21LcFhvTjFzUVEyQlVNVnI1K3RsbUcxVzRmSjZCNzc1MGdxOGVHbEhEUVJlQmswMDFKcFZBa29WRHM0MlliZlhoZFdORHZSUU12UWdBaUxmemJObGVPZlJhWGpIOFFOd1pHWUtEaVBSQTRGZXlxQVAyN3Q5NVFIY2RkZVM2c2Qzdi90ZG1FS0pRMUtBQUtEV1JMNVJvaFVWQUpiWDc0YThlS2lYUllGSEFZRDBQNG4vdGZWMXVPM1dXMVhIZi9USGZnczZjb2dpSDhWK3FZd0VSOEpVRVFCSThDakVBUzVYVVJUWDhGT0dXa0J4Y3dsbC9DNlFkQ1VFd3d4eS9XeXJEbkk0Z0ZlV2QrREYxN2RndlJmaDlTRWNuSzVCcXl6d1U0SVdYdGZDWjh3M2tPdXhyVTkrYnhsYlZZWjNINStISDd4MUZvNHZ6YU9VUWI1SGtQWkpIYUMwQ2NJaGZpb29iVUpzN3lIVkQ5cjZqamE4b0QwU2pSMXdOVW94QVNBOVVRMytNTDZ2ci82ZE56ZERBREQ2bnphUHZ1MjIyNVQrL0pzUGZRRjIrMFBVOTNodnVZNnl1QVFEckdXQW9BZ0Y2bTgxeUNGVUVCRE5Xa21wZ2hEbFBkSWJyeHBDQXlWQW8weUxUME8xTnBFSU4wQlZNejlWZ2g4OGNRU3FJbEtpZm5GMlJxbWV1NDdPSWZFYWNQck1hOGpkQW02WXFhRE9sN0E5aU5ScVpub09HaUpJOURLS2VZbkhZbi85eHBzV1ZEK2VlKzQ1bUptWlVXcUE3SUJKQURESlhFaUJBVERxYWNJdkhTQXJFUXdBaUFqcktBRk9uRGloQVBDM1B2RW9iSGY2c05NZFFEK0tBeTVTRHRTYk5TUUNvRVRSTnh6amFxa0NMUlM3N1RxS2N3UkVBNDNCM1dnSVcxaG5YVWc0Zm1nR2JweHZnVUN4UFQ5VGhaTTN6OE1KTk42Nm5SNjh0ckVKcyswV05xb0UwNmcyNnFndVpHOEFGMWUyWVJlTmowQWlvRWdkb0JvcVZXbnhLNm9jQkU1VnZmVWpBc1FuSERtYUFvQWtnSGtmd3RzYkFFa1lMVjg2bUVJR29BTEExaGFzcmE0Q3JUd2lBTno3OFVkaHM5dFRoQnIyNkI0RUFPcmZQaElGV1IzS3FQZm5VSm1UT0o5dW9pcEFjVnpHZnowRVMzZllSY3NkVlFzUzhmakJGcnozNUNIVTRlZ2hWTkZHcURWZ3RsRW1uUUhMbTl0b2hBN3dLOW9NV0Y4YkFVQ012YlpKWGtLY3hVT1BFMmlvb2k3Qkw2aG1xblhvb0NyWjNlMWkyM3Z3QS9jZVUvMTQ1cGxuVkF6RFNBQ0tCK3lWNEw2WTVqNEZ3SWlHT0Z2QmtWamVKUUNnQVVnUzRQYmJiMWNXOU4vLzFKK2gwYmFKcXFFTE1pTHVMMEZVUXM1REVkeENicHhxVk5EZHE4RUJOUFJtbWlRRjBHVkVvcE5iZU9Kd0MyNC9PQU9YZG5yd3lzVU5KSGdWOWZrOFd2OVY2QkgzRW1sUi95c1BCS1ZGTkVUYmdMeUhWZ1AxZkFUcnV6dElaR3hkYnhBVEpjS3YrSzJEWUVRekFOYVErTHVkSWFEUWdIOTgzejBKQUVnRkdBbkFBUkFISW1QeTUyNWV6Yit3dklOQ0FrQnQ0LzRHQVdDaXMzMFV6UjN0QW5JQS9JTmYrMU00YzZrTDY5c2RGUHVDMUs4S3RiYmJUWmhDblY5V080cEZVQmJ4L3J2TlZnMXVQOUNFTzlEL3YybStCamNmbkZKVytkcldOcHhIMzM2dWlXN2pkQU1mV1lhTjNoRDkrd0dJcUllRVF1OENaWGx6Q2cxRGxCQ3IyejFZMmR4QnJ3RFA0ME9IQ0lpZGJoODJPNmlxa1BvbGxBSTF0QWVVRVZvWDhJL2VjM3N1QUtRejZTTThET0NMQUpyL0N1c0ZSQ3dWNm9xYUluUk1BSmdLUUFDc3JhMmpDb2dCOEo1UC9nODRlN2tMVzJnRGtNNkhDcnA2QVluKytPVVNFcm0zZ3o0OFNtcm9rcmhHdFVFQXVQOGRSK0NXK2FweTlZNHZ6YWdWUytlWHQvR2FMblIzSmZyN3lNa0lLSEliWjJzU0RyZFJiYUJNS0ZmcXNOdmRnck9YK3JDNjJWT3JuN2VSMnp2ZEhmVU9vQm1LTWFDUldNWHZ0WElmM1V5VVJQVWEzUC9lMjd3QUtDa0ErQ2Q4T0JQNEVwYjQyOFlLRFlBcnFkalZjellBMXBRTlFBQzQ3UmYrTzF4Q1Fnd1U2MWVRd0JRTUF1VUpFQ0JrbExxWkpOVHBOeG5xUDNKVEcvN09zVm1vbFFKRi9FdWJmUVdBQ29wNEFzb2FxcFF5M3JRMFY0TzdicGhGOXkrRXkwanA5ZTBCWEZqYmd0ZnhtY1R4NUU2aW9FRlhNb1RETTAybGNpaTRSMjVsSFQyTWVoVzlFbnptUng5OGh4OEFhQVNPbkVrY01UYjdDZ0MrQjR4YldzSHY2VEVBckRNQUhQN2dINklSaUtJYU9WN1Nkbk9SL2l1STZvSDJOSWhNQWdrZnY1SmxnTmNmbTIvQS9TY1g0STVEVGJUZ0JieTYzb1Z2bjEyRE02OE5FQVFoSEVYcHNEUmRRUUxHTHVLbGJRVElXZ2MyVU1Sdm92aW5xT01SOUJhT3pwWGdRS01PaTBqOGFVUkNLVUNqRWkzQ3JRNXRleWVoaSsxZVJ0WDF5Qy8rcUFXQTFvUmVnUHNTS3A0Z1l2NFVhWWVRREFEY0tNQ291Zk5SRGNnRHdOS0h2d0pieUdKUktlYjYvcENDUElGNWE2VEpvbzhqZS9qZkVscndoOUFPT0RaYmdSODZPZzEzM3pRRHM5UG9zNWNsWE42UzhJMW4xdUd4Rnk3Q0VOWEhBVFFHdDlHQ2YvbnlOcnk2aVZJSXJid0t1cGd0NU9wN1VZTDhqWnRuNE03Rk9yUXAwbGlwUUJmdGdlVk45RkxRZGxqZGl1RHl4aEJlMzlxRnRXNEhIdjNrajZ0K1BLMEJNSVVBcUpJTm9BR1Fxa3VXWUdBOEpEMzN6d25QWXlaRjJ5VXNBVUQ4MmhNYkFPN0RQTXRDOWdTQTJZLzhFVW9BTlBCQ0UxcU11WjY0bi94ekFvTlVtVGlSaWduYzFHakFUNkRvdisva05CdzdORVZlSHVwdUNYUHRHb3J4S216czlPRXIvK2RsK05OVGw2QTNwSHNqVlcwVHZZb0ZCTXFOTXlFY1B6QUQ3NzV4Q2hiUUlLeWpDdWxTZUJqVnczbFVEZCs3dUFzWE4vcXdocDdGNWk2cUROb0FzeS9oNjcvK0h0VVBrZ0FtRGtBN3BkSG1sOG40NUdTSW10d1BuMU5GNXdxYkZXeEpBTTlLcW5HWjl2eEliQVBzd29ZRGdLbWZSd0NnQkZBNStESlFmNVh4aElDb1FMeTFYSWhnS0FVeE1Fcm9LaDZmUmZmeHpubjQ4ZHNQb05XUEtnTWwrbFNyREhOSTBMWGRIdnl2Wnk3Qi8zdHBFOXNjNi9BRDdRcmMwQlRvUXBZVVVKYlFTNkFJWWdmZHdoVWs4c3BtQnk1dDdNQ0ZqVjA0dDRKU0FDVUplUVA5WVJkVlVkeUh2M3o0eDFRL2lGQ0pDcUFvSlk4RHlCeEdFZlk1bm9aT2hmWlNMRFFBak1WcVhxa1dpSHpMTmdNT0xjYjdMQTdBamNEWlgvd1RXRWUvVzZEbFgxTUpGckhJSjR1OFNsdlNxTm0yUUJGVG9FVG9EaWhJRkFFeU01eGNiTUdkS0FVT29nRjNLNHJ5R3hhbTRmbmxMdnoxY3hlVUFUbVBIRHFuaUE2bzMrT1hWTlZyVldpaXZUR01rTHVSeUtzZGdFdG9HNnhoRzlaUUJXeDJhTVlTUFlnQjlpSWNLcU9VK3Z2MVgzVUEwQ0liSUU0TTRmMzJjam1qakhsaldLd3BoQVpBd1NVQWQxbmloNGlSbVZXK1RPbWhEZ1Z2R0M5QXh3RSs4Y1Z2d3ZNb2VwZTNjUEQ3YU1HankwZWJTNUw0cHhqd0FLVURHVWtOSkZvdGlIMXVpZ2tNMFZpN3RCTlJEQWN0L0RJY202dWlRZGhXczRLYnZiNXFid3VsQ0ZrVUZOZnZJcmQzRUlSVDVPSWhZVGZRd0Z2Qlo2NGhDRFoyOERjK3AwdXZoUjMwb1R3QU5kRTBET00zZjVIMCtiTi85VU1PQU5KSVlENEEwcEZ3WDBtWHZydXd3QUFnR3lCZE1lTmt0cnJ2K1pQcGdrZXkxSWxva3FtUWZwK21nN3ZLQmxqVm9XQUN3UC84MzJkVUtQaVZqUUdjZm5WZFJmVlE2RU4vRU1ER1VNSk9md2dIYW1XMDFGSEV0MUNVejliaHhFSVZwdEd2Lzg3bEhqejM2aFlhZHlWNktFeFhwWklJaDZacmdKb0E5WG9ITHU4Z2dmc1JyR1A5MitqMmhRZ0dPZWlpN3g4Z3R3K2hRN21KTXZZOEtpSlUwOEFsVkRsbC9CdWJJM0hDeHgvL2kzZmxBb0NUVytZYUE2bmtOQUF3ZzFNdXFnb3dyMGxQR2d3bVM5YVZDR214M3ZyRnBFUnNBM1JoYTh1T0EveUhQemtGaS9VcTlJTWFuTDIwQmhjUUFPU0NiWGVRYUVqOElSTGdNQTcwZkF0RitsUUk3MXhxb0FHSFJsaXJnYjcvQUgzL0hSVGpRelQ0WXRYUlE2VzlUU0hjWGdUTDJ4Rzh0dFdEU3loNXV2MUF1WU1SL1l2b3pkOHhTT2tONExTUGNRM2JTRFpIcUZSUXBKUWRXZWRrZjBqOC9QNUhieDhKQUIwQTF0NkEzeUxpek1UNXFWeTBGMGU2RW9EdkZhanNjdUdmMEhCRm9IQUFRRGJBTmswR01RQjg4Tjk5RXhZUUFQR0RrQk5MbEd3WktjdCtRRy9ocEMxcVpSbG0wTUkvU05sQmJRRlRGSnpIWTl0b25hOGdzYmQyNDRoZG80bkhVSCt2b3M4L1FBbXlpZHg5ZG1VSFh0K2h1YjVTOGlKSFVVTDdZamhRTDJ3VXRKY3hnb0hlMzF1bFNHRVFoeDlBSjRzRWFuSkt3R2MvY0hNQ2dHa0tCSGtCa0k2Qm5aNmVqcDFaSHNwMjN5c3dBRkJ2eG5pMnVkMStvM2JLN1psMzVyQVdtVWdnYlRqTnZZQWYvc3hmb1E0V01GdVJjSFNtQ2tzekxiaGxjVnBGN2lRYWFqMjBIY2dXcUNDQjJtV0JCaDFORUZXeGJSS05OVHl2dUJsVXpnQk5Hd3VVQVAyK2dMTnJmVGg5YVF0ZXV0eEIzUitwRkc1eUpZbWpDY0hsS05hOUt1VmJ4UGVUbXhtR2ZUVVhvVlFaOVg5SVdRZEQrUHdIajVteFNTT0I5Q29jVHlBb2t0a1hTbkZwYUxiTE5kZnNDd0RrdVhmWmtpbzNyZ2E2YUpoMUZRRGl5U0FEZ1BkLzhYRTRzOUtEamUyaFNzNmNxZGRnQVMzM0prcUJOazNkMXNzNFFCSWE1QTRHVlpXZHM0RDJRTFZXVVJsQ3MyZ1hVQVNQbm9IMkhJcDlDV2RYZCtBOEduaXJ1L0ZVY1l6UzJLQlRyNjdGcTdIS09JbUVaRU5JcW80RVA3VzFyMllGcVZCT0Fxa01GRVh3aFg5Mll3SUFuZy9nVGdkTERRRFhERENqa3V5eENLbTBLQ3dBS0FzMzY5aGxvUzNBdC9iVmZ2TjNyMmNrd0taS0NidFRBK0NYdjNRT09TbUVaeTVzdzR1cjZINUpJazRQRGI4U0hFTzM3dkJjQTZiUUxLOWdSWDFVRVYxYVRVUXpmUGk3MmFxamoxK0grUm9vZStYYytnRE9rVXRIY1FXVTMxVzhubHpIT0hNM1ZMcWRRcmV4YWdxVi9vL2QybzZPUXdqQ0NkWWZZMENxSkpFUUJtaFFmdTZmVmxVL25ucnFxU1FPUUlHZ1NxVnN4VW9TaVprREFBQklWSkZhTElObktPZXhrQURvRDRlUW5jN0lhdjljQURDeFp5S0JXOW9OcEgwSWlURDNQL0p0bUVGMkxEZWFzSTRpZmFQWG9YUVBtSzlYNE1oQ0EwWHdEcXFDdmhMelFUaEFFZDRqT1krMEltS2lMaWY1amJiQ1puY1hMbS9GeGg0WmNxVXd2a2R4R1A2ajNMNkl3RkNxeE84d1FOMU9ka084emYwUTI0TGZvd29DQURsYVZsVGNnU3lBWnEyT3FrREFKMzdxSnRXUFUwOCtCYk96TXdpK3Rzb0pqQUVnY2dtZlI2VlFjd2JaVjZUZUNnd0FYcTF2bVdNV0dPYWVnSjEyWndNTkFINzN6eitHWEwwSzdXWUlzMjBKOVRJYWNKUzhnUi95eFRzN3UrZ1ZkUEdhQVdyaUxocDNIYlQwOFc4ZnZRWDA5YmJ4MDBVM0VuVFltREo2aUhhOWlQUitYNEZCbWYxSTROS2dwSXc2NHR5d0ZDbUFWcXFvU3REeUsxR21VVkNCU3RqRzU5SnJiMnA0UDdxYmVMNVNEZUY5OTM1VjllUHhVMC9DM093c0FrQWJnWlZ5aGk5Y2JwZDgzSmlYUk9kSVhWU0xDb0NlVWdFMm40OStuR1JyQXNBQ0FFbUFMc3NKUEtrQjhJZFBUMEV0N0NsMTArM0ZSbDJuaHpLZ2l5Sy9Hd0VhK0RDazcyamRieU9uZDdxb0J0Q3FwL09kbnM0UlFIRWZET0xuTmRzVVRTd2hlS2tkZlRBS25UUi9nRFlHSmFVTThGeFlwcWdpaVY4QkZZbnFvRUpnUUp1amhwS2xNcVNaYWFqZzl3b2FweFR1LzlmM3hmVTgvdVNUc1FwbzB0b0Exd2JRc3BDNXpOU215RnF6S09NNUZ2M2lMQVhDb3FvQUE0QlJGYnVSTDI0Q1psVEFibW9FR2dCOCt1dExzSVZXK3JBckZSY09KVXFBTHFXUWdSTExjaGdnb2RHRjdBN1VWSEd2SjVVSFFKelRHNUFxa0xHWGdOWjlwWXpHWWl0UUlyM1RvUVFUdEJXR2xDMGNxV2dnS1lOSWxtQjdvNk9ta0xkUXF0VElGc0E2YU0wQkVhb2NvblZRcHF4Z29hYVNTMkdzYnI3NE01ZGlBSnc2cFY2Z1FVWmdYYjBRczZUNUlqdENnYmFDalFRdzhaTmhsQ2JhVUN5Q1ZGRnhBZUJPQW8zWnRjTjJHZE9ZZ1FIQUpnSmdBd0Z3RDlaUEhQS1JSNCtneU85RHZ5T2hKdW9nS1RjQUgwSWNTQmI0VUtWclVkcGVGNjlCc2xHV1VDelhZUURLbDBOOUdxcUV6aXBaK2tqOHNGeUJYYXl2aDBEcUk2Q0k5clNXZ0JJL2hwMFlTSDBrZExWYWhoMlVTbmdMMmhPQk12NFVuckQ2Y2psR0w4VUk2RzBwZi9CenI4WUFlT0pVTWhkQUVvRGVoMmlOQk9QNndIa2Jtb2tDUnBGTWZwUHhXYThVRlFDRFZBSmtBeHZDc1FqOFhvS0pHUmdiZ0FKQjZ4b0FWQjc2MGtFY1pGcklRY2tZWWJ3Z295SlVwRzdRd1dlZ1lkWkZkNDRzZjVVaGhIOERPVkNHRTdsUE5HV2dscGtQSTBXNVBrME8wTkt5bm9DVjVUNzBFQUR0NlJvMEtIZXMzMUVjRzVGM2dPcGhGbzI0QWRKdmlLcUhGb1NRTHBHbGhzb2dsdGltU28xbUlnZG9vQXI0L1lkaUFEenh4Sk1xRUVTUndDcWJERElsRUttZno5K1JiQVBBVnFnTmRHa0xDWUJPZjhCbTlkTFpLL2VGVHVtajQ5OVJ4S2M3WTFXUUxBd2hBR3hzd0Qyb0FxaDgvTStQeGV2b0k5VHpIYlRtdHlLVkV0N2RSQU52azlZVW9odUdRQXlyZ2ZvcktmS1AzZ0FaVHRPMUpzaE9uTVZMd2R1ZFB1cHJTdjF1Q3FDa241WGxIZ3o3dEJTOWpyU3RxSXp2TGtxaEtpV2JvaWRCSGtTalZZWE53VGJhREpSMGltMUFsVk5DSTNHQWhtVlp2UndEcjZ0TCtNdGZ1YXphUzE0QXhRRmE3ZGdJSkhzand3WkpIb0J0Q0lPakF2VG83QU1BWkd3OWUzOGZsL3RWM0NYcGVReWJ3VkF2RGR2Y1ZtcmdyanR1dnhwTmZkUEw2V2VlVmZxL2lVWmd0UnEvSERQdXVVdzRuNWRRallOSU00ZlpyaUdHU1pvb1NRb0xBSENTRjB5eENSOFBnWkxIWUcrTmJncUphRm9jU3F1RFNRcmNlc3V4cTdLMCtzMHV6ejcvdk5iL2RSVURNQURnOFRMMU5RNHJhamVRYlk0RmFXNkZLYlJ1c1pBQTJFVXhhTWY5bWVoS0pnQ1NzK0NxaFloL1Y4dkRVUTJnRk9qczdDZ3BzSU5nSU5ld1Q5dkVXQzRuQzUyeWRvMUtPNXRrK1pWa0JFcCtlK3JuZmFWb0pSbUJsVXBWRVgxcXFvMzJSRk9IZ1V0eHdvcVRDU015dlpDV0JKQk9ROXRvVEJZU0FEc1VZUEdPWkRyVFowOStac05nSmp4S0FDQWRIbThTc1FzN083dHFkckNQcGpyRkFHamloZmNpTjg5d2dwWElBSkJybm5vaUY5bDdyQm5OUUUwVWxkR3pxQ0dobW8wR0FxR2h1VC9VR1V0MjVRWUE3aVNaWk11b1RhNEVnYUd3QU5qdWRETlZwNGtmMG9yMVMra0xGTm1IekI0QmZiMVRDSDN2YWdENHBwRjlSSFRkVXZkUmZOcWFyOVFaMFN6N2dKMnhyZnBLT1hzVThTT0x2MEcrZjZXUzdBMGcyY1FPdjFINDlhYjFWZWlrbVhham9BQ2dFQ3p2VUNTajVDRW0ycGM4V0Q4NTR2dnVPb09pdG9Zamx3MWRRaUkrZmN4MmNkNFF1dE1iSVIycDRNdE90YWlYL3M0NHFieXVKR25Uc3c1Q3pTQlNNQ2xVWEY4cFY1UktJSWtRNmwzQ2tzeHZLM0VtVTFFV1hQcEx1MWxVQU93eUNXQ3lnTXppUjMwNDRsUEZYQ2Z3TUtEdWRiSkhvTm9lcnE5VUFxa0dhNXM0SjlYTUpXUnVwMzNYT0hwRTVpbDlueTFyVHVsdDRtaFdrREtINk4zSlFiSlhvTEFBNEN2NWoweDhSWmdxckFSQUFFakpkTFBMTXVaL21TZG1aV0lzR3U2Z1NSN0tNNGdvMktJM2lZd2lhZDBsdUE1d3JVQkdWTCtMT240a1J0aXRtWHVsVEtkdkZlSHBoZG1oL2RyY05NSFRid1B4UFlVemp5b3lBRGEyZHoyRGw2YUhad09kZGtQU0pBaVJwRVBUUDdVN3FPWjZGVFF5SThXcGtwZDdyaSt4cEk2dkNaT01oSzVmY2dDNmFvZTk5Rm9SWGdUNkxlbnB1V3dtc0d2Q0p1OU05elp6cWxrdkpnRFd0M2UwUHh0M0lzNFBUTE5hckRWdWlSN05Oc2dZaTZrMUhGa3paRHg3Mk9xSXEwWWdmWWJsSXViNGlybjdHK1RaRFRtako3VCtGa3prbStaTlB1VFNzWmxTSmlvc0FGWTNkMUl4TGxNS3B5cmVqbnlsazBYcEFlRjhWL2ZJS09VSXRwMmNGd1JjRXNnY0NaOG54a2RJRUcraWszTXQzL3ZJUHUvTWlVeVNCQUorQTFHcGdPSUNZRHVaL2N0a3ZaaUFoelA0TmpNeXpnNVM3NWpESm1haXdIdC9ZcDI3cmhhN0xwZCtvd0FBMlp2NFM3TEhsU2lhN0RyM1labWtXZDN0Nldham1BQlkyZGhPMXJHWlBwdUI0c0dPZUk4ZGU4ZHZBNDVNc0pldE5qVVNOQThFRnRGSG1Oa21zeVpnUVpaTVplT2tRYmJhV0cxRnJKNnhHVjl5eEJsenMvMHdlc1owcTZBQVdGN2ZpaHN2SUxYVXRiNVdpeUFneW15Q2tHNFl4bDR0N3phT0hiQ21qQmlSOXdLQ0FQelN3VHJnVVJGbURVZUNnYnpSazc2dkU4bDlkclZNb3BpU0FZRyt6cllMQ29CTGExdmF6WXYwWU1VOVNFd0NzQ2MxZlBINzJLVVREa0gxZlVGOGhCOXpJMmlHdVBreFBYL0hMUTNneEFqeXZNdGNhY0g4eHIyUjNTNUdtdHF2UmhERkJjRHJxeHZKMUtWWkFKS21OcVU2V2lReFladE05Q3UwMk56Sk1SYkFYa1hQd01Tb2tlMVF2a3dYem5lWHNIbkdXb2I3cGJRZWs1M3ducXhrZ2tEcVZYVGdTSlFDQStBaUFrQWxMeVNSTGcwR1BkWEp2VFEraUJ3S3hsc1FEQVM4b1NsNFV2TXdWUWZ1MnovUzJ1MTQ1S1NkOTVQUEcwa1VEdWhIMXNDZWtJa0pwSlc3czZubTEyeTdXVXdBdkxxeUhuT0E4ZFAxb0pqMTdXbTJTMHBVSzg1dEpFUWc3S3QwSE1GU0Y0RjlIMGtHSTNBRERneUkxWS85eER4cHNmZkJreE1jTThXTjh1bWp1ZlZMZmpveEtpWE1UYlVLQ29EbE5Tc0pOSEhxb2lqaGFDc3dZcTcwY0xsckVKck5uNUtvcnhQekVhd2UrejdmY2M5MXlhQkw1K3drbVFQK01xbS9iL2ZDTmh0OVlDa3NBTTVmWGt2bnJVRnpKNHZEY2c2d2czWTZ1cWN6Zml5YWNjNW5JT0N2YWpYbnBmVzZOdFpCUjkvdzU3cEJhb2ZoMkNCbGg4clAwVmRhL0hrR1dYZ1VXQUtjdTd5cTZTMHRmY2oxNDdpR3BEcWVlUUpDV0JMRVhKOEVsaGhSK2J5OGJXOEkvME1qc0EwdEoxYVZTcXR4UXpVbVREanlUdWxGbmwrOUZCZ0FTZ0pFVWFZdlp2TEVlbVVhSHlQR3JiYkkxMS9acXBqVS9FdXZveEpveWhuQW1ibHprU0luMDJFSmFlQXBFN2wxdUh0OEhEOWZkcVJxUmVUY2FiUDZHS3VndUFBNDkvcUsrcTJDZjBKYWdSTlh4SnBCRlRvMnJocGlETHZrdkNFdXhLc3ZRQnVTMmdBUUtidmJLa1hrRExkV0llNEpSd0FrN1JRT054b00rR3VYR1JrUVg4VXpqYkxCQXN2UWMrN05sb0lENEJVTmdDUUlCRHJSVTNOVG12MWpEMkhNaVNrSFc5eHViQURyRmF6SkhVa3ZiQU14UjJBbjlvUTlLUlVJL3pEa3VYS09YWmxlNHhFQ3lTeG92cTJYclNlbkxXYkoySHhSQWZEeXhXVnQvS1hONVhzZlpDMXNNMGptU0NwNzZWdGcrZnpPZC8xL3VweEFHNGptT2xNVk1GNnpqTWkwQ2VwWjRNNVVwcExDbXVYYjY4QjVkUG9vVjlFN2ZabGExS3JkODlORkJrRFMyWmpZa1E0Q3BYdmQrVVpIMkZhNzRXYkcwYW1ZRml5aTZMRUZiRG1kY3JIeFBOUit3cHdvMHBJZXlYaDdCMHRNUEdLK3k3eEV6d3Nqcy9aYm1jaklYUFBUQlEwRXZmemFjam9GRE9ua1NkeXZkRTQwelJLMnJVRFhkYk00R2xJcDRCcUtYT3luUWlQYk5lTmgrRmJrQkM0MGMwWW1vOU92WUFUZGhSNGVjMEo1Sm02Q1NxeG1DZ3lBczY5cENTRDR3b2FrNmNsZm5oMGt2QU12R0xHVFpBTGdreitXTDgvSFVuaEFBL1o1M2lKenJ4czk1T2NtY2VwR2dvR0ZHdkl5aVpOTGZWblN5WSs0alF0RlZRRXhBQXozeHpMWGZzczNDd0hxdjBJSGdkeUpIMFZzN2hWNE9KOWJBenhsS3ZPcWR2TnNkcHpyZFo5UjV4S0dVMlNVZE9EOVN6T1htUHRyVitVQnFJVVhiMDVCc1FHZ1cyeDBQcGNFWEo5WlBqZnJmWW9OemZXSm1jQTVYVUFTTXhSK2FXQ21sWk9IQTFpU3dTS0F0akd5d1NUZmdObkdBbi9FdUJWSW95S0c4WjdIOWxqeHRwaDd5Y1lwc0JHNG92UDNCRnNUa01hMExZdmNPOGdwQjZYNm4wa0FEZ1oydlJzM0VOYU5UaWM5VkVwdEJ3WU85bXBiNnpvdXJzRmU0V3RKQU9uNUM3WVVTTUdVcHRCbC9FVWVoOURWRjFZQ3hBQ1F5UUJ5OFI5NTBXK3ZKSllXMGRQQmpQTkFmSVpnK24rY2pCbzRrc1ZqQnhpMWt6dy9KMmdFV1lKbkJpN2pxcGx6d2dLSFR3VkFVbmRlUUVCWUVwUkx0dm1wZ2hxQkJnQ0oyd2Y2ci9UTmJIa0drUUdBdHk3UjYrbklRUXFYZEJBRkMrcW5oTXNtbFNSanpNUjJBS25FU0NMVlRQcFlGMHNIT0p6VEp4bDBwN29zQnV4bHMvWk1hb0dOd0ZjSUFOb0RTTzA5bWV5RTZZTEFKLzd0ZUFDYjlyVUFvT01pbHVFbzJQRnMwQ1lONVFvcmF1ZDZBWGFML08vejQ4YW1kekJ6amNSc1BhT3V5QUJGbDZJQUlMa1hBUkQ1QU1BRm41RUVxWVU4b2xKdURDWXVrUmJjWXlLRGFhUTRUUTFQUUFFaVdhNWdUZ2JCNkpsS0g1Rk4wd05tYzdoN0NleTFTRWMwV1NGenh5MDhrQUlneUZSenBVUzhnbnVTdndpQWdRRUFGYk1BTkNVeUF3RzcwWFp6akpGbnhLc2VUWk1ZYWNVR2JBRHdTcmxCS0RSbHVEaVh6cURtRFlSdkZ0QVhYeEtzbmJ6aVNRWldNaW1XR3A2c1pzcytnaVQ2dVpBR2dzcjZsQjFvMlFNUTlnb0E0ZnNnQUxyeFpOQXEyOXJFQm9Ga01RRHZ5Nk9UZXhLRnA0OUw5ajhBQ0Y4OEFISUFBRTc5empQNVlMczJ1Sk1md0d2MzZYMWgzMklCSVJFNFRCSzVWRXI3bjdiZlIwbTZsd0dnQmlrQWZKK3JDZ0JPOUVCL1FnMkFMUUxBOTE1YnRxYkZET2RGa1hSR0p6dkk1b0R3alNpL1NkaUdvbVVYV01SMXBvakJFYk5nVldrL3prT2RSR3BKc092Tlc0Vmt0UzgyVGhQYkliRTM5TVFVWXhhdjE4R3NSZnEyT05NMkFKZ0NzMDgxd0ZCL043OG5Bc0ZlQWNBSlg5Si9Rd1RBTWdIZ0pRU0FtdnZSMXA1a09qdDU3dzBiWDg1SjBpRStIK0EwemN3T0J2a0hPeVdLS3dVeWMrL2NBM0NLenlBMHg3bVVFcEJ1ZFd2VHpDTXRPQzBoZTMxcW1raTdIbWxmdHppVDJBQUhOTUdIK2pQd0FPR3FBSUJ6dmlGK1dYOUtDSUFMSi9WR2p0ZkxtMU0wQU9pbEJJYndmZjNoSUJnckJmWUtnRkIvS3ZxalFQQzFyMzN0aTdmY2NzdFB2ZFdEOG5ZcUw3end3bDg4OE1BREh3ZWIrRDM5TVJMaG1nREFjRCs5RWNHQVlCWS9SL0F6dFljNnI1Y3JMeHY0dVlDZmRVZ0JRSVR2Z2kwRnJya0VNQUNJMzVkMG5maHZaaUhDR3YzUHVmK2FTZ0N2RFFEWEFmQldGQTZBYTI0RG1HdTlYZ0E3dnRjNnI1Y3JLNGFveHRxLzVsNkF1ZFlYQndqWThldmx6UzJHd3cwSXJta2N3RncvNm5POXZMbEZ3aHVNQlA1LzNnTE0ydG5GdlhnQUFBQUFTVVZPUks1Q1lJST0nO1xuICBwcml2YXRlIF9zdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gIHByaXZhdGUgX292ZXJsYXk6IGFueTtcbiAgcHJpdmF0ZSBkZWZhdWx0VGl0bGU6IHN0cmluZztcbiAgcHJpdmF0ZSBkZWZhdWx0VGFnOiBhbnk7XG4gIHByaXZhdGUgX2dhbGxlcnk6IGFueTtcbiAgcHJpdmF0ZSBfcXVldWUgPSBbXTtcbiAgcHVibGljIGltYWdlczogQXJyYXk8SW1hZ2VNb2RlbE1hbmFnZWQ+ID0gW107XG4gIEBJbnB1dCgpIGluc2VydGFibGUgPSB0cnVlO1xuICBASW5wdXQoKSBtYXhJbWFnZVNpemUgPSAxMjA7XG4gIEBJbnB1dCgpIHNhdmVVcmwgPSAnJztcbiAgQElucHV0KCkgZ2V0VXJsID0gJyc7XG4gIEBPdXRwdXQoKSBhZnRlckluc2VydCA9IG5ldyBFdmVudEVtaXR0ZXI8SW1hZ2VNb2RlbE1hbmFnZWQ+KCk7XG4gIEBPdXRwdXQoKSBhZnRlclJlbW92ZSA9IG5ldyBFdmVudEVtaXR0ZXI8SW1hZ2VNb2RlbE1hbmFnZWQ+KCk7XG4gIEBPdXRwdXQoKSBiZWZvcmVJbnNlcnQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBiZWZvcmVSZW1vdmUgPSBuZXcgRXZlbnRFbWl0dGVyPEltYWdlTW9kZWxNYW5hZ2VkPigpO1xuICBAVmlld0NoaWxkKCdpbWFnZUNvbnRhaW5lcicpIGltYWdlQ29udGFpbmVyOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCdpbWFnZUlucHV0JykgaW1hZ2VJbnB1dDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnaG9zdCcpIGhvc3Q6IEVsZW1lbnRSZWY7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSB0YW1pbkxhenlMb2FkU2VydmljZTogVGFtaW5MYXp5TG9hZFNlcnZpY2UsXG4gICAgcHJpdmF0ZSBjaGFuZ2VEZXRlY3RvclJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgcHJpdmF0ZSBvdmVybGF5U2VydmljZTogT3ZlcmxheVNlcnZpY2UsXG4gICAgcHJpdmF0ZSBodHRwOiBIdHRwQ2xpZW50KSB7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgfVxuXG5cbiAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xuICAgIGNvbnN0IG1lID0gdGhpcztcbiAgICB0aGlzLmltYWdlSW5wdXQubmF0aXZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgaWYgKGUuc3JjRWxlbWVudC5maWxlc1swXS5zaXplID4gbWUubWF4SW1hZ2VTaXplICogMTAyNCkge1xuICAgICAgICBjb25zdCBwZXJzaWFuTnVtYmVyUGlwZSA9IG5ldyBQZXJzaWFuTnVtYmVyUGlwZSgpO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gcGVyc2lhbk51bWJlclBpcGUudHJhbnNmb3JtKCfYp9mG2K/Yp9iy2Ycg2YHYp9uM2YQg2KrYtdmI24zYsSDZhtmF24wg2KrZiNin2YbYryDYqNuM2LQg2KfYsicgKyAnICcgKyBtZS5tYXhJbWFnZVNpemUudG9TdHJpbmcoKSArICcgJyArICfaqduM2YTZiCDYqNin24zYqiDYqNin2LTYry4nKTtcbiAgICAgICAgbWUuc2hvd0FsZXJ0KCfZvtuM2KfZhSDYs9uM2LPYqtmFJywgbWVzc2FnZSk7XG4gICAgICAgIGUuc3JjRWxlbWVudC52YWx1ZSA9ICcnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChlLnNyY0VsZW1lbnQuZmlsZXNbMF0pO1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBtb2RlbCA9IG5ldyBJbWFnZU1vZGVsTWFuYWdlZCgpO1xuICAgICAgICBtb2RlbC5zb3VyY2UgPSAoPGFueT5ldmVudC50YXJnZXQpLnJlc3VsdDtcbiAgICAgICAgbW9kZWwudGl0bGUgPSB0aGlzLmRlZmF1bHRUaXRsZTtcbiAgICAgICAgbW9kZWwudGFnID0gdGhpcy5kZWZhdWx0VGFnO1xuICAgICAgICBtb2RlbC5maWxlID0gZS5zcmNFbGVtZW50LmZpbGVzWzBdO1xuICAgICAgICBtb2RlbC5pbnRlcm5hbElkID0gbW9kZWwuaW50ZXJuYWxJZCA9IEd1aWQuY3JlYXRlKCkudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKCF0aGlzLmltYWdlcy5maW5kKGMgPT4gYy5zb3VyY2UgPT09IG1vZGVsLnNvdXJjZSkpIHtcbiAgICAgICAgICB0aGlzLmJlZm9yZUluc2VydC5lbWl0KCk7XG4gICAgICAgICAgbWUuaW1hZ2VzLnB1c2gobW9kZWwpO1xuICAgICAgICAgIHRoaXMuYWZ0ZXJJbnNlcnQuZW1pdChtb2RlbCk7XG4gICAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgICAgdGhpcy5fZ2FsbGVyeS51cGRhdGUoKTtcbiAgICAgICAgICB0aGlzLmltYWdlSW5wdXQubmF0aXZlRWxlbWVudC52YWx1ZSA9ICcnO1xuICAgICAgICAgIG1vZGVsLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICAgIHRoaXMuc2F2ZUltYWdlMihtb2RlbClcbiAgICAgICAgICAgIC50aGVuKHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgbW9kZWwubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICBtb2RlbC5ndWlkID0gdmFsdWU7XG4gICAgICAgICAgICAgIG1vZGVsLmxvYWRGYWlsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2gocmVhc29uID0+IHtcbiAgICAgICAgICAgICAgbW9kZWwubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICBtb2RlbC5sb2FkRmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uLmFkZCh0aGlzLnRhbWluTGF6eUxvYWRTZXJ2aWNlLmxvYWRKcygnYXNzZXRzL3ZpZXdlcmpzL2Rpc3Qvdmlld2VyLmpzJykuc3Vic2NyaWJlKHZhbHVlID0+IHtcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uLmFkZChcbiAgICAgICAgICB0aGlzLnRhbWluTGF6eUxvYWRTZXJ2aWNlLmxvYWRDc3MoJ2Fzc2V0cy92aWV3ZXJqcy9kaXN0L3ZpZXdlci5jc3MnKS5zdWJzY3JpYmUodmFsdWUxID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2dhbGxlcnkgPSBuZXcgVmlld2VyKHRoaXMuaW1hZ2VDb250YWluZXIubmF0aXZlRWxlbWVudCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHNlbGVjdEltYWdlKHRpdGxlLCB0YWc6IGFueSA9IG51bGwpIHtcbiAgICBjb25zdCBtZSA9IHRoaXM7XG4gICAgdGhpcy5kZWZhdWx0VGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLmRlZmF1bHRUYWcgPSB0YWc7XG4gICAgaWYgKHdpbmRvdy5oYXNPd25Qcm9wZXJ0eSgnY29yZG92YScpKSB7XG4gICAgICB0aGlzLmNoZWNrUGVybWlzc2lvbigpLnRoZW4odmFsdWUgPT4ge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICBmaWxlY2hvb3Nlci5vcGVuKHsnbWltZSc6ICdpbWFnZS8qJ30sXG4gICAgICAgICAgICAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICBtZS5nZXRCYXNlNjRGcm9tSW1hZ2VVcmwoZGF0YSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKHJlYXNvbikgPT4ge1xuICAgICAgICAgICAgICBtZS5zaG93QWxlcnQoJ9m+24zYp9mFINiz24zYs9iq2YUnLCAn2K7Yt9inINiv2LEg2KjYp9ix2q/YsNin2LHbjCDZgdin24zZhCcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICAgIG1lLnNob3dBbGVydCgn2b7bjNin2YUg2LPbjNiz2KrZhScsICfYrti32Kcg2K/YsSDYr9iz2KrYsdiz24wg2KjZhyDYqti12KfZiNuM2LEg2LDYrtuM2LHZhyDYtNiv2YcnKTtcbiAgICAgIH0pO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW1hZ2VJbnB1dC5uYXRpdmVFbGVtZW50LmNsaWNrKCk7XG4gICAgfVxuICB9XG5cbiAgYXJlQWxsSW1hZ2VzVXBsb2FkZWQoKTogYm9vbGVhbiB7XG4gICAgbGV0IHJlc3VsdCA9IHRydWU7XG4gICAgdGhpcy5pbWFnZXMuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICByZXN1bHQgPSByZXN1bHQgJiYgKHZhbHVlLmd1aWQgIT09ICcnKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgYWRkSW1hZ2UobW9kZWw6IEltYWdlTW9kZWxNYW5hZ2VkKSB7XG4gICAgaWYgKGlzTnVsbE9yVW5kZWZpbmVkKG1vZGVsKSkge1xuICAgICAgYWxlcnQoJ9in2LfZhNin2LnYp9iqINiq2LXZiNuM2LEg2YbYp9iv2LHYs9iqINin2LPYqi4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5iZWZvcmVJbnNlcnQuZW1pdChtb2RlbCk7XG4gICAgbW9kZWwuaW50ZXJuYWxJZCA9IEd1aWQuY3JlYXRlKCkudG9TdHJpbmcoKTtcbiAgICB0aGlzLmltYWdlcy5wdXNoKG1vZGVsKTtcbiAgICB0aGlzLmFmdGVySW5zZXJ0LmVtaXQobW9kZWwpO1xuICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIHRoaXMuX2dhbGxlcnkudXBkYXRlKCk7XG4gIH1cblxuICByZW1vdmVJbWFnZShpZDogc3RyaW5nKSB7XG4gICAgdGhpcy5zaG93UXVlc3Rpb25Cb3goJ9m+24zYp9mFINiz24zYs9iq2YUnLCAn2KLbjNinINmF2LfZhdim2YYg2YfYs9iq24zYrycsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5pbWFnZXMuZmluZChjID0+IGMuaW50ZXJuYWxJZCA9PT0gaWQpO1xuICAgICAgdGhpcy5iZWZvcmVSZW1vdmUuZW1pdChtb2RlbCk7XG4gICAgICB0aGlzLmltYWdlcyA9IHRoaXMuaW1hZ2VzLmZpbHRlcihvYmogPT4gb2JqLmludGVybmFsSWQgIT09IGlkKTtcbiAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgdGhpcy5fZ2FsbGVyeS51cGRhdGUoKTtcbiAgICAgIHRoaXMuYWZ0ZXJSZW1vdmUuZW1pdChtb2RlbCk7XG4gICAgfSwgKCkgPT4ge1xuICAgIH0pO1xuICB9XG5cbiAgc3RhcnRXYWl0aW5nKCkge1xuICAgIHRoaXMuX292ZXJsYXkgPSB0aGlzLm92ZXJsYXlTZXJ2aWNlLnNob3codGhpcy5ob3N0Lm5hdGl2ZUVsZW1lbnQpO1xuICB9XG5cbiAgc3RvcFdhaXRpbmcoKSB7XG4gICAgdGhpcy5vdmVybGF5U2VydmljZS5oaWRlKHRoaXMuX292ZXJsYXkpO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5zdG9wV2FpdGluZygpO1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBzaG93UXVlc3Rpb25Cb3godGl0bGU6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nLCB5ZXNDYWxsYmFjazogRnVuY3Rpb24sIG5vQ2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gICAgYWxlcnRpZnkuY29uZmlybSh0aXRsZSwgbWVzc2FnZSwgeWVzQ2FsbGJhY2ssIG5vQ2FsbGJhY2spXG4gICAgICAuc2V0KHtcbiAgICAgICAgbGFiZWxzOiB7b2s6ICfYqNmE24wnLCBjYW5jZWw6ICfYrtuM2LEnfVxuICAgICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHNob3dBbGVydCh0aXRsZTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBhbGVydGlmeS5hbGVydCh0aXRsZSwgbWVzc2FnZSk7XG4gIH1cblxuICBwcml2YXRlIHNhdmVJbWFnZShtb2RlbDogSW1hZ2VNb2RlbE1hbmFnZWQpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxhbnk+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBtb2RlbC5maWxlLCBtb2RlbC5maWxlLm5hbWUpO1xuICAgICAgY29uc3QgaGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycyh7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30pO1xuICAgICAgdGhpcy5odHRwLnBvc3QodGhpcy5zYXZlVXJsLCBtb2RlbC5zb3VyY2Uuc3BsaXQoJywnKVsxXSwge2hlYWRlcnM6IGhlYWRlcnN9KS50b1Byb21pc2UoKVxuICAgICAgICAudGhlbih2YWx1ZSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSgoPGFueT52YWx1ZSkuZ3VpZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChyZWFzb24gPT4ge1xuICAgICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgc2F2ZUltYWdlMihtb2RlbDogSW1hZ2VNb2RlbE1hbmFnZWQpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxhbnk+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBtb2RlbC5maWxlLCBtb2RlbC5maWxlLm5hbWUpO1xuICAgICAgdGhpcy5odHRwLnBvc3QodGhpcy5zYXZlVXJsLCBmb3JtRGF0YSwge1xuICAgICAgICByZXBvcnRQcm9ncmVzczogdHJ1ZSxcbiAgICAgICAgb2JzZXJ2ZTogJ2V2ZW50cydcbiAgICAgIH0pXG4gICAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgICAgKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIEh0dHBFdmVudFR5cGUuU2VudDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBIdHRwRXZlbnRUeXBlLlJlc3BvbnNlOlxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGV2ZW50LmJvZHkuZ3VpZCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShldmVudC5ib2R5Lmd1aWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDE6IHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3IgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHJ5U2F2ZUltYWdlKGltZzogSW1hZ2VNb2RlbE1hbmFnZWQpIHtcbiAgICBpbWcubG9hZGluZyA9IHRydWU7XG4gICAgaW1nLmxvYWRGYWlsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICB0aGlzLnNhdmVJbWFnZTIoaW1nKVxuICAgICAgLnRoZW4odmFsdWUgPT4ge1xuICAgICAgICBpbWcubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICBpbWcubG9hZEZhaWxlZCA9IGZhbHNlO1xuICAgICAgICBpbWcuZ3VpZCA9IHZhbHVlO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChyZWFzb24gPT4ge1xuICAgICAgICBpbWcubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICBpbWcubG9hZEZhaWxlZCA9IHRydWU7XG4gICAgICB9KTtcbiAgfVxuXG4gIGNhbmNlbFNhdmVJbWFnZShpbWc6IEltYWdlTW9kZWxNYW5hZ2VkKSB7XG4gICAgdGhpcy5yZW1vdmVJbWFnZShpbWcuaW50ZXJuYWxJZCk7XG4gIH1cblxuICBjbGVhckltYWdlcygpIHtcbiAgICB0aGlzLmltYWdlcyA9IFtdO1xuICB9XG5cbiAgZG93bmxvYWRJbWFnZShndWlkOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcsIHR5cGU6IHN0cmluZywgaWQ6IHN0cmluZywgcmVtb3ZlYWJsZTogYm9vbGVhbiA9IGZhbHNlLCB0YWc6IGFueSA9IG51bGwpIHtcbiAgICBjb25zdCB0bXAgPSBuZXcgSW1hZ2VNb2RlbE1hbmFnZWQoKTtcbiAgICB0bXAuc291cmNlID0gdGhpcy5kZWZhdWx0SW1hZ2U7XG4gICAgdG1wLmludGVybmFsSWQgPSBHdWlkLmNyZWF0ZSgpLnRvU3RyaW5nKCk7XG4gICAgdG1wLnRhZyA9IHRhZztcbiAgICB0bXAuZmlsZSA9IG51bGw7XG4gICAgdG1wLnRpdGxlID0gdGl0bGU7XG4gICAgdG1wLnJlbW92ZWFibGUgPSByZW1vdmVhYmxlO1xuICAgIHRtcC5ndWlkID0gJyc7XG4gICAgdG1wLmxvYWRpbmcgPSBmYWxzZTtcbiAgICB0bXAubG9hZGluZyA9IHRydWU7XG4gICAgdG1wLmxvYWRGYWlsZWQgPSBmYWxzZTtcbiAgICB0bXAubG9hZEZhaWxlZCA9IGZhbHNlO1xuICAgIC8vIHRtcC5zaXplID0gW107XG4gICAgdG1wLmludGVybmFsVGVtcCA9IHtcbiAgICAgIGd1aWQ6IGd1aWQsXG4gICAgICB0aXRsZTogdGl0bGUsXG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgaWQ6IGlkLFxuICAgICAgdGFnOiB0YWdcbiAgICB9O1xuICAgIHRoaXMuaW1hZ2VzLnB1c2godG1wKTtcbiAgICBjb25zdCB0aGVVcmwgPSBgJHt0aGlzLmdldFVybH0vJHtndWlkfS8ke3R5cGV9LyR7aWR9YDtcbiAgICB0aGlzLmFkZFRvUXVldWUoZ3VpZCk7XG4gICAgdGhpcy5odHRwLmdldCh0aGVVcmwpXG4gICAgICAudG9Qcm9taXNlKClcbiAgICAgIC50aGVuKCh2YWx1ZTogYW55KSA9PiB7XG4gICAgICAgIHRoaXMucmVtb3ZlZnJvbVF1ZXVlKGd1aWQpO1xuICAgICAgICAvLyB0bXAuc291cmNlID0gJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwnICsgdmFsdWUuZGF0YS5pbWFnZTtcbiAgICAgICAgdG1wLnNvdXJjZSA9ICdkYXRhOmltYWdlL3BuZztiYXNlNjQsJyArIHZhbHVlLmRhdGE7XG4gICAgICAgIHRtcC5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRtcC5ndWlkID0gZ3VpZDtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2gocmVhc29uID0+IHtcbiAgICAgICAgdGhpcy5yZW1vdmVmcm9tUXVldWUoZ3VpZCk7XG4gICAgICAgIHRtcC5sb2FkRmFpbGVkID0gdHJ1ZTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRUb1F1ZXVlKGd1aWQ6IHN0cmluZykge1xuICAgIHRoaXMuX3F1ZXVlLnB1c2goZ3VpZCk7XG4gIH1cblxuICBwcml2YXRlIHJlbW92ZWZyb21RdWV1ZShndWlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9xdWV1ZS5wb3AoKTtcbiAgICBpZiAodGhpcy5fcXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICAgIHRoaXMuX2dhbGxlcnkudXBkYXRlKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBkYXRhVVJMdG9GaWxlKGRhdGF1cmwsIGZpbGVuYW1lKSB7XG4gICAgY29uc3QgYnl0ZVN0cmluZyA9IGF0b2IoZGF0YXVybC5zcGxpdCgnLCcpWzFdKTtcbiAgICBjb25zdCBtaW1lU3RyaW5nID0gZGF0YXVybC5zcGxpdCgnLCcpWzBdLnNwbGl0KCc6JylbMV0uc3BsaXQoJzsnKVswXTtcbiAgICBjb25zdCBhYiA9IG5ldyBBcnJheUJ1ZmZlcihieXRlU3RyaW5nLmxlbmd0aCk7XG4gICAgY29uc3QgaWEgPSBuZXcgVWludDhBcnJheShhYik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlU3RyaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpYVtpXSA9IGJ5dGVTdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBCbG9iKFthYl0sIHt0eXBlOiBtaW1lU3RyaW5nfSk7XG5cbiAgICAvLyBjb25zdCBhcnIgPSBkYXRhdXJsLnNwbGl0KCcsJyk7XG4gICAgLy8gY29uc3QgbWltZSA9IGFyclswXS5tYXRjaCgvOiguKj8pOy8pWzFdO1xuICAgIC8vIGNvbnN0IGJzdHIgPSBhdG9iKGFyclsxXSk7XG4gICAgLy8gbGV0IG4gPSBic3RyLmxlbmd0aDtcbiAgICAvLyBjb25zdCB1OGFyciA9IG5ldyBVaW50OEFycmF5KG4pO1xuICAgIC8vIHdoaWxlIChuLS0pIHtcbiAgICAvLyAgIHU4YXJyW25dID0gYnN0ci5jaGFyQ29kZUF0KG4pO1xuICAgIC8vIH1cbiAgICAvLyByZXR1cm4gbmV3IEZpbGUoW3U4YXJyXSwgZmlsZW5hbWUsIHt0eXBlOiBtaW1lfSk7XG4gIH1cblxuICBwcml2YXRlIGdldEJhc2U2NEZyb21JbWFnZVVybChkYXRhKSB7XG4gICAgY29uc3QgbWUgPSB0aGlzO1xuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgY29uc3QgdG1wID0gdGhpcy5kYXRhVVJMdG9CbG9iKCdkYXRhOmltYWdlL3BuZztiYXNlNjQsJyArIGRhdGEpO1xuICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKHRtcCk7XG4gICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChtZS5kYXRhVVJMdG9CbG9iKHJlYWRlci5yZXN1bHQpLnNpemUgPiBtZS5tYXhJbWFnZVNpemUgKiAxMDI0KSB7XG4gICAgICAgIGNvbnN0IHBlcnNpYW5OdW1iZXJQaXBlID0gbmV3IFBlcnNpYW5OdW1iZXJQaXBlKCk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwZXJzaWFuTnVtYmVyUGlwZS50cmFuc2Zvcm0oJ9in2YbYr9in2LLZhyDZgdin24zZhCDYqti12YjbjNixINmG2YXbjCDYqtmI2KfZhtivINio24zYtCDYp9iyJyArICcgJyArIG1lLm1heEltYWdlU2l6ZS50b1N0cmluZygpICsgJyAnICsgJ9qp24zZhNmIINio2KfbjNiqINio2KfYtNivLicpO1xuICAgICAgICBtZS5zaG93QWxlcnQoJ9m+24zYp9mFINiz24zYs9iq2YUnLCBtZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBtb2RlbCA9IG5ldyBJbWFnZU1vZGVsTWFuYWdlZCgpO1xuICAgICAgbW9kZWwuc291cmNlID0gcmVhZGVyLnJlc3VsdDtcbiAgICAgIG1vZGVsLnRpdGxlID0gbWUuZGVmYXVsdFRpdGxlO1xuICAgICAgbW9kZWwudGFnID0gbWUuZGVmYXVsdFRhZztcbiAgICAgIG1vZGVsLmZpbGUgPSBtZS5kYXRhVVJMdG9GaWxlKHJlYWRlci5yZXN1bHQsICdpbWFnZS5qcGcnKSBhcyBGaWxlO1xuICAgICAgbW9kZWwuaW50ZXJuYWxJZCA9IG1vZGVsLmludGVybmFsSWQgPSBHdWlkLmNyZWF0ZSgpLnRvU3RyaW5nKCk7XG4gICAgICBpZiAoIW1lLmltYWdlcy5maW5kKGMgPT4gYy5zb3VyY2UgPT09IG1vZGVsLnNvdXJjZSkpIHtcbiAgICAgICAgbWUuYmVmb3JlSW5zZXJ0LmVtaXQoKTtcbiAgICAgICAgbWUuaW1hZ2VzLnB1c2gobW9kZWwpO1xuICAgICAgICBtZS5hZnRlckluc2VydC5lbWl0KG1vZGVsKTtcbiAgICAgICAgbWUuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICBtZS5fZ2FsbGVyeS51cGRhdGUoKTtcbiAgICAgICAgbWUuaW1hZ2VJbnB1dC5uYXRpdmVFbGVtZW50LnZhbHVlID0gJyc7XG4gICAgICAgIG1vZGVsLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICBtZS5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIG1lLnNhdmVJbWFnZTIobW9kZWwpXG4gICAgICAgICAgLnRoZW4odmFsdWUgPT4ge1xuICAgICAgICAgICAgbW9kZWwubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgbW9kZWwuZ3VpZCA9IHZhbHVlO1xuICAgICAgICAgICAgbW9kZWwubG9hZEZhaWxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgbWUuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICAgICAgICBtb2RlbC5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBtb2RlbC5sb2FkRmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIG1lLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgKG1lLmRhdGFVUkx0b0Jsb2IocmVhZGVyLnJlc3VsdCkuc2l6ZSA+IG1lLm1heEltYWdlU2l6ZSAqIDEwMjQpIHtcbiAgICAgIC8vICAgY29uc3QgcGVyc2lhbk51bWJlclBpcGUgPSBuZXcgUGVyc2lhbk51bWJlclBpcGUoKTtcbiAgICAgIC8vICAgY29uc3QgbWVzc2FnZSA9IHBlcnNpYW5OdW1iZXJQaXBlLnRyYW5zZm9ybSgn2KfZhtiv2KfYstmHINmB2KfbjNmEINiq2LXZiNuM2LEg2YbZhduMINiq2YjYp9mG2K8g2KjbjNi0INin2LInICsgJyAnICsgbWUubWF4SW1hZ2VTaXplLnRvU3RyaW5nKCkgKyAnICcgKyAn2qnbjNmE2Ygg2KjYp9uM2Kog2KjYp9i02K8uJyk7XG4gICAgICAvLyAgIG1lLnNob3dBbGVydCgn2b7bjNin2YUg2LPbjNiz2KrZhScsIG1lc3NhZ2UpO1xuICAgICAgLy8gICByZXR1cm47XG4gICAgICAvLyB9XG4gICAgICAvLyBjb25zdCBtb2RlbCA9IG5ldyBJbWFnZU1vZGVsTWFuYWdlZCgpO1xuICAgICAgLy8gbW9kZWwuc291cmNlID0gcmVhZGVyLnJlc3VsdDtcbiAgICAgIC8vIG1vZGVsLnRpdGxlID0gbWUuZGVmYXVsdFRpdGxlO1xuICAgICAgLy8gbW9kZWwudGFnID0gbWUuZGVmYXVsdFRhZztcbiAgICAgIC8vIG1vZGVsLmZpbGUgPSBtZS5kYXRhVVJMdG9GaWxlKHJlYWRlci5yZXN1bHQsICdpbWFnZS5qcGcnKTtcbiAgICAgIC8vIG1vZGVsLmludGVybmFsSWQgPSBtb2RlbC5pbnRlcm5hbElkID0gR3VpZC5jcmVhdGUoKS50b1N0cmluZygpO1xuICAgICAgLy8gaWYgKCFtZS5pbWFnZXMuZmluZChjID0+IGMuc291cmNlID09PSBtb2RlbC5zb3VyY2UpKSB7XG4gICAgICAvLyAgIG1lLmJlZm9yZUluc2VydC5lbWl0KCk7XG4gICAgICAvLyAgIG1lLmltYWdlcy5wdXNoKG1vZGVsKTtcbiAgICAgIC8vICAgbWUuYWZ0ZXJJbnNlcnQuZW1pdChtb2RlbCk7XG4gICAgICAvLyAgIG1lLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICAgIC8vICAgbWUuX2dhbGxlcnkudXBkYXRlKCk7XG4gICAgICAvLyAgIG1lLmltYWdlSW5wdXQubmF0aXZlRWxlbWVudC52YWx1ZSA9ICcnO1xuICAgICAgLy8gICBtb2RlbC5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgIC8vICAgbWUuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgLy8gICBtZS5zYXZlSW1hZ2UobW9kZWwpXG4gICAgICAvLyAgICAgLnRoZW4odmFsdWUgPT4ge1xuICAgICAgLy8gICAgICAgbW9kZWwubG9hZGluZyA9IGZhbHNlO1xuICAgICAgLy8gICAgICAgbW9kZWwuZ3VpZCA9IHZhbHVlO1xuICAgICAgLy8gICAgICAgbW9kZWwubG9hZEZhaWxlZCA9IGZhbHNlO1xuICAgICAgLy8gICAgIH0pXG4gICAgICAvLyAgICAgLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICAvLyAgICAgICBtb2RlbC5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAvLyAgICAgICBtb2RlbC5sb2FkRmFpbGVkID0gdHJ1ZTtcbiAgICAgIC8vICAgICB9KTtcbiAgICAgIC8vIH1cbiAgICB9O1xuICB9XG5cbiAgZGF0YVVSTHRvQmxvYihkYXRhVVJMKSB7XG4gICAgY29uc3QgYmluYXJ5ID0gYXRvYihkYXRhVVJMLnNwbGl0KCcsJylbMV0pO1xuICAgIC8vIENyZWF0ZSA4LWJpdCB1bnNpZ25lZCBhcnJheVxuICAgIGNvbnN0IGFycmF5ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5hcnkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFycmF5LnB1c2goYmluYXJ5LmNoYXJDb2RlQXQoaSkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEJsb2IoW25ldyBVaW50OEFycmF5KGFycmF5KV0sIHt0eXBlOiAnaW1hZ2UvcG5nJ30pO1xuICB9XG5cbiAgY2hlY2tQZXJtaXNzaW9uKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxib29sZWFuPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjb25zdCBQZXJtaXNzaW9uID0gd2luZG93LnBsdWdpbnMuUGVybWlzc2lvbjtcbiAgICAgIGNvbnN0IHBlcm1pc3Npb24gPSAnYW5kcm9pZC5wZXJtaXNzaW9uLldSSVRFX0VYVEVSTkFMX1NUT1JBR0UnO1xuICAgICAgUGVybWlzc2lvbi5oYXMocGVybWlzc2lvbiwgKHJlc3VsdHMpID0+IHtcbiAgICAgICAgaWYgKCFyZXN1bHRzW3Blcm1pc3Npb25dKSB7XG4gICAgICAgICAgUGVybWlzc2lvbi5yZXF1ZXN0KHBlcm1pc3Npb24sIChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXN1bHRbcGVybWlzc2lvbl0pIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIChyZWFzb24pID0+IHtcbiAgICAgICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIChyZWFzb24pID0+IHtcbiAgICAgICAgcmVqZWN0KHJlYXNvbik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG59XG5cbmV4cG9ydCBjbGFzcyBJbWFnZU1vZGVsTWFuYWdlZCB7XG4gIHNvdXJjZTogYW55O1xuICBpbnRlcm5hbElkOiBzdHJpbmc7XG4gIHRhZzogYW55O1xuICBmaWxlOiBGaWxlO1xuICB0aXRsZTogc3RyaW5nO1xuICByZW1vdmVhYmxlID0gdHJ1ZTtcbiAgZ3VpZCA9ICcnO1xuICBsb2FkaW5nID0gZmFsc2U7XG4gIGxvYWRGYWlsZWQgPSBmYWxzZTtcbiAgLy8gc2l6ZSA9IFtdO1xuICBpbnRlcm5hbFRlbXA6IGFueTtcbn1cbiJdfQ==