/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ElementRef, EventEmitter, Input, Output, ViewChild } from '@angular/core';
import { OverlayService } from '../../services/overlay/overlay.service';
export class TaminModalComponent {
    /**
     * @param {?} overlayService
     */
    constructor(overlayService) {
        this.overlayService = overlayService;
        this.width = '80%';
        this._overlay = null;
        this.buttonClicked = new EventEmitter();
        this.alertifyRef = null;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.createDialog();
    }
    /**
     * @return {?}
     */
    show() {
        if (this.alertifyRef) {
            this.alertifyRef.destroy();
            this.alertifyRef = null;
        }
        // self = this.modal.open();
        if (this.title === '') {
            this.title = ' ';
        }
        this.modalElement.nativeElement.style.display = 'block';
        this.alertifyRef = alertify.genericDialog(this.modalElement.nativeElement, this.title, this.width, this.maximizable);
    }
    /**
     * @return {?}
     */
    showOverlay() {
        if (this.alertifyRef === null) {
            return;
        }
        if (this._overlay) {
            return;
        }
        this._overlay = this.overlayService.show(this.alertifyRef.elements.dialog);
    }
    /**
     * @return {?}
     */
    hideOverlay() {
        if (this.alertifyRef === null) {
            return;
        }
        if (!this._overlay) {
            return;
        }
        this.overlayService.hide(this._overlay);
    }
    /**
     * @return {?}
     */
    hide() {
        if (this.alertifyRef === null) {
            return;
        }
        this.alertifyRef.destroy();
        this.alertifyRef = null;
    }
    /**
     * @return {?}
     */
    createDialog() {
        /** @type {?} */
        const me = this;
        if (!alertify.genericDialog) {
            /** @type {?} */
            const buttons = [];
            if (this.button1) {
                buttons.push(this.button1);
            }
            if (this.button2) {
                buttons.push(this.button2);
            }
            if (this.button3) {
                buttons.push(this.button3);
            }
            alertify.dialog('genericDialog', (/**
             * @return {?}
             */
            function () {
                return {
                    main: (/**
                     * @param {?} content
                     * @param {?} title
                     * @param {?} width
                     * @param {?} maximizable
                     * @return {?}
                     */
                    function (content, title, width, maximizable) {
                        this.setting('title', title);
                        this.setting('width', width);
                        this.setting('maximizable', maximizable);
                        this.setContent(content);
                    }),
                    setup: (/**
                     * @return {?}
                     */
                    function () {
                        return {
                            buttons: buttons,
                            options: {
                                resizable: false,
                                padding: false,
                                frameless: false,
                                autoReset: false,
                                closableByDimmer: false
                            }
                        };
                    }),
                    callback: (/**
                     * @param {?} closeEvent
                     * @return {?}
                     */
                    function (closeEvent) {
                        me.buttonClicked.emit(closeEvent);
                    }),
                    settings: {
                        width: '',
                        onClose: undefined
                    },
                    hooks: {
                        onrestore: (/**
                         * @return {?}
                         */
                        function () {
                            this.elements.dialog.style.width = this.get('width');
                        }),
                        onshow: (/**
                         * @return {?}
                         */
                        function () {
                            this.elements.dialog.style.maxWidth = 'none';
                            this.elements.dialog.style.width = this.get('width');
                        })
                    }
                };
            }));
        }
    }
}
TaminModalComponent.decorators = [
    { type: Component, args: [{
                selector: 'tamin-modal',
                template: "<div #modalElement style=\"display: none;padding: 20px\">\n  <ng-content>\n  </ng-content>\n</div>\n\n",
                styles: [".modal-content{background-color:#fefefe;margin:auto;border:1px solid #888;width:80%;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);-webkit-animation-name:animatetop;-webkit-animation-duration:.4s;animation-name:animatetop;animation-duration:.4s}@-webkit-keyframes animatetop{from{top:-300px;opacity:0}to{top:0;opacity:1}}@keyframes animatetop{from{top:-300px;opacity:0}to{top:0;opacity:1}}.close{color:#fff;float:left;font-size:28px;font-weight:700}.title{color:#fff;float:right;margin-top:4px;font-size:16px;font-weight:700;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer}.modal-header{padding:2px 16px;background-color:#6c63fe;color:#fff;min-height:40px}.modal-body{padding:10px}.modal-footer{padding:2px 16px;background-color:#6c63fe;color:#fff}"]
            }] }
];
/** @nocollapse */
TaminModalComponent.ctorParameters = () => [
    { type: OverlayService }
];
TaminModalComponent.propDecorators = {
    modalElement: [{ type: ViewChild, args: ['modalElement',] }],
    title: [{ type: Input }],
    width: [{ type: Input }],
    maximizable: [{ type: Input }],
    buttonClicked: [{ type: Output }]
};
if (false) {
    /** @type {?} */
    TaminModalComponent.prototype.modalElement;
    /** @type {?} */
    TaminModalComponent.prototype.title;
    /** @type {?} */
    TaminModalComponent.prototype.width;
    /** @type {?} */
    TaminModalComponent.prototype.maximizable;
    /** @type {?} */
    TaminModalComponent.prototype.button1;
    /** @type {?} */
    TaminModalComponent.prototype.button2;
    /** @type {?} */
    TaminModalComponent.prototype.button3;
    /** @type {?} */
    TaminModalComponent.prototype.modal;
    /** @type {?} */
    TaminModalComponent.prototype.draggable;
    /** @type {?} */
    TaminModalComponent.prototype.self;
    /**
     * @type {?}
     * @private
     */
    TaminModalComponent.prototype._overlay;
    /** @type {?} */
    TaminModalComponent.prototype.buttonClicked;
    /**
     * @type {?}
     * @private
     */
    TaminModalComponent.prototype.alertifyRef;
    /**
     * @type {?}
     * @private
     */
    TaminModalComponent.prototype.overlayService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFtaW4tbW9kYWwuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vdGFtaW4tZnJhbWV3b3JrLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvdGFtaW4tbW9kYWwvdGFtaW4tbW9kYWwuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUMsU0FBUyxFQUFFLFVBQVUsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFVLE1BQU0sRUFBRSxTQUFTLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFDcEcsT0FBTyxFQUFDLGNBQWMsRUFBQyxNQUFNLHdDQUF3QyxDQUFDO0FBWXRFLE1BQU0sT0FBTyxtQkFBbUI7Ozs7SUFpQjlCLFlBQW9CLGNBQThCO1FBQTlCLG1CQUFjLEdBQWQsY0FBYyxDQUFnQjtRQWR6QyxVQUFLLEdBQUcsS0FBSyxDQUFDO1FBUWYsYUFBUSxHQUFHLElBQUksQ0FBQztRQUNkLGtCQUFhLEdBQUcsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUcxQyxnQkFBVyxHQUFHLElBQUksQ0FBQztJQUczQixDQUFDOzs7O0lBRUQsUUFBUTtRQUNOLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUN0QixDQUFDOzs7O0lBRUQsSUFBSTtRQUNGLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUNwQixJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQzNCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1NBQ3pCO1FBQ0QsNEJBQTRCO1FBQzVCLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxFQUFFLEVBQUU7WUFDckIsSUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUM7U0FDbEI7UUFDRCxJQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN4RCxJQUFJLENBQUMsV0FBVyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxD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QUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQzt3QkFDdkQsQ0FBQyxDQUFBO3dCQUNELE1BQU07Ozt3QkFBRTs0QkFDTixJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQzs0QkFDN0MsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO3dCQUN2RCxDQUFDLENBQUE7cUJBQ0Y7aUJBQ0YsQ0FBQztZQUNKLENBQUMsRUFBQyxDQUFDO1NBQ0o7SUFDSCxDQUFDOzs7WUE5SEYsU0FBUyxTQUFDO2dCQUNULFFBQVEsRUFBRSxhQUFhO2dCQUN2QixrSEFBMkM7O2FBRTVDOzs7O1lBWE8sY0FBYzs7OzJCQWFuQixTQUFTLFNBQUMsY0FBYztvQkFDeEIsS0FBSztvQkFDTCxLQUFLOzBCQUNMLEtBQUs7NEJBUUwsTUFBTTs7OztJQVhQLDJDQUFvRDs7SUFDcEQsb0NBQXVCOztJQUN2QixvQ0FBdUI7O0lBQ3ZCLDBDQUEyQjs7SUFDM0Isc0NBQWE7O0lBQ2Isc0NBQWE7O0lBQ2Isc0NBQWE7O0lBQ2Isb0NBQVc7O0lBQ1gsd0NBQWU7O0lBQ2YsbUNBQVU7Ozs7O0lBQ1YsdUNBQXdCOztJQUN4Qiw0Q0FBa0Q7Ozs7O0lBR2xELDBDQUEyQjs7Ozs7SUFFZiw2Q0FBc0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbXBvbmVudCwgRWxlbWVudFJlZiwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT25Jbml0LCBPdXRwdXQsIFZpZXdDaGlsZH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge092ZXJsYXlTZXJ2aWNlfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9vdmVybGF5L292ZXJsYXkuc2VydmljZSc7XG5cbmRlY2xhcmUgbGV0IFBsYWluTW9kYWw6IGFueTtcbmRlY2xhcmUgbGV0IFBsYWluRHJhZ2dhYmxlOiBhbnk7XG5cbmRlY2xhcmUgdmFyIGFsZXJ0aWZ5OiBhbnk7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3RhbWluLW1vZGFsJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3RhbWluLW1vZGFsLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vdGFtaW4tbW9kYWwuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBUYW1pbk1vZGFsQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQFZpZXdDaGlsZCgnbW9kYWxFbGVtZW50JykgbW9kYWxFbGVtZW50OiBFbGVtZW50UmVmO1xuICBASW5wdXQoKSB0aXRsZTogc3RyaW5nO1xuICBASW5wdXQoKSB3aWR0aCA9ICc4MCUnO1xuICBASW5wdXQoKSBtYXhpbWl6YWJsZTogdHJ1ZTtcbiAgYnV0dG9uMTogYW55O1xuICBidXR0b24yOiBhbnk7XG4gIGJ1dHRvbjM6IGFueTtcbiAgbW9kYWw6IGFueTtcbiAgZHJhZ2dhYmxlOiBhbnk7XG4gIHNlbGY6IGFueTtcbiAgcHJpdmF0ZSBfb3ZlcmxheSA9IG51bGw7XG4gIEBPdXRwdXQoKSBidXR0b25DbGlja2VkID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cblxuICBwcml2YXRlIGFsZXJ0aWZ5UmVmID0gbnVsbDtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG92ZXJsYXlTZXJ2aWNlOiBPdmVybGF5U2VydmljZSkge1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5jcmVhdGVEaWFsb2coKTtcbiAgfVxuXG4gIHNob3coKSB7XG4gICAgaWYgKHRoaXMuYWxlcnRpZnlSZWYpIHtcbiAgICAgIHRoaXMuYWxlcnRpZnlSZWYuZGVzdHJveSgpO1xuICAgICAgdGhpcy5hbGVydGlmeVJlZiA9IG51bGw7XG4gICAgfVxuICAgIC8vIHNlbGYgPSB0aGlzLm1vZGFsLm9wZW4oKTtcbiAgICBpZiAodGhpcy50aXRsZSA9PT0gJycpIHtcbiAgICAgIHRoaXMudGl0bGUgPSAnICc7XG4gICAgfVxuICAgIHRoaXMubW9kYWxFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgdGhpcy5hbGVydGlmeVJlZiA9IGFsZXJ0aWZ5LmdlbmVyaWNEaWFsb2codGhpcy5tb2RhbEVsZW1lbnQubmF0aXZlRWxlbWVudCwgdGhpcy50aXRsZSwgdGhpcy53aWR0aCwgdGhpcy5tYXhpbWl6YWJsZSk7XG4gIH1cblxuICBzaG93T3ZlcmxheSgpIHtcbiAgICBpZiAodGhpcy5hbGVydGlmeVJlZiA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5fb3ZlcmxheSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX292ZXJsYXkgPSB0aGlzLm92ZXJsYXlTZXJ2aWNlLnNob3codGhpcy5hbGVydGlmeVJlZi5lbGVtZW50cy5kaWFsb2cpO1xuICB9XG5cbiAgaGlkZU92ZXJsYXkoKSB7XG4gICAgaWYgKHRoaXMuYWxlcnRpZnlSZWYgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX292ZXJsYXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLm92ZXJsYXlTZXJ2aWNlLmhpZGUodGhpcy5fb3ZlcmxheSk7XG4gIH1cblxuXG4gIGhpZGUoKSB7XG4gICAgaWYgKHRoaXMuYWxlcnRpZnlSZWYgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5hbGVydGlmeVJlZi5kZXN0cm95KCk7XG4gICAgdGhpcy5hbGVydGlmeVJlZiA9IG51bGw7XG4gIH1cblxuICBjcmVhdGVEaWFsb2coKSB7XG4gICAgY29uc3QgbWUgPSB0aGlzO1xuICAgIGlmICghYWxlcnRpZnkuZ2VuZXJpY0RpYWxvZykge1xuICAgICAgY29uc3QgYnV0dG9ucyA9IFtdO1xuICAgICAgaWYgKHRoaXMuYnV0dG9uMSkge1xuICAgICAgICBidXR0b25zLnB1c2godGhpcy5idXR0b24xKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmJ1dHRvbjIpIHtcbiAgICAgICAgYnV0dG9ucy5wdXNoKHRoaXMuYnV0dG9uMik7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5idXR0b24zKSB7XG4gICAgICAgIGJ1dHRvbnMucHVzaCh0aGlzLmJ1dHRvbjMpO1xuICAgICAgfVxuICAgICAgYWxlcnRpZnkuZGlhbG9nKCdnZW5lcmljRGlhbG9nJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1haW46IGZ1bmN0aW9uIChjb250ZW50LCB0aXRsZSwgd2lkdGgsIG1heGltaXphYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmcoJ3RpdGxlJywgdGl0bGUpO1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5nKCd3aWR0aCcsIHdpZHRoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZygnbWF4aW1pemFibGUnLCBtYXhpbWl6YWJsZSk7XG4gICAgICAgICAgICB0aGlzLnNldENvbnRlbnQoY29udGVudCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXR1cDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgYnV0dG9uczogYnV0dG9ucyxcbiAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHJlc2l6YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcGFkZGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgZnJhbWVsZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhdXRvUmVzZXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNsb3NhYmxlQnlEaW1tZXI6IGZhbHNlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGNsb3NlRXZlbnQpIHtcbiAgICAgICAgICAgIG1lLmJ1dHRvbkNsaWNrZWQuZW1pdChjbG9zZUV2ZW50KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICB3aWR0aDogJycsXG4gICAgICAgICAgICBvbkNsb3NlOiB1bmRlZmluZWRcbiAgICAgICAgICB9LFxuICAgICAgICAgIGhvb2tzOiB7XG4gICAgICAgICAgICBvbnJlc3RvcmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5kaWFsb2cuc3R5bGUud2lkdGggPSB0aGlzLmdldCgnd2lkdGgnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbnNob3c6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5kaWFsb2cuc3R5bGUubWF4V2lkdGggPSAnbm9uZSc7XG4gICAgICAgICAgICAgIHRoaXMuZWxlbWVudHMuZGlhbG9nLnN0eWxlLndpZHRoID0gdGhpcy5nZXQoJ3dpZHRoJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iXX0=