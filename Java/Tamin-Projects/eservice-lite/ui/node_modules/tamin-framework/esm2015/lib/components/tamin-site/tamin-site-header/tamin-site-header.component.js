/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/*
  Created by: k_kaviani
  Revised by: a_amiri
*/
import { Component, EventEmitter, Input, Output } from '@angular/core';
import { TaminSecurityService } from '../../../services/tamin-security/tamin-security.service';
export class TaminSiteHeaderComponent {
    /**
     * @param {?} taminSecurityService
     */
    constructor(taminSecurityService) {
        this.taminSecurityService = taminSecurityService;
        this.showLogin = true;
        this.loggedIn = false;
        this.showProfile = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        if (!this.taminSecurityService.checkToken()) {
            this.loggedIn = false;
            this.userName = '';
        }
        else {
            this.loggedIn = true;
            // if (this.taminSecurityService.getCurrentUser()) {
            //   this.userName = `${this.taminSecurityService.currentUser.firstName} ${this.taminSecurityService.currentUser.lastName}`;
            // }
            this.taminSecurityService.getCurrentUser()
                .then((/**
             * @param {?} data
             * @return {?}
             */
            data => this.userName = `${data.firstName} ${data.lastName}`))
                .catch((/**
             * @param {?} error
             * @return {?}
             */
            error => {
                this.userName = ' ';
            }));
        }
    }
    /**
     * @return {?}
     */
    onLogin() {
        this.taminSecurityService.redirectToLogin();
    }
    /**
     * @return {?}
     */
    onLogout() {
        this.taminSecurityService.redirectToLogout();
    }
    /**
     * @return {?}
     */
    onUserProfile() {
        this.showProfile.emit();
    }
}
TaminSiteHeaderComponent.decorators = [
    { type: Component, args: [{
                selector: 'tamin-site-header',
                template: "<!--\n  Created by: k_kaviani\n  Revised by: a_amiri\n-->\n\n<div class=\"header\">\n  <div class=\"row\">\n    <div class=\"col-3 col-s-3 logo\">\n     <a href=\"javascript:void(0);\" class=\"logo-background\"></a>\n    </div>\n    <div class=\"col-9 col-s-9\" *ngIf=\"showLogin\">\n        <div *ngIf=\"loggedIn\" class=\"login-area\">\n          <div class=\"login-button\" (click)=\"onUserProfile()\">\n              <i class=\"icon-user\"></i>\n              <a>{{userName}}</a>\n          </div>\n          <div class=\"login-button\" (click)=\"onLogout()\">\n              <i class=\"icon-cancel\"></i>\n              <a>\u062E\u0631\u0648\u062C</a>\n          </div>\n        </div>\n        <div *ngIf=\"!loggedIn\" class=\"login-area\" style=\"margin-top: 10px;\">\n          <div class=\"login-button\" (click)=\"onLogin()\" >\n              <i class=\"icon-login\"></i>\n              <a>\u0648\u0631\u0648\u062F \u0628\u0647 \u0633\u0627\u0645\u0627\u0646\u0647</a>\n          </div>\n        </div>\n    </div>\n  </div>\n</div>\n",
                styles: [".header{margin:0;padding:0;overflow:hidden;background-color:rgba(49,58,77,.95)}.header::after{display:block;clear:both}.logo{float:right}.logo-background{float:right;display:block;width:230px;height:54px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARQAAABACAMAAADsxngeAAAC+lBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8zZ4r///////////////////////+Ys8T///8cVn3///////////9KeJc8bpD///////9ljactYoZSfJqju8tTf5xCc5P///////8oX4Q1aIs6bY4STnctZIcwZYhqkKqmvcyhuMlgiaT///8oYIQvZIj///8mXoNeh6N2mbFskqs5a443aowlXYIcVX0yZon///8pYIQeV30QTXYcVn1Dc5OMqr05a41ylq5bhaGUsMJ2mLBwlK1hiaRHdpVchqJUf53///9Ne5k8bo9BcZIlXII4a403aowXUXlHdpVgiKQjW4CLqbwuY4dskquIp7tiiqV6nLJKeJc8bo9Oe5n///8YU3oYU3oZVHskXYI/cZFId5YLSXNTf50VT3epv87S3uVSf5uNqr6KqLyCo7iAoLZVgZ1HdZVdhqJYgp9Lepf///8qYIQuY4c2aYs8bo+qwM4FPGlVgJ6Sr8F/n7V7nbRBcpM8bY99nrUqYIU1aoxGdpUwZYgnXoOnvczP2+Tu8vbM2uJBcZJFdZQUUHetwtD6+/wzZ4pgiKMaVHz////9/v7R3eXO2+P1+Pn3+fvd5uywxdOdtsfr8PO+ztnZ4+q1yNX5+/zn7fHk6+8cVn37/P3K2OHB0dyswtDz9vju8vbH1d/F093p7/Lg6O3V4Oe5y9envs3x9feIp7uDorj4+vvi6e5qkKmhucmjusp+n7Uk5+H6AAAA13RSTlMAAgQFCgYMCBcHQMA77zEtL3AZQj40EzcORklE6DPcKhAogEg6HybQFTYRPTnEJJxOsFfgIhKvIKDChyvPkEtgUU1QTBxSgXrFomT796tzW953YVT89tezePHNrlhV3JQG+eOtjHVhXVdTPyUi+vnXtXdvXUo25+Con5yMi4KCbTk0HxkY/vX08evk49nW09G4mYmCeV03LSomEfbs6+DZxraef3RlUk5HQUAiFRP7+vX18tHQzsjEtq6gkWwdEAz++u7u5NjUy8i+vSIZ7+/TopTw7+m9tE/cyLsAABXQSURBVHjazJl9bBNlHMevtL2uuz7bDvG4bQ/PavC22nFcbWihtcxNXLqtdZ2OZZtuGgXcYqZO5nyP/kF8V5RAIER8gT+EEIgaoxCFRE1MTHyNxtxEVBAkgqLi+2vi73me69tWZmFL8NP2er3rLjyf/X7f57khnDY2Ct/ju9MEXOl0rjY/0LxkSUMVMHfu3EqguvosoLS0dBZQ7wHOPXfe7NmzzzsbmDOnrKysoqKccUFNTc05QG1t7fz58xcsWDiVfzs8MnvTpiR94VPGX91ZvJU5uVYusKzUpq0UraAIhCkzpUvNKOtvajipFUtKYSs1gFUqAEgpHtvkj2lQMsVraYHmqhwr1cxKab6V2QWt5DfQ6dT3RISpwy4z1UuqZ3VmpIy3Ul9fKFYKWjm9eM19TJMQrmRqDcRbqIoypbA9jUIRprtGuOVpuuqCQCOzMpWwFc4sXMm0tqO/snmSKSgbtkChsP0fSAEB055R7tmdSwqWClgZH7ZlBa0IZxLbyZmS5ZrmAJuFuBaAh60lZbKw5VaEM4dVJYU5Ba12p8vhEEUV8Hr9/lDIr9b0pzo7m5ubGy8KBAJNdEk3lxcNVVMPXiYPW+GMkaNkhkWxUuAn7C6HqHoVxVdCmTlz5sa1T7337kfvvnfLur2K4r04MNIJWhrBCtMCXljIcDGWGSYm10oNcEaljPNhB/5bim2GG1yEFLCQC2h5e83zX/0+Zn69/8im2zcqilpSOtLfDFJ4rTQ18JDhEZNJXati5nAt2QYSJiUqC8Uge4Ri0KSJRuwUJ7zao3YqZ5wUw7qyze52qH6F1US+D872zZ9/bXLGPt81CrXiPTsVBCtcCnSQlbwsdzP5wtMlXS9sZv4vKRqRkFAEMSwVpQ5hOd8J9cGx19XV2e25UjxBQfDgsGSzu0TVKo3CRqBM9jz4pZnlkxsH3gn5xXP6U400VXipsFzJK5XMTJSXLeBlUilEFoqQ4kFRuRgpQaxJUSmqSX3pMqFG3G63E544ao8wKRknCWzYktWqTotjMiPA6LKl35qU/ftNxoHf7trr94sXX5Ti/dMEpZLfP7xUsis5Pjmno0WYBCQUIwV5BLmYLgNzUiJIumTUx4oEhFBcLuol4nRG8qIWr1B7S/DMmS1WkI5zU5LlnT03fmdSDh966qlDh3kLfbNsu98r+qozVpacLFXmgZTx67hTkGJ0EQORic0DZ4qWstDoWhCOghOqxOGiSlxugEvhFeQWvUpJvHd3RwkYgWc+46VsvP25AyblyD+vbt9+1y0nTMa+awa8XtHvGWm+qDEAZFMlr1QsK9l13CRSglLYA8PNl5LQwkgIh4VxSEFBKiqPQUoYkb6kwZS4AIcDpDAiKWcEhDghTX0lbNBtu0u4lMnZuvkQT9jvXhx8R1GUrbt+MrmjN9YNeVWxItUZGBe1lpXMvdDEO6HCYUJkmcQEKSNFDtKjYYTDKMg+Y0yi2RlKEopBskkyFIKBa1nXOKwnGEHOSLs9AnnKGwXw+Xyw7TiZFJ9FyboHPzMp396/ZlShhDaufeErHjBXPz7qVR21nf1NLFUa8koFyJTKBCsFnRisW6S0FA2FwxgqJxykTyAMOaIZlhc5DCU1OR4ikYU2KmXGjFn4fMJqxEFxQamU4i3nR3qUFlYgizs6drNRl/V2+Hp9vhYfxbKwejHsAunPo2tu+NSk/HjrwN6No9u2bhvduNM/cM2xMZPy/YvbVNVxcaCPWuF/qixUKvPy74QKS4lKHhkQcFpKLChEPdZ0qmnQXAlrrGGMJTkqTRLHHrZBHq0PUSntdidOuZIgxaKuzu3ClSG8Og414YPC2O0rGwYRioLbhod7FaVFyeBb3ILTu5S39zx0lNfEh49fO7jmvj//+fW3P+9btmfD0BprNjpyy8pVqkOZ2wfdA1QB+WsVcDJhzV9YCpJxVJYlTNKZgoWY2eVB/CQcJMTEGEKHIkP2TqgULaZZfhMeKrW+zyTR88mMSLvTjbe4ulfQQlle63CTRa2rfb1tUB8gBUz4sNJituIGRVkMNnCvUqErQAV/JZTVsE2z4YrXjpuUE0/dsfbjpUePj7E++uTvK9duWHkr76rDS28fUh3qrFRgyZKm3FIBCpWKtbYtGLI8Lmh+IjZEgZhm2AizkwQai2gwXsLjRSsgBRvE2pGhE23EJpmmgWhyQIbgkRWLoFIW4W5R7W1r6ygpS5aVJeOsJtp0BYbSNqyE2noblFYz1KaHFKUquTgEL2W4VY8raQZePmYyftp8565vDphZPj340uD6XQdNxrHNg6JDPDsVaID+YU4mLmvzGwisFFqMaYREZdiJgRQNnBhC1DS7hJhEG8GQ2JdoJXnoOwEBKKf3QJ0cEwxMxYZjAqq3ycRmmCapQ+4t3dA4I7j9fGgcPBz3lczp7S0DFVgx46GOqlBIj4eQacYx3OtWocvipt+P/P7yjjhqg9fiNgznFcbeu14/YlKOP/fK3W+eMPM5fv/KDa8u/Z3t//HATaLoKk81NvBKyUrJX+xzK+CkLFeKHCMoJlE8gicqAaYMlSGx+RaZJg0bKcgCGGCJa8APGLS7rK6BI8yRB/bp10BQPWwX2GaZZiKCXK7uCJDqXgErkY4W0AGEFOrCbPVfput63O9vNU1d9/r93nLkNcu9y9nRKniVtw779bYQY9szP+/ny5ErB1duSq9jfzy67wTfH7t+rXflGwd44dx/95Doru1vrsou9fOtWKXCrVQAmRjA4CIfIxa2dEUFjcT46bCctYgkjXWZR0r3kYCDUDZBpGWuagPm19m3mCSSdLHZxiEmWaPoFTA6P6NHT3Z4KWprj4rMng6VoncnlsObl1Pu9dK6YQw+9h0f78/Ltg9uOsyy5NADLy+7bdnmK784wazcsE4deNIKlk2viqJ7YSP/7w8uZXwD5dwXZqUEUTAvV+iosGYNDrGTXQYdZQJllKTTNCxJmTcNYQPOYYEDxQZS6hIpd20tTLzUiOrXITL8cT3eUU41qF61B/XouFIFLkgmVbX8gjq2j1pbsUqpTJarKupRy1frXNAVV5uUL59Yt3P0yV+og+8fWbt1aKeq7tgw8BabesZeHxRvvmafSTn6mAhWZjb1s+knTwqQ2z98UrakaChoSFlwDBPUFQVVEoDkYJeskXCMSFKXIbFjmdmHiWK7MGXRD0yuFDUJfIugvq6YREgKpdyRiLuO6ABmI7tMV3sw0S9drhPcXdO6vBLpAIKPNZX4UhjEhejCuspWzI7qSR13J1cniMq54no67EMPD6o7P9jHuuXx9SoYWb8BtqtWPnicZsnDQ+J173/PFruPOUTR4VSq+jP3P/n3hbl/tc1KMaKJmMSQgWBOyfBPWlgyYCuzYcsAt2F54W8od7GP2FqnHsqkr32W01lKUDtUSXkPoDJEJAKXAvBWg6gF2D9HFJdjUgNHdFwjIv6NC+mbKKoXVqoWtFLG/npllapue8EEPn8FDu5cv+bJR9etUkVx4EG6pPv5blFcddtBuoi73EFxq9X9cwHeQBOiFtoHyJEieTwygwjFo6G8npOCUtYlIUFs9GGD3w/bnW74XXEZ8GR0d4tpzkEr4DeZAQ5EMBzpXiSeBCrl4CXgRL2dFsonzwzBZbc+cvTbH764agecv3YpnYKe3kGtHGNSGE5xVr8lBchIYaUyD6Sk7wstKcEu6dSlEFlL5N0txwiT5IkS4iFII2ghifK/JEGVTCCCRxyU6m4EO7kswitgO4K5IooDHvlSjl8zBDvrH9oPQXrv+h13X/XsXWx5e8s9N111rfg4jdhNz8I3ht7/kkrhEe90zOuk3ZOVQp2k+8eSAvzbvLnGRlGFYXhmtw12xrPuUKyXVl3HlCGNKa5Tsotms01tm2hSflTCDzBtvWHaRgmmEaXW0qZcBAmmSRNSopBwSQgJIoIJmoAKgvBLE+NpC4W2UKhUCXcQMPE958zs7OwO2xra6Lu0c+bMYXfOs9/3fnNropRYksYvhMNMyRFhx/2PE1KgziyUVI3g0skrHAqQYG5crrnnzi5AgS4w3sAOu1RgRN988w0yPStVSVBOIzkQEtdZoHzQNP907w+/cndZfvBK35fv8lAZ7WRDmjbQCwIKlD3lQVDJF3KgOPfHhNNK96DC5yRHrosKzxagGs+MsPTx57DvyKUpqWJnzTm20Jo+B5pub81K0/uv0lUNbMbvMse9uvgwnOPmhhX99MyrB5Eux2u23DqBovMB/x6OXu5dZ39oTnZ28OWnHJ/lVET2QA9CovpMnB5XC20+Bawly8JR2ESzHAAuZXspx60pthwob4980s4ai08CyvXWwyxzfmx9/daKxe9fpnTkva6vhyntfz0rC7H51qnetRYU9oG+Bypsn3Wqj3PwNrFQIO1xpM5MFGJklQMFs/Qm4PcUXNmlNDhQ1ds3v+rgUE6Dxo2FDV8N9q/8sP3DnQe3LVx9YeiLfY0/w1QuAQrU9HefgAJhH/zykxWP5DIBictS7IoMKBOrZ5NsyXXJ3hOCz5LVEn2uEV50AOXVns8ap0AiUha2f7DqxpHGpaM9w0saOm9dX9Owfi0iZeh9AeWGCwqoFINK8k13t6Wws+TJk/veDuT7l3LB8SfhqXqHrtzK+Gw9xQy19djJawOjv+0dofT0vB+H/7z8U9fymzhBruVXshZe7V2L9LXTh1EpKXsk+UkexsSpx5MPxX1X1CePS3xcCh0XIUDpP3IA8+ta3gPvOHp4CHExr+YEoJy7ihL0WTMz4NubuRF9erZvPpbJGSxFnsmflnblAEhSLkdGFCUkuRUqi9gtRdOtpqJkzLhQPORBpTg3t1jOLEXx6q0IyF7hAyh07mbQad9zkZXhYzDa3nmLjuPY9hxi59rOQ8Po/riBQdm2C8cp1o0UW3658IV8IJnmxIkTJs59H5VCccklnYatVpxSVSAhGGZmgBKmUUkqK3NByZtNISOQiUkJpSnbZ80plgOUuALIFoNybUM9CHUypx3aed4F5eLOuay3ChhymmoGAIW1IMfi5fJHcwHEfYIMJJyJBaWMhiMKwVyE7M6YwydmsYuHdJKpAIGsDoJJVAIGfTFQqlJSkomKaeYlT9vvozTXV0wMtNPGcih0eG+bz9e4GiRoX78LysCVa+j8viEnu2PzewOUQRFOzb1eWL5U/pTCwsS5QxhM3GR/0v6CkR4xJIai63GWBRoWwTiaEV1Ht862Y4XSkBSMMWB6mT1M0YIhBZux1CNBTeEEdU2Ll8X1IkwhRmfzWdNKWdFKK0vkgFapsISp1GbJWAlUzsmT8xRsqKzMrawMyMUtLcU+QMn3F1e0+P0zXmppyc/2F7+UO6fFSsJv5lLo7N7tPrkVfCAG5RMbSg+FBmuzs9uqro6geWFP+lGATyp/ZNpD7JTHQYLbyECSeBQjSikJa2zyJsH3HDTxVgplLQoFbSghlgZRRQoZxESelBGsIvF0dEv4IZStRAgbRWk0Rk0WHAZoQC9Sleeo8iLbSMMa+w8yutiKzDbI1MDnVpdSKFCJXyztfD6Dja9ooUxEzKthwSCFhm9tqaur6kuDwomtafRvXdHL230brdplA+GVUJqaf7/IG+eJA9fjXUHC900yqQIMmFawzAQJQImGTKrZULDkkOA2cUpY3MRUllISoOAnrEYwMBSl0XiI0HgZVVgGUQFFp4ZMMAS2VKTSWFF1NajzrTolbKkE6CwCPogZQnMDlJbm5lLKfMWHYPPNpuEKRI9IgPaqURYO1/7eXNe2sd8DysDqtvaPvhBX+8/sqhVFy31oACrK05aXBEXecCKJh4uDiHuTkqCYnI5FKCighCnWE5GihJQYoXqUQkSB5UaCgKJYUBRQswfHEEMqtxU2UShKYzKGsunrJimSS1m8cBgWHGwKU7NIDoRF2KCT/apE9lVgORtsmc8IdSy9znxj5FStf/3GPgFl0YkElEurt7fNv0K5hne3djg4kqDI0tRpDyYqjkACIpBVfHRuthKhkQhPHDgGhxKluoEVC4qCuTMIGjUYScSMMF8LppQEJWhVM9DgFltEaDWHwqJNLWWsFAtlAoqGtKmuhr9hHO8owZZSRJiGH1VAscvQga01lyh05dO2xiNXTzAoNThgG+VQBvfUb/78L8p1/rX6xLFOkmQIVO5/zDZXjgRMIoWFhRYUEo8bVAGDKMIcvktiYaSBEVFZQseCUVQnDiUMICozXDVmSAaGRTHYJGJqWiiCkowUMsMSNpqiACEZjGqdeVCQDcEGVVWjaBuAyrpKwULBUkGXbmKkiRUAUKs1RgY0AaQENayE9Se0bM8FCl1+rb5jcc2VnqF5S0bA6Nydnt/f+2h71dvgBF28Udvo85AMcSoP8We6bCIMSXl5uVVJsYOmhvISM00tggWhUYWopq4R0zBIFE2NVZ8ogXMgPOLApsFwCNGZK8eIQYihkqBGVKKhQ8cQWJFFJUqACWthDFEAhSkepSrooItqxAgTLHWiYpuGjzQNAg8iAaqioeAbqZY1E+9MVSI7Wn/s9hlmH7u3dDd2Llo+b9HQX2dvn1ux5NtlrV8Lh+0ZXNd1gAOwWThAbCqPPS+MBEAYEWjqVMlTE/BAq05Crrdyjn6iEsxDcX1ccnv86tiy6iKFRjctq9tR39h8aM2how1N69s//O4PESa793XItjgRsXRTCQojsYlA92Ugci9UogaJud5OtEUKorSpkicUMZ7/GxegenETo39DZ7cs13V3d9f5/E1rBinTyODG+vGgnfoE9xEbCJTnBWQCqISpGrKaqe8SM+EdwTHOJD32yHPntleN8qp7u2qZ6NjRvPusuF36ZW0bv6g0JpX7pvMYsYlAYyGBJuZcOT0wvFcha7BXpKFhvSztb77+h3hCpXkHc99NJ3so0+mfuviRPb8y6x+DSomIkRkzAAQ3LUNjI7l3LPyVUBokOQ1CKiL3YHfk1G2t4cX3+J1Nv/yydMmQVXSW7mBF2OICZYgYSZ5RLnjMKuL3LB8eh8NJExMr7jUsbWKp0DxCJwWx08Fr8/zzlKn/znfnj/PW4LptB7inCi72RWK/724TzLuPBQi/L8WUGUoiUCfn7xNcjsE1nk9LS64d++ZaT4qKQ/xdS9e7H+m2r2ZOgcV4z7Jolg0kC8qMxAYzoXLZgtNO9ox0ZbSkblGbBZgLr3XJQg4XIYHGy2EkGUgEEHY5yklcjxd6J0B2ULh9UwBJ4e/ortmEgR6YRG2Gjp9CmHjI5wQNsHhQSRDByXTG4iNNglwZ6YoU1ytDPnlazrJ9Ky+fHRju+7i5Tr6bfA4Zl72IXYEZM/kxJuMfHk+OBArPTPXoTN8X7/2qq69dsGBB53Y5o3wJYfIpFSAHXZB3MExWnGTiD3llL+RZu7yx7N+/n43IeljkZwZ5J6rf6foPNVakOKjc62zhjhtv0/m3VP4XUKAMkTLhnzQmlv8Jk3GeHU9C1nrjFyv/AI+qhf5jEMuuAAAAAElFTkSuQmCC);background-size:230px,54px;background-repeat:no-repeat}.login-area{color:#fff;margin-left:5px;font-size:1em;text-decoration:none;padding-top:2px;padding-left:10px;padding-right:10px;float:left;cursor:pointer}.login-button{color:rgba(255,255,255,.95);background-color:none;padding:2px}.login-button:hover{color:rgba(92,103,114,.95);background-color:#fff;border:1px solid #fff;border-radius:5px}"]
            }] }
];
/** @nocollapse */
TaminSiteHeaderComponent.ctorParameters = () => [
    { type: TaminSecurityService }
];
TaminSiteHeaderComponent.propDecorators = {
    showLogin: [{ type: Input }],
    showProfile: [{ type: Output }]
};
if (false) {
    /** @type {?} */
    TaminSiteHeaderComponent.prototype.userName;
    /** @type {?} */
    TaminSiteHeaderComponent.prototype.showLogin;
    /** @type {?} */
    TaminSiteHeaderComponent.prototype.loggedIn;
    /** @type {?} */
    TaminSiteHeaderComponent.prototype.showProfile;
    /**
     * @type {?}
     * @private
     */
    TaminSiteHeaderComponent.prototype.taminSecurityService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFtaW4tc2l0ZS1oZWFkZXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vdGFtaW4tZnJhbWV3b3JrLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvdGFtaW4tc2l0ZS90YW1pbi1zaXRlLWhlYWRlci90YW1pbi1zaXRlLWhlYWRlci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFLQSxPQUFPLEVBQUMsU0FBUyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQVUsTUFBTSxFQUFZLE1BQU0sZUFBZSxDQUFDO0FBQ3hGLE9BQU8sRUFBQyxvQkFBb0IsRUFBQyxNQUFNLHlEQUF5RCxDQUFDO0FBTzdGLE1BQU0sT0FBTyx3QkFBd0I7Ozs7SUFNbkMsWUFDVSxvQkFBMEM7UUFBMUMseUJBQW9CLEdBQXBCLG9CQUFvQixDQUFzQjtRQUwzQyxjQUFTLEdBQUcsSUFBSSxDQUFDO1FBQzFCLGFBQVEsR0FBRyxLQUFLLENBQUM7UUFDUCxnQkFBVyxHQUFHLElBQUksWUFBWSxFQUFRLENBQUM7SUFJakQsQ0FBQzs7OztJQUVELFFBQVE7UUFDTixJQUFJLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFVBQVUsRUFBRSxFQUFFO1lBQzNDLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1lBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO1NBQ3BCO2FBQU07WUFDTCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztZQUNyQixvREFBb0Q7WUFDcEQsNEhBQTRIO1lBQzVILElBQUk7WUFDSixJQUFJLENBQUMsb0JBQW9CLENBQUMsY0FBYyxFQUFFO2lCQUN2QyxJQUFJOzs7O1lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUM7aUJBQ2xFLEtBQUs7Ozs7WUFBQyxLQUFLLENBQUMsRUFBRTtnQkFDYixJQUFJLENBQUMsUUFBUSxHQUFHLEdBQUcsQ0FBQztZQUN0QixDQUFDLEVBQUMsQ0FBQztTQUNOO0lBQ0gsQ0FBQzs7OztJQUVELE9BQU87UUFDTCxJQUFJLENBQUMsb0JBQW9CLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDOUMsQ0FBQzs7OztJQUVELFFBQVE7UUFDTixJQUFJLENBQUMsb0JBQW9CLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUMvQyxDQUFDOzs7O0lBRUQsYUFBYTtRQUNYLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDMUIsQ0FBQzs7O1lBMUNGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsbUJBQW1CO2dCQUM3QixnaUNBQWlEOzthQUVsRDs7OztZQU5PLG9CQUFvQjs7O3dCQVN6QixLQUFLOzBCQUVMLE1BQU07Ozs7SUFIUCw0Q0FBaUI7O0lBQ2pCLDZDQUEwQjs7SUFDMUIsNENBQWlCOztJQUNqQiwrQ0FBaUQ7Ozs7O0lBRy9DLHdEQUFrRCIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gIENyZWF0ZWQgYnk6IGtfa2F2aWFuaVxuICBSZXZpc2VkIGJ5OiBhX2FtaXJpXG4qL1xuXG5pbXBvcnQge0NvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT25Jbml0LCBPdXRwdXQsIFZpZXdDaGlsZH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1RhbWluU2VjdXJpdHlTZXJ2aWNlfSBmcm9tICcuLi8uLi8uLi9zZXJ2aWNlcy90YW1pbi1zZWN1cml0eS90YW1pbi1zZWN1cml0eS5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndGFtaW4tc2l0ZS1oZWFkZXInLFxuICB0ZW1wbGF0ZVVybDogJy4vdGFtaW4tc2l0ZS1oZWFkZXIuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi90YW1pbi1zaXRlLWhlYWRlci5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIFRhbWluU2l0ZUhlYWRlckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIHVzZXJOYW1lOiBzdHJpbmc7XG4gIEBJbnB1dCgpIHNob3dMb2dpbiA9IHRydWU7XG4gIGxvZ2dlZEluID0gZmFsc2U7XG4gIEBPdXRwdXQoKSBzaG93UHJvZmlsZSA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHRhbWluU2VjdXJpdHlTZXJ2aWNlOiBUYW1pblNlY3VyaXR5U2VydmljZSkge1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgaWYgKCF0aGlzLnRhbWluU2VjdXJpdHlTZXJ2aWNlLmNoZWNrVG9rZW4oKSkge1xuICAgICAgdGhpcy5sb2dnZWRJbiA9IGZhbHNlO1xuICAgICAgdGhpcy51c2VyTmFtZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxvZ2dlZEluID0gdHJ1ZTtcbiAgICAgIC8vIGlmICh0aGlzLnRhbWluU2VjdXJpdHlTZXJ2aWNlLmdldEN1cnJlbnRVc2VyKCkpIHtcbiAgICAgIC8vICAgdGhpcy51c2VyTmFtZSA9IGAke3RoaXMudGFtaW5TZWN1cml0eVNlcnZpY2UuY3VycmVudFVzZXIuZmlyc3ROYW1lfSAke3RoaXMudGFtaW5TZWN1cml0eVNlcnZpY2UuY3VycmVudFVzZXIubGFzdE5hbWV9YDtcbiAgICAgIC8vIH1cbiAgICAgIHRoaXMudGFtaW5TZWN1cml0eVNlcnZpY2UuZ2V0Q3VycmVudFVzZXIoKVxuICAgICAgICAudGhlbihkYXRhID0+IHRoaXMudXNlck5hbWUgPSBgJHtkYXRhLmZpcnN0TmFtZX0gJHtkYXRhLmxhc3ROYW1lfWApXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgdGhpcy51c2VyTmFtZSA9ICcgJztcbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgb25Mb2dpbigpIHtcbiAgICB0aGlzLnRhbWluU2VjdXJpdHlTZXJ2aWNlLnJlZGlyZWN0VG9Mb2dpbigpO1xuICB9XG5cbiAgb25Mb2dvdXQoKSB7XG4gICAgdGhpcy50YW1pblNlY3VyaXR5U2VydmljZS5yZWRpcmVjdFRvTG9nb3V0KCk7XG4gIH1cblxuICBvblVzZXJQcm9maWxlKCkge1xuICAgIHRoaXMuc2hvd1Byb2ZpbGUuZW1pdCgpO1xuICB9XG59XG4iXX0=