{"version":3,"sources":["node_modules/tslib/tslib.es6.js","ng://tamin-framework/lib/services/overlay/overlay.service.ts","ng://tamin-framework/lib/pipes/persian-number.pipe.ts","ng://tamin-framework/lib/services/request-cache.service.ts","ng://tamin-framework/lib/services/tamin-rest-service/tamin-rest.service.ts","ng://tamin-framework/lib/base/field-base.component.ts","ng://tamin-framework/lib/models/search-param.model.ts","ng://tamin-framework/lib/components/fields/tamin-field-auto-complete-data-grid/tamin-field-auto-complete-data-grid.component.ts","ng://tamin-framework/lib/components/tamin-persian-date-picker/tamin-persian-date-picker.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-number/tamin-field-number.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-combo-box-static/tamin-field-combo-box-static.component.ts","ng://tamin-framework/lib/tamin-persian-date.ts","ng://tamin-framework/lib/components/fields/tamin-field-persian-date/tamin-field-persian-date.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-validator/tamin-field-validator.component.ts","ng://tamin-framework/lib/components/tamin-modal/tamin-modal.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-natioanl-id/tamin-field-natioanl-id.component.ts","ng://tamin-framework/lib/components/tamin-image-upload/tamin-image-upload.component.ts","ng://tamin-framework/lib/components/containers/tamin-form-control/tamin-form-control.component.ts","ng://tamin-framework/lib/components/tamin-accordion/tamin-accordion.component.ts","ng://tamin-framework/lib/components/tamin-accordion-group/tamin-accordion-group.component.ts","ng://tamin-framework/lib/components/containers/tamin-tab/tamin-tab.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-mask/tamin-field-mask.component.ts","ng://tamin-framework/lib/models/tamin-menu.model.ts","ng://tamin-framework/lib/components/tamin-site/tamin-site-top-menu/tamin-site-top-menu.component.ts","ng://tamin-framework/lib/components/tamin-data-grid/tamin-data-pager/tamin-data-pager.component.ts","ng://tamin-framework/lib/components/tamin-site/tamin-site-bottom-menu/tamin-site-bottom-menu.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-checkbox/tamin-field-checkbox.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-text/tamin-field-text.component.ts","ng://tamin-framework/lib/components/containers/tamin-tab-panel/tamin-tab-panel.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-combo-box/tamin-field-combo-box.component.ts","ng://tamin-framework/lib/components/fields/tamin-tag/tamin-tag.component.ts","ng://tamin-framework/lib/components/tamin-site/tamin-page-not-found/tamin-page-not-found.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-label/tamin-field-label.component.ts","ng://tamin-framework/lib/services/tamin-storage/tamin-storage.service.ts","ng://tamin-framework/lib/services/tamin-security/tamin-security.service.ts","ng://tamin-framework/lib/components/tamin-site/tamin-site-header/tamin-site-header.component.ts","ng://tamin-framework/lib/services/tamin-lazy-load/tamin-lazy-load.service.ts","ng://tamin-framework/lib/components/tamin-chart/tamin-chart.component.ts","ng://tamin-framework/lib/components/tamin-site/tamin-site-footer/tamin-site-footer.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-static-text/tamin-field-static-text.component.ts","ng://tamin-framework/lib/models/tamin-data-column.model.ts","ng://tamin-framework/lib/services/generic-rest-service/generic-rest.service.ts","ng://tamin-framework/lib/services/persian-service/tamin-persian.service.ts","ng://tamin-framework/lib/services/constants.service.ts","ng://tamin-framework/lib/components/tamin-data-grid/tamin-data-grid.component.ts","ng://tamin-framework/lib/components/maintenance/monitoring/monitoring.component.ts","ng://tamin-framework/lib/components/tamin-map/tamin-map.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-static-persian-date/tamin-field-static-persian-date.component.ts","ng://tamin-framework/lib/components/tamin-pdf-viewer/tamin-pdf-viewer.component.ts","ng://tamin-framework/lib/components/tamin-wizard/tamin-wizard/tamin-wizard-item/tamin-wizard-item.component.ts","ng://tamin-framework/lib/components/tamin-wizard/tamin-wizard/tamin-wizard.component.ts","ng://tamin-framework/lib/components/tamin-menu-button/tamin-menu-button.component.ts","ng://tamin-framework/lib/components/tamin-process-indicator/tamin-process-indicator.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-password/tamin-field-password.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-text-area/tamin-field-text-area.component.ts","ng://tamin-framework/lib/pipes/persian-date-time.pipe.ts","ng://tamin-framework/lib/base/page-base.component.ts","ng://tamin-framework/lib/components/tamin-data-grid/tamin-data-grid-action-menu/tamin-data-grid-action-menu.component.ts","ng://tamin-framework/lib/components/containers/picker-container/picker-container.component.ts","ng://tamin-framework/lib/pipes/callback.pipe.ts","ng://tamin-framework/lib/components/ribbon/ribbon.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-persian-text/tamin-field-persian-text.component.ts","ng://tamin-framework/lib/components/tamin-document-viewer/tamin-document-viewer.component.ts","ng://tamin-framework/lib/components/tamin-document-viewer/image-viewer/image-viewer.component.ts","ng://tamin-framework/lib/components/tamin-document-viewer/pdf-viewer/pdf-viewer.component.ts","ng://tamin-framework/lib/components/tamin-document-viewer/tamin-document-viewer-modal/tamin-document-viewer-modal.component.ts","ng://tamin-framework/lib/helpers/guid.ts","ng://tamin-framework/lib/components/tamin-image-gallery/tamin-image-gallery.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-static-multiline-text/tamin-field-static-multiline-text.component.ts","ng://tamin-framework/lib/components/tamin-image-gallery-managed/tamin-image-gallery-managed.component.ts","ng://tamin-framework/lib/components/image-editor/image-editor.component.ts","ng://tamin-framework/lib/components/tamin-tab/tab-body/tab-body.component.ts","ng://tamin-framework/lib/components/tamin-tab/tab-label/tab-label.component.ts","ng://tamin-framework/lib/components/tamin-tab/tab-item/tab-item.component.ts","ng://tamin-framework/lib/components/tamin-tab/tabs/tabs.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-file-upload/tamin-field-file-upload.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-calculable/tamin-field-calculable.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-editable/tamin-field-editable.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-radio-button/tamin-field-radio-button.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-radio-button-group/tamin-field-radio-button-group.component.ts","ng://tamin-framework/lib/components/tamin-stepper/tamin-stepper-step/tamin-stepper-step.component.ts","ng://tamin-framework/lib/components/tamin-stepper/tamin-stepper.component.ts","ng://tamin-framework/lib/components/tmn/field-txt/field-txt.component.ts","ng://tamin-framework/lib/components/tmn/field-txt/field-num.component.ts","ng://tamin-framework/lib/components/fields/tamin-field-static-number/tamin-field-static-number.component.ts","ng://tamin-framework/lib/tamin-framework.module.ts","ng://tamin-framework/lib/models/sort-param.model.ts","ng://tamin-framework/lib/validators/tamin-validators.ts","ng://tamin-framework/lib/helpers/tamin.data.grid.configuration/tamin.data.grid.configuration.ts","ng://tamin-framework/lib/helpers/tamin.data.grid.configuration/tamin.data.grid.configuration-factory.ts","ng://tamin-framework/lib/services/auth-interceptor.service.ts","ng://tamin-framework/lib/services/platform.service.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","OverlayService","show","element","PlainOverlay","blur","style","zIndex","showMessage","message","html","messageElement","document","createElement","classList","add","innerHTML","face","isShown","overlay","state","STATE_SHOWING","STATE_SHOWN","hide","setTimeout","Injectable","args","providedIn","PersianNumberPipe","transform","value","tmp","toString","parts","split","replace","join","Pipe","name","RequestCacheService","isCacheable","url","taminApplicationConfig","cacheableUrls","find","c","undefined","hasCached","cache","has","getCached","get","setCache","data","set","deleteCache","delete","Inject","Map","TaminRestService","getData","pageNo","pageSize","searchParams","sortParams","query","_this","params","HttpParams","append","keys","forEach","key","JSON","stringify","Promise","resolve","reject","requestCacheService","http","pipe","timeout","restTimeout","toPromise","then","catch","reason","getBlob","responseType","response","error","getAll","querySearchParams","querySortParams","trim","Error","URL_ERROR","getPage","getAllManaged","list","getPageManaged","getById","id","ID_ERROR","theUrl","getByIdManaged","post","update","put","HttpClient","FieldBaseComponent","getInputElementRef","inputElement","ngOnInit","control","controlContainer","formControlName","ngAfterViewInit","initValueAccessor","initializeComponent","registerOnChange","fn","onChange","registerOnTouched","onTouched","writeValue","theValue","maskRef","nativeElement","ngOnDestroy","overlayService","subscription","unsubscribe","getValue","val","keyups","fromEvent","debounceTime","distinctUntilChanged","subscribe","evt","unmaskedValue","target","focuses","startWaiting","stopWaiting","deepFind","obj","path","i","paths","current","length","Component","selector","template","ControlContainer","Injector","FormBuilder","ViewChild","Input","restService","persianNumberPipe","injector","formBuilder","Subscription","EQUAL","EQ","LIKE","NOT","GT","LT","GTE","LTE","NEQ","SearchParam","tslib_1.__extends","TaminFieldAutoCompleteDataGridComponent","picker","parent","search","searchTerm","theGrid","configuration","dataGridConfiguration","casecadeControlName","valueChanges","parentValue","maxSearchTermLength","next","hidePopup","showPopup","tmp_1","property","filter","push","casecadeControlFieldName","operator","searchOperatorType","refreshData","terms","switchMap","term","searchEntries","currentValue","searchPattern","displayField","searchOperator","concat","beforeLoad","emit","onItemSelected","valueField","afterRefreshData","loadData","serviceUrl","searchParam","dataItems","pickerBeforeHide","pickerBeforeShow","providers","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","multi","Output","_super","apply","arguments","SearchOperator","EventEmitter","Subject","TaminPersianDatePickerComponent","defineProperty","_currentDate","date","generateDayData","onChangeView","persianDate","currentDate","format","year","dayData","today","Date","currentMonth","month","currentDay","firstDayInMonth","startOf","firstElementInGrid","subtract","day","clone","hour","persianDay","toDate","nextPrevMonth","generateYearData","startYear","currentYear","yearData","generateMonthData","monthData","cancel","onPrevMonth","onNextMonth","onToday","dateChanged","onSetDay","setView","viewState","viewName","onPrevYearGroup","onNextYearGroup","onThisYear","onThisMonth","onSetYear","onSetMonth","TaminFieldNumberComponent","IMask","mask","Number","thousandsSeparator","min","max","radix","scale","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","negativeNumberColor","TaminFieldComboBoxStaticComponent","button","iconElement","onShowPicker","toggle","renderItem","itemData","itemRenderer","onClearContent","onSelect","item","TaminPersianDate","GregorianToJalali","taminPersianDate","toJalaali","getFullYear","getMonth","getDate","jy","setLeadingZero","jm","jd","JalaliToGregorian","isValidJalaaliDate","toGregorian","gy","gm","gd","FirstDayInMonth","GetNextMonth","isLeapJalaaliYear","GetPrevMonth","call","d2j","g2d","d2g","j2d","jalaaliMonthLength","jalCalLeap","jump","leap","n","bl","breaks","jp","div","mod","jalCal","withoutLeap","march","leapJ","r","jdn","k","j","a","TaminFieldPersianDateComponent","yyyy","substr","mm","dd","updateValue","_setInputMask","disabled","focus","readOnly","t","persianDatePicker","onPickerChange","blocks","DD","MaskedRange","from","to","validate","masked","_value","e","MM","YYYY","placeholderLazy","TaminFieldValidatorComponent","errorMessages","configureErrorMessages","_control","valid","propertyName","this_1","errors","_errorMessages","setDisabledState","isDisabled","TaminModalComponent","createDialog","alertifyRef","destroy","title","modalElement","display","alertify","genericDialog","width","maximizable","showOverlay","_overlay","elements","dialog","hideOverlay","me","buttons_1","button1","button2","button3","main","content","setting","setContent","setup","buttons","options","resizable","padding","frameless","autoReset","closableByDimmer","callback","closeEvent","buttonClicked","settings","onClose","hooks","onrestore","onshow","maxWidth","TaminFieldNatioanlIdComponent","TaminImageUploadComponent","_imageGuid","loadImage","imageGuid","restUrl","image","previewImage","src","displayPreview","console","upload","event","inputfile","dataTransfer","reader","FileReader","files","file_1","readAsDataURL","onload","formData","FormData","result","onImageUploaded","uploadBase64","file","headers","HttpHeaders","Content-Type","removeImage","onImageDeleted","TaminFormControlComponent","TaminAccordionComponent","onClick","preventDefault","toggleAccordion","active","TaminAccordionGroupComponent","ngAfterContentInit","_accordions","accordions","removeSubscriptions","addSubscriptions","changes","rex","toogleAccordion","subscriptions","sub","accordion","ContentChildren","TaminTabComponent","visible","TaminFieldMaskComponent","regex","RegExp","TaminMenuModel","TaminSiteTopMenuComponent","taminRestService","menuData","stack","handleMenu","disable","alert","window","open","router","navigateByUrl","dummy","ref","detectChanges","toggleMobileMenu","mobileMenuBody","mobileMenuButton","background","color","rect","body","getBoundingClientRect","windowResizeHandler","onMobileMenuItemClick","menuItem","items","onMobileMenuReturn","pop","Router","ChangeDetectorRef","HostListener","TaminDataPagerComponent","pagerCurrentPage","pagerTotal","changePage","changeAmount","oldPage","parseFloat","pageChanged","onRefresh","TaminSiteBottomMenuComponent","navigate","TaminFieldCheckboxComponent","validator","checked","setValue","change","TaminFieldTextComponent","maxLength","TaminTabPanelComponent","log","tabComponents","index","currentTab","present","tab","TaminFieldComboBoxComponent","initializeGrid","loadDataOnInit","TaminTagComponent","TaminPageNotFoundComponent","TaminFieldLabelComponent","required","requiredNumber","TaminStorageService","doLocalStorageWork","localStorage","setItem","getItem","removeItem","_a","doCookieWork","cookieService","policy","memoryStorage","exists","remove","findIndex","CookieService","DeviceDetectorService","deviceService","os","browser","TaminSecurityService","_currentUser","addRedirectUrl","taminStorageService","redirectUrl","getRedirectUrl","removeRedirectUrl","addToken","token","expireIn","tokenName","tokenExpire","getToken","hasToken","removeToken","checkToken","expiresIn","thisTime","getTime","loginCallbackCheck","hashParams","location","hash","map","v","accessToken","hp","currentTime","history","replaceState","getUserName","getUserNameUrl","firstName","lastName","getCurrentUser","redirectToLoginWithCordova","redirectToLoginWithBrowser","adressParts","href","authenticationEndpoint","clientId","redirectToLogin","getLoginUrl","redirectToLogout","baseUrl","logoutUrl","mobileLogin","un","pw","security","taminLogin","login","parse","access_token","expires_in","hasAccressTo","httpClient","status","TaminSiteHeaderComponent","taminSecurityService","loggedIn","userName","onLogin","onLogout","onUserProfile","showProfile","showLogin","TaminLazyLoadService","loadJs","loadedLibraries","asObservable","ReplaySubject","script","type","complete","appendChild","loadCss","rel","DOCUMENT","TaminChartComponent","ctx","getContext","cvs","initFlag","taminLazyLoadService","lib","datasets","refresh","ngOnChanges","updateChartData","chart","getChartBuilder","getDatasets","assign","legend","hover","onHover","chartHover","chartClick","opts","chartType","labels","Chart","newDataValues","isArray","dataset","label","elm","newElm","colors","getColors","rgba","colour","alpha","getRandomInt","Math","floor","random","formatLineColor","backgroundColor","borderColor","pointBackgroundColor","pointBorderColor","pointHoverBackgroundColor","pointHoverBorderColor","formatBarColor","hoverBackgroundColor","hoverBorderColor","formatPieColors","formatPolarAreaColors","getRandomColor","generateColor","defaultColors","generateColors","count","colorsArr","TaminSiteFooterComponent","redirectTo","destination","TaminFieldStaticTextComponent","Label","ThousandSeperated","PersianDate","PersianDateTime","RowNumber","Custom","CustomRow","TaminDataColumn","GenericRestService","handleError","getPagedEntity","includeMetaData","pagingPath","getPagedObject","getByMultipleId","ids","dataItem","moment","momentNs","TaminPersianService","getPersianDate","toLocaleDateString","isValid","locale","getPersianDayOfWeek","getGregorianDate","combineRegExps","_i","combined","_numberRange","_charRange","_rtlPunctuations","_ltrPunctuations","_number","_letter","_punctuation","_text","_rtl","ConstantsService","getNetworkErrorMessage","TaminDataGridComponent","visibleColumns","actionColumns","viewType","showActionColumn","actionColumnCaption","rowEditable","rowDeletable","showFooter","showPager","pagerSize","errorMessage","constants","breakpointObserver","observe","breakPoints","allowBreakPoints","matches","renderMode","sortColumnName","sortColumnMethod","direction","loading","hasError","beforeRefreshData","showLoadOverlay","gridContainer","total","totalRows","totalPages","ceil","refreshDataError","onSelectItem","selectedDataItem","itemSelect","onItemCheckBoxClick","selectedDataItems","indexOf","splice","onActionClicked","actionCell","itemAction","onPagerPageChanged","getDataItemString","cell","columnViewType","DataColumnViewType","fields","columnName","taminPersianService","columnTranslator","getDataItemAction","columnStyle","cellRendererSelector","column","cellRenderer","handled","generateContent","test","encodeURIComponent","onActionMenuItemClicked","getCellStylerResult","cellStyler","getRowStylerResult","rowStyler","actionRender","actionRenderer","onSort","BreakpointObserver","genericRestService","changeDetectorRef","showHover","Breakpoints","Small","Handset","MonitoringComponent","startTimer","alive","_subscription","timer","refreshInterval","started","stopTimer","stopped","statusColor","serviceUrls","serviceStartTimes","serviceWaitingTimes","serviceTotalRowsCollected","serviceChartData","dbChartData","now","objectResultWrapper","normalWaitingTime","warningWaitingTime","dangerWaitingTime","refreshServiceChart","newValue","serviceChartClicked","serviceChartHovered","dbChartClicked","dbChartHovered","dbWaitingTimes","dbStartTimes","dbChartLabels","dbChartType","dbChartOptions","serviceChartLabels","serviceChartType","scales","yAxes","ticks","beginAtZero","TaminMapComponent","load","js","setLocation","latitude","longitude","zoom","OpenLayers","addLayer","Layer","OSM","lonLat","LonLat","Projection","getProjectionObject","Markers","addMarker","Marker","setCenter","height","TaminFieldStaticPersianDateComponent","TaminPdfViewerComponent","iframe","URL","createObjectURL","afterLoad","theModal","close","TaminWizardItemComponent","_visible","wizardItem","TaminWizardComponent","toArray","_current","onNextStep","stepChanging","WizardNavigationData","setNext","stepChanged","onPrevStep","setPrev","setStep","step","currentStep","TaminMenuButtonComponent","menuId","onMenuClicked","onButtonClicked","expanded","menuItems","MenuItem","TaminProcessIndicatorComponent","steps","TaminFieldPasswordComponent","showPasswordMeter","checkPassword","pwd","complexity","score","nScore","nLength","nAlphaUC","nAlphaLC","nNumber","nSymbol","nMidChar","nRequirements","nAlphasOnly","nNumbersOnly","nUnqChar","nRepChar","nRepInc","nConsecAlphaUC","nConsecAlphaLC","nConsecNumber","nSeqAlpha","nSeqNumber","nSeqSymbol","nReqChar","nTmpAlphaUC","nTmpAlphaLC","nTmpNumber","all","arrPwd","arrPwdLen","match","bCharExists","abs","s","sFwd","substring","sRev","strReverse","toLowerCase","arrChars","arrCharsIds","arrCharsLen","minVal","nMinPwdLen","nMinReqChars","meter","str","newstring","charAt","TaminFieldTextAreaComponent","rows","cols","PersianDateTimePipe","TaminPageBaseComponent","_host","scrollTo","internalInitialize","initializePage","_title","overlays","_overlayService","destroyPage","closeAll","_restService","_constants","_formBuilder","_changeDetectorRef","_securityService","_persianDateTime","_router","showInfoMessageBox","showErrorMessageBox","theTitle","showQuestionBox","yesCallback","noCallback","confirm","ok","showRetryBox","retryCallback","cancelCallback","closable","getPersianNumber","_persianNumberPipe","showOverlayWithMessage","loadPageData","onTour","introJs","setOptions","nextLabel","prevLabel","skipLabel","doneLabel","start","openModal","markFormGroupAsTouched","form","values","controls","markAsTouched","ngAfterContentChecked","isModal","ElementRef","TaminDataGridActionMenuComponent","theMenuItemClicked","actionColumn","menuItemClicked","dropdownClickedHandler","dropdownClicked","dropdown","parentNode","PickerContainerComponent","shown","berforeShow","adjustWidth","_thePopper","PopperJs","placement","afterShow","berforeHide","afterHide","scheduleUpdate","documentEventHandler","code","shouldHidePicker","contains","CallbackPipe","RibbonComponent","devMode","isDevMode","mobileMode","TaminFieldPersianTextComponent","TaminDocumentViewerComponent","loadPdf","viewerType","pdfViewer","loadPdfBased64","openBased64","imageViewer","pdfJsPath","ImageViewerComponent","value1","img","viewer","Viewer","inline","viewed","zoomTo","PdfViewerComponent","based64toBlob","b64Data","contentType","sliceSize","byteCharacters","atob","byteArrays","offset","slice","byteNumbers","charCodeAt","byteArray","Uint8Array","Blob","DomSanitizer","domSanitizer","TaminDocumentViewerModalComponent","openImage","documentViewer","openPdf","openPdfBased64","Guid","isGuid","guid","gen","createEmpty","raw","out","equals","other","isEmpty","EMPTY","toJSON","TypeError","TaminImageGalleryComponent","selectImage","tag","defaultTitle","defaultTag","checkPermission","filechooser","mime","getBase64FromImageUrl","showAlert","imageInput","click","addEventListener","srcElement","size","maxImageSize","model","ImageModel","source","images","beforeInsert","afterInsert","_gallery","imageContainer","addImage","isNullOrUndefined","beforeRemove","afterRemove","host","Image","setAttribute","canvas","drawImage","dataURL","toDataURL","dataURLtoBlob","binary","array","Permission","plugins","permission","results","request","insertable","removeable","TaminFieldStaticMultilineTextComponent","TaminImageGalleryManagedComponent","ImageModelManaged","internalId","saveImage2","loadFailed","areAllImagesUploaded","saveImage","saveUrl","reportProgress","HttpEventType","Sent","Response","retrySaveImage","cancelSaveImage","clearImages","downloadImage","defaultImage","internalTemp","getUrl","addToQueue","removefromQueue","_queue","dataURLtoFile","dataurl","filename","byteString","mimeString","ab","ArrayBuffer","ia","onloadend","ImageEditorComponent","getImage","cropper","getCroppedCanvas","toBlob","blob","thModal","clear","Cropper","aspectRatio","preview","imagePreview","crop","TaminTabBodyComponent","TemplateRef","TaminTabLabelComponent","TaminTabItemComponent","ContentChild","TaminTabsComponent","tabItems","tabs","startWith","delay","activeTab","first","selectTab","tabItem","isActive","getBorderClass","tabPosition","onResize","hasScroll","tabHeader","scroll","el","scrollLeft","layout","TaminFieldFileUploadComponent","fileInput","changeFileUpload","TaminFieldCalculableComponent","onCalculate","calculate","TaminFieldEditableComponent","edit","TaminFieldRadioButtonComponent","_name","setSelected","onChangeRadio","TaminFieldRadioButtonGroupComponent","radioButtons","TaminStepperStepComponent","TaminStepperComponent","_activeStepName","iconText","FieldTxtComponent","updateChanges","_","FieldNumComponent","TaminFieldStaticNumberComponent","commaSeperated","TaminFrameworkModule","NgModule","declarations","imports","CommonModule","FormsModule","ReactiveFormsModule","HttpClientModule","LayoutModule","exports","SortParam","TaminValidators","nationalId","sum","astr","difa","isNotPresent","TaminDataGridConfiguration","TaminDataGridConfigurationFactory","addUrl","_data","addVisibleColumn","clearVisibleColumns","addActionColumn","clearActionColumns","addSearchParam","param","clearSearchParams","addSortParam","clearSortParams","setViewType","setShowActionColumn","setActionColumnCaption","caption","setId","setRowEditable","setRowDeletable","setDataItems","setShowFooter","setShowPager","setPagerSize","setFirstLoad","setPagerCurrentPage","AuthInterceptorService","intercept","req","setHeaders","Authorization","handle","catchError","ErrorEvent","throwError","PlatformService","isAndroid","platform","ANDROID","isIOS","IOS","isBlink","BLINK","isEdge","EDGE","isFirefox","FIREFOX","isBrowser","isSafari","SAFARI","isTrident","TRIDENT","isWebkit","WEBKIT","Platform","ASC","DESC"],"mappings":"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mBCvDuClC,EAAAA,MAAAlE,GACnDmmC,GAAAltC,UAAA8H,WAAA,SAAW/F,GAAX,IAAAoC,EAAArE,KACE2B,WAAU,WAER0C,EAAK8C,aAAagB,cAAclG,MAAQoC,EAAKgpC,eAAeprC,EAAME,YAClEkC,EAAKwD,SAAS5F,IACb,IAGGmrC,GAAAltC,UAAAmtC,eAAR,SAAuB5kC,OACfrG,EAAQqG,EAAIpG,MAAM,KAExB,OADAD,EAAM,GAAKA,EAAM,GAAGE,QAAQ,wBAAyB,KAC9CF,EAAMG,KAAK,2BAxBrBqH,EAAAA,UAAS/H,KAAA,CAAC,CACTgI,SAAU,4BACVC,SAAA,uMAEAiE,UAAW,CACT,CACEC,QAASC,EAAAA,kBACTC,YAAaC,EAAAA,WAAU,WAAO,OAAAi/B,KAC9Bh/B,OAAO,oBAkBbg/B,IA1BA,SAAAA,sDCJA,IAAAE,yBA4ECC,EAAAA,SAAQ1rC,KAAA,CAAC,CACR2rC,aAAc,CACZpiC,EACAg1B,GACAA,GACAxxB,EACA+C,EACAY,EACAwD,EACAyB,EACAW,EACA0C,EACAC,GACA+B,GACAM,GACAa,GACAE,GACAI,GACAwC,GACAT,GACAvD,GACAkE,GACAO,GACAF,GACAS,GACAG,GACAC,GACAC,GACAgF,GACAqB,GACAyD,GACAG,GACAyC,GACA5nB,EACAusB,GACA0D,GACApB,GACA+B,GACAH,GACAP,GACAuB,GACAO,GACAE,GACAmD,GACAv6B,EACA06B,GACAC,GACAkD,GACAQ,GACAe,GACAC,GACAI,GACAC,GACAQ,GACAQ,GACAiB,GACAkB,GACA6C,GACAC,GACA+B,GACAkB,GACAL,GACAG,GACAD,GACAsB,GACAG,GACAA,GACAG,GACAE,GACAI,GACAG,GACAD,GACAI,GACAG,GACAC,IAEFK,QAAS,CACPC,EAAAA,aACAC,EAAAA,YACAC,EAAAA,oBACAC,EAAAA,iBACAC,EAAAA,cAGFC,QAAS,CACP3iC,EACAwD,EACA+C,EACAY,EACAwD,EACAyB,EACAW,EACA0C,EACAC,GACA+B,GACAM,GACAa,GACAE,GACAI,GACAwC,GACAT,GACAvD,GAC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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import {Injectable} from '@angular/core';\n\ndeclare let PlainOverlay: any;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OverlayService {\n\n  constructor() {\n  }\n\n  show(element = null) {\n    const overlay = new PlainOverlay(element, {blur: 1, style: {zIndex: 9000}});\n    return overlay.show();\n  }\n\n  showMessage(message: string, element = null) {\n    const html = '<div></div><div class=\"tamin-loader-loader4\"></div>' + '<hr>' + message;\n    const messageElement = document.createElement('div');\n    messageElement.classList.add('overlay-message');\n    // messageElement.classList.add('tamin-loader-loader3');\n    messageElement.innerHTML = html;\n    const overlay = new PlainOverlay(element, {blur: 1, face: messageElement});\n    return overlay.show();\n  }\n\n  isShown(overlay) {\n    return (overlay && (overlay.state === PlainOverlay.STATE_SHOWING || overlay.state === PlainOverlay.STATE_SHOWN));\n  }\n\n\n  hide(overlay) {\n    setTimeout(() => {\n      overlay.hide();\n    }, 0);\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'persianNumber'\n})\nexport class PersianNumberPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    if (!value) {\n      return null;\n    }\n    let tmp = value.toString();\n    if (args && args === 'cs') {\n      const parts = value.toString().split('.');\n      parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n      tmp = parts.join('.');\n    }\n    return tmp.toString();\n    // .replace(/0/g, '')\n    // .replace(/1/g, '')\n    // .replace(/2/g, '')\n    // .replace(/3/g, '')\n    // .replace(/4/g, '')\n    // .replace(/5/g, '')\n    // .replace(/6/g, '')\n    // .replace(/7/g, '')\n    // .replace(/8/g, '')\n    // .replace(/9/g, '');\n  }\n}\n","import {Inject, Injectable} from '@angular/core';\nimport {ITaminApplicationConfig} from '../interfaces/tamin-application-config';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RequestCacheService {\n\n  private cache = new Map();\n\n  constructor(@Inject('taminApplicationConfig') private taminApplicationConfig: ITaminApplicationConfig) {\n  }\n\n\n  isCacheable(url: string): boolean {\n    const tmp = this.taminApplicationConfig.cacheableUrls.find(c => c === url);\n    return tmp !== undefined;\n\n  }\n\n  hasCached(url: string): boolean {\n    return this.cache.has(url);\n\n  }\n\n  getCached(url: string) {\n    return this.cache.get(url);\n  }\n\n  setCache(url: string, data: any) {\n    return this.cache.set(url, data);\n  }\n\n  deleteCache(url: string) {\n    this.cache.delete(url);\n  }\n}\n","import {Inject, Injectable} from '@angular/core';\nimport {HttpClient, HttpParams} from '@angular/common/http';\nimport {SearchParam} from '../../models/search-param.model';\nimport {SortParam} from '../../models/sort-param.model';\nimport {timeout} from 'rxjs/operators';\nimport {ITaminApplicationConfig} from '../../interfaces/tamin-application-config';\nimport {RequestCacheService} from '../request-cache.service';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TaminRestService {\n\n  protected URL_ERROR = 'url not specified';\n  protected ID_ERROR = 'id not specified';\n\n  constructor(@Inject('taminApplicationConfig') private taminApplicationConfig: ITaminApplicationConfig,\n              private requestCacheService: RequestCacheService,\n              private http: HttpClient) {\n  }\n\n  protected getData(\n    url: string,\n    pageNo?: number,\n    pageSize?: number,\n    searchParams?: SearchParam[],\n    sortParams?: SortParam[],\n    query?: object): Promise<any> {\n    // let headers = new HttpHeaders();\n    let params = new HttpParams();\n\n    if (pageNo && pageSize) {\n      params = params.append('page', pageNo.toString());\n      params = params.append('start', ((pageNo - 1) * pageSize).toString());\n      params = params.append('limit', pageSize.toString());\n    }\n\n    if (query) {\n      Object.keys(query).forEach((key) => {\n        params = params.append(key, query[key]);\n      });\n    }\n\n    if (searchParams) {\n      params = params.append('filter', JSON.stringify(searchParams));\n    }\n    if (sortParams) {\n      params = params.append('sort', JSON.stringify(sortParams));\n    }\n    // params = params.append('_dc', (new Date()).getTime().toString());\n\n    return new Promise<any>((resolve, reject) => {\n      if (this.requestCacheService.hasCached(url)) {\n        resolve(this.requestCacheService.getCached(url));\n      } else {\n        this.http.get(url, {params})\n          .pipe(timeout(this.taminApplicationConfig.restTimeout))\n          .toPromise()\n          .then(value => {\n            if (this.requestCacheService.isCacheable(url)) {\n              this.requestCacheService.setCache(url, value);\n            }\n            resolve(value);\n          })\n          .catch(reason => {\n            reject(reason);\n          });\n      }\n    });\n  }\n\n  getBlob(url: string, searchParams?: SearchParam[]): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n      let params = new HttpParams();\n      if (searchParams) {\n        params = params.append('filter', JSON.stringify(searchParams));\n      }\n\n      this.http.get(url, {params, responseType: 'blob'})\n        .pipe(timeout(this.taminApplicationConfig.restTimeout))\n        .toPromise()\n        .then((response) => resolve(response))\n        .catch((error) => reject(error));\n    });\n  }\n\n  getAll(url: string, querySearchParams?: SearchParam[], querySortParams?: SortParam[], query?: object): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n      if (url.trim() === '') {\n        reject(new Error(this.URL_ERROR));\n      }\n\n      this.getData(url, null, null, querySearchParams, querySortParams, query)\n        .then((response) => resolve(response))\n        .catch((error) => reject(error));\n    });\n  }\n\n  getPage(url: string, pageNo: number, pageSize: number, querySearchParams?: SearchParam[], querySortParams?: SortParam[], query?: object): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n      this.getData(url, pageNo, pageSize, querySearchParams, querySortParams, query)\n        .then((response) => resolve(response))\n        .catch((error) => reject(error));\n    });\n  }\n\n  getAllManaged<TModel>(url: string, querySearchParams?: SearchParam[], querySortParams?: SortParam[], query?: object): Promise<TModel> {\n    return new Promise<TModel>((resolve, reject) => {\n      this.getData(url, null, null, querySearchParams, querySortParams, query)\n        .then((response: any) => {\n          if (response.data) {\n            resolve(response.data as TModel);\n          } else if (response.list) {\n            resolve(response.list as TModel);\n          }\n        })\n        .catch((error) => reject(error));\n    });\n  }\n\n  getPageManaged<TModel>(url: string, pageNo: number, pageSize: number, querySearchParams?: SearchParam[], querySortParams?: SortParam[], query?: object): Promise<TModel> {\n    return new Promise<TModel>((resolve, reject) => {\n      this.getData(url, pageNo, pageSize, querySearchParams, querySortParams, query)\n        .then((response: any) => {\n          if (response.data) {\n            resolve(response.data as TModel);\n          } else if (response.list) {\n            resolve(response.list as TModel);\n          }\n        })\n        .catch((error) => reject(error));\n    });\n  }\n\n  getById(url: string, id: string): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n      if (url.trim() === '') {\n        reject(new Error(this.URL_ERROR));\n      }\n\n      if (id.trim() === '') {\n        reject(new Error(this.ID_ERROR));\n      }\n\n      const theUrl = `${url}/${id}`;\n\n      this.getData(theUrl)\n        .then((response) => resolve(response))\n        .catch((error) => reject(error));\n    });\n  }\n\n  getByIdManaged<TModel>(url: string, id: number): Promise<TModel> {\n    const theUrl = `${url}/${id}`;\n    return new Promise<any>((resolve, reject) => {\n      this.getData(url)\n        .then((response) => resolve(response.data as TModel))\n        .catch((error) => reject(error));\n    });\n  }\n\n  create(url: string, data: any): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n      if (url.trim() === '') {\n        reject(new Error(this.URL_ERROR));\n      }\n\n      this.http\n        .post(url, data)\n        .pipe(timeout(this.taminApplicationConfig.restTimeout))\n        .toPromise()\n        .then((response) => {\n          resolve(response);\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n  }\n\n  update<TModel>(url: string, id: string, data: TModel): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n      if (url.toString().trim() === '') {\n        reject(new Error(this.URL_ERROR));\n      }\n\n      if (id.trim() === '') {\n        reject(new Error(this.ID_ERROR));\n      }\n\n      const theUrl = `${url}/${id.toString()}`;\n      this.http\n        .put(theUrl, data)\n        .pipe(timeout(this.taminApplicationConfig.restTimeout))\n        .toPromise()\n        .then((response) => resolve(response))\n        .catch((error) => reject(error));\n    });\n  }\n\n  delete(url: string, id: string): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n\n      if (url.trim() === '') {\n        reject(new Error(this.URL_ERROR));\n      }\n\n      if (id.trim() === '') {\n        reject(new Error(this.ID_ERROR));\n      }\n\n      const theUrl = `${url}/${id}`;\n      this.http\n        .delete(theUrl)\n        .pipe(timeout(this.taminApplicationConfig.restTimeout))\n        .toPromise()\n        .then((response) => resolve(response))\n        .catch((error) => reject(error));\n    });\n  }\n}\n","import {AbstractControl, ControlContainer, ControlValueAccessor, FormBuilder} from '@angular/forms';\r\nimport {AfterViewInit, Component, ElementRef, Injector, Input, OnDestroy, OnInit, ViewChild} from '@angular/core';\r\nimport {fromEvent, Subscription} from 'rxjs';\r\nimport {debounceTime, distinctUntilChanged, timeout} from 'rxjs/operators';\r\nimport {OverlayService} from '../services/overlay/overlay.service';\r\nimport {PersianNumberPipe} from '../pipes/persian-number.pipe';\r\nimport {TaminRestService} from '../services/tamin-rest-service/tamin-rest.service';\r\n\r\ndeclare let IMask: any;\r\n\r\n@Component({\r\n  selector: 'tamin-base-component',\r\n  template: ''\r\n})\r\nexport class FieldBaseComponent implements OnInit, ControlValueAccessor, OnDestroy, AfterViewInit {\r\n  @ViewChild('inputElement') inputElement: ElementRef;\r\n  @Input() public formControlName: string;\r\n  @Input() public placeHolder: string;\r\n  @Input() hint: string;\r\n  control: AbstractControl;\r\n  protected maskRef: any;\r\n  protected subscription = new Subscription();\r\n  protected onTouched: any;\r\n  protected onChange: any;\r\n  protected overlay: any;\r\n\r\n  constructor(\r\n    protected overlayService: OverlayService,\r\n    protected restService: TaminRestService,\r\n    protected controlContainer: ControlContainer,\r\n    protected persianNumberPipe: PersianNumberPipe,\r\n    protected injector: Injector, protected formBuilder: FormBuilder) {\r\n    this.onTouched = () => {\r\n    };\r\n    this.onChange = (value: string) => {\r\n    };\r\n  }\r\n\r\n  getInputElementRef(): ElementRef {\r\n    return this.inputElement;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.control = this.controlContainer.control.get(this.formControlName);\r\n    // this.initValueAccessor();\r\n    // this.initializeComponent();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.initValueAccessor();\r\n    this.initializeComponent();\r\n  }\r\n\r\n  registerOnChange(fn: (_: any) => void): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  writeValue(value: any): void {\r\n    const theValue = value == null ? '' : value.toString();\r\n    setTimeout(() => {\r\n      if (this.maskRef) {\r\n        this.maskRef.value = theValue;\r\n      } else {\r\n        this.inputElement.nativeElement.value = theValue;\r\n      }\r\n    });\r\n\r\n    this.onChange(value);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.overlay) {\r\n      this.overlayService.hide(this.overlay);\r\n    }\r\n    this.subscription.unsubscribe();\r\n  }\r\n\r\n  protected getValue(val) {\r\n    return val;\r\n  }\r\n\r\n  protected initValueAccessor() {\r\n    const keyups = fromEvent(this.inputElement.nativeElement, 'keyup').pipe(debounceTime(100), distinctUntilChanged());\r\n    this.subscription.add(keyups.subscribe((evt: any) => {\r\n      if (this.maskRef) {\r\n        this.onChange(this.getValue(this.maskRef.unmaskedValue));\r\n      } else {\r\n        this.onChange(this.getValue(evt.target.value));\r\n      }\r\n    }));\r\n\r\n    const focuses = fromEvent(this.inputElement.nativeElement, 'focus');\r\n    this.subscription.add(focuses.subscribe((evt: any) => {\r\n        this.onTouched();\r\n      }\r\n    ));\r\n  }\r\n\r\n  startWaiting() {\r\n    this.overlay = this.overlayService.show(this.inputElement.nativeElement);\r\n  }\r\n\r\n  stopWaiting() {\r\n    this.overlayService.hide(this.overlay);\r\n  }\r\n\r\n  protected initializeComponent() {\r\n  }\r\n\r\n  protected deepFind(obj, path) {\r\n    const paths = path.split('.');\r\n    let current = obj;\r\n    let i;\r\n\r\n    for (i = 0; i < paths.length; ++i) {\r\n      if (current[paths[i]] === undefined) {\r\n        return undefined;\r\n      } else {\r\n        current = current[paths[i]];\r\n      }\r\n    }\r\n    return current;\r\n  }\r\n\r\n}\r\n","/*\n  Created by: k_kaviani\n  Revised by: a_amiri\n*/\n\n\nexport enum SearchOperator {\n  EQUAL = 'EQUAL',\n  EQ = 'EQ',\n  LIKE = 'LIKE',\n  NOT = 'NOT',\n  GT = 'GT',\n  LT = 'LT',\n  GTE = 'GTE',\n  LTE = 'LTE',\n  NEQ = 'NEQ'\n}\n\nexport class SearchParam {\n  property: string;\n  value: string;\n  operator?: SearchOperator;\n}\n\n","import {Component, EventEmitter, forwardRef, Input, Output, ViewChild} from '@angular/core';\nimport {TaminDataGridComponent} from '../../tamin-data-grid/tamin-data-grid.component';\nimport {TaminDataGridConfiguration} from '../../../helpers/tamin.data.grid.configuration/tamin.data.grid.configuration';\nimport {AbstractControl, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\nimport {fromEvent, Observable, Subject} from 'rxjs';\nimport {debounceTime, distinctUntilChanged, switchMap} from 'rxjs/operators';\nimport {PickerContainerComponent} from '../../containers/picker-container/picker-container.component';\nimport {SearchOperator} from '../../../models/search-param.model';\n\n@Component({\n  selector: 'tamin-field-auto-complete-data-grid',\n  templateUrl: './tamin-field-auto-complete-data-grid.component.html',\n  styleUrls: ['./tamin-field-auto-complete-data-grid.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldAutoCompleteDataGridComponent),\n      multi: true\n    }\n  ]\n})\n\nexport class TaminFieldAutoCompleteDataGridComponent extends FieldBaseComponent {\n  @Input() dataGridConfiguration: TaminDataGridConfiguration;\n  @Input() casecadeControlName: string;\n  @Input() casecadeControlFieldName: string;\n  @Input() displayField: string;\n  @Input() valueField: string;\n  @Input() maxSearchTermLength = 1;\n  @Input() searchOperator = 'LIKE';\n  @Input() searchPattern = '*{term}*';\n  @Input() searchOperatorType: SearchOperator = SearchOperator.EQUAL;\n  @Output() beforeLoad = new EventEmitter();\n  @ViewChild('theGrid') theGrid: TaminDataGridComponent;\n  @ViewChild('picker') picker: PickerContainerComponent;\n  searchTerm = new Subject<string>();\n  filter = [];\n  private selectedValue: string;\n  private currentValue = '';\n  private parent: AbstractControl;\n  private parentValue: string;\n\n  initializeComponent() {\n    setTimeout(() => {\n      this.picker.parent = this.inputElement;\n      this.search(this.searchTerm).subscribe();\n      this.theGrid.configuration = this.dataGridConfiguration;\n      this.control = this.controlContainer.control.get(this.formControlName);\n      if (this.casecadeControlName) {\n        this.parent = this.controlContainer.control.get(this.casecadeControlName);\n        this.subscription.add(this.parent.valueChanges.subscribe(value => {\n          if (value && value !== '') {\n            this.parentValue = value;\n          }\n        }));\n      }\n    }, 0);\n  }\n\n  initValueAccessor() {\n    const keyups = fromEvent(this.inputElement.nativeElement, 'keyup');\n    this.subscription.add(keyups.subscribe((evt: any) => {\n      if (evt.target.value.length >= this.maxSearchTermLength) {\n        this.searchTerm.next(evt.target.value);\n      }\n    }));\n\n    const focuses = fromEvent(this.inputElement.nativeElement, 'focus');\n    this.subscription.add(focuses.subscribe((evt: any) => {\n        this.onTouched();\n      }\n    ));\n  }\n\n  hidePopup() {\n    this.picker.hide();\n  }\n\n  showPopup() {\n    this.picker.show();\n    if (this.parentValue && this.parentValue !== '') {\n      const tmp = this.theGrid.searchParams.find(c => c.property === this.parentValue);\n      if (tmp) {\n        this.theGrid.searchParams = this.theGrid.searchParams.filter(obj => obj !== tmp);\n      }\n      this.theGrid.searchParams.push({\n        property: this.casecadeControlFieldName,\n        value: this.parentValue,\n        operator: this.searchOperatorType\n      });\n    }\n    this.theGrid.refreshData();\n  }\n\n  search(terms: Observable<string>) {\n    return terms.pipe(\n      debounceTime(400),\n      distinctUntilChanged(),\n      switchMap(term => this.searchEntries(term)));\n  }\n\n  searchEntries(term: string) {\n    this.currentValue = '';\n    if (term === '') {\n      this.hidePopup();\n    } else {\n      this.theGrid.searchParams = [];\n      const searchTerm = this.searchPattern.replace('{term}', term);\n      this.theGrid.searchParams = [{property: this.displayField, value: searchTerm, operator: this.searchOperator}];\n      this.theGrid.searchParams = this.theGrid.searchParams.concat(this.filter);\n      if (this.parentValue && this.parentValue !== '') {\n        this.theGrid.searchParams.push({\n          property: this.casecadeControlFieldName,\n          value: this.parentValue,\n          operator: this.searchOperatorType\n        });\n      }\n      this.beforeLoad.emit();\n      // this.theGrid.refreshData();\n      this.showPopup();\n    }\n    this.onChange('');\n    return term === '' ? [] : term;\n  }\n\n  onItemSelected(val: any) {\n    if (!val) {\n      this.onChange('');\n      this.hidePopup();\n      return;\n    }\n    const displayField = this.deepFind(val, this.displayField);\n    const valueField = this.deepFind(val, this.valueField);\n    if (!displayField || !valueField) {\n      this.inputElement.nativeElement.value = '';\n      this.currentValue = '';\n      this.onChange('');\n      return;\n    }\n    this.inputElement.nativeElement.value = displayField;\n    this.currentValue = valueField;\n    this.onChange(valueField);\n    this.hidePopup();\n  }\n\n  afterRefreshData() {\n    this.picker.update();\n  }\n\n  writeValue(value: any): void {\n    const theValue = value == null ? '' : value;\n    if (theValue !== '') {\n      this.loadData(theValue);\n    } else {\n      this.currentValue = '';\n      setTimeout(() => {\n        this.inputElement.nativeElement.value = '';\n      }, 0);\n    }\n  }\n\n  private loadData(theValue) {\n    const theUrl = this.dataGridConfiguration.serviceUrl;\n    const id = this.dataGridConfiguration.id;\n    const searchParam = [\n      {\n        property: id,\n        value: theValue,\n        operator: this.searchOperatorType\n      }\n    ];\n\n    if (this.parentValue && this.parentValue !== '') {\n      searchParam.push({\n        property: this.casecadeControlFieldName,\n        value: this.parentValue,\n        operator: this.searchOperatorType\n      });\n    }\n\n    this.startWaiting();\n    this.restService.getPage(theUrl, 0, 10000, searchParam)\n      .then(value => {\n        this.stopWaiting();\n        if (value.data.list.length === 0) {\n          this.onChange('');\n        }\n        this.onItemSelected(value.data.list[0]);\n        this.theGrid.dataItems = [];\n        this.theGrid.dataItems.push(value.data.list[0]);\n      })\n      .catch(reason => {\n        this.stopWaiting();\n        this.onChange('');\n      });\n  }\n\n  pickerBeforeHide() {\n    if (this.currentValue === '') {\n      this.inputElement.nativeElement.value = '';\n    }\n  }\n\n  pickerBeforeShow() {\n  }\n}\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\n// import * as momentNs from 'jalali-moment';\n\n// const moment = momentNs;\n\ndeclare let persianDate: any;\n\n@Component({\n  selector: 'tamin-persian-date-picker',\n  templateUrl: './tamin-persian-date-picker.component.html',\n  styleUrls: ['./tamin-persian-date-picker.component.scss']\n})\nexport class TaminPersianDatePickerComponent implements OnInit {\n  dayData = [];\n  yearData = [];\n  monthData = [];\n  viewState: string;\n  private _currentDate: Date;\n  @Output() dateChanged = new EventEmitter<Date>();\n  @Output() cancel = new EventEmitter<void>();\n\n  @Input() set currentDate(date: Date) {\n    if (date !== undefined && date !== null) {\n      this._currentDate = date;\n      this.generateDayData();\n    }\n  }\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    this.onChangeView('DayPicker');\n  }\n\n  get currentDate(): Date {\n    return this._currentDate;\n  }\n\n  get currentMonthName(): string {\n    // return moment(this.currentDate).locale('fa').format('MMMM');\n    return (new persianDate(this.currentDate)).format('MMMM');\n  }\n\n  get currentYear(): number {\n    // return moment(this.currentDate).jYear();\n    return (new persianDate(this.currentDate)).year();\n  }\n\n  generateDayData(): void {\n    this.dayData = [];\n    // const today = moment(this.currentDate !== undefined ? this.currentDate : new Date());\n    const today = new persianDate(this.currentDate !== undefined ? this.currentDate : new Date());\n    // const currentMonth = today.jMonth() + 1;\n    const currentMonth = today.month();\n    // const currentDay = today.jDate();\n    const currentDay = today.date();\n    // const firstDayInMonth = today.startOf('jMonth');\n    const firstDayInMonth = today.startOf('month');\n    // const firstElementInGrid = firstDayInMonth.subtract(firstDayInMonth.jDay(), 'day');\n    const firstElementInGrid = firstDayInMonth.subtract('days', firstDayInMonth.day());\n\n    const data = [];\n    for (let i = 0; i < 42; i++) {\n      const tmp = firstElementInGrid.clone().add(i, 'd').hour(23);\n      data.push({\n        year: tmp.year(),\n        month: tmp.month(),\n        day: tmp.date(),\n        persianDay: tmp.date(),\n        today: (tmp.month() === currentMonth) && (tmp.date() === currentDay),\n        date: tmp.toDate(),\n        nextPrevMonth: tmp.month() !== currentMonth\n      });\n    }\n    this.dayData = data;\n  }\n\n  generateYearData(startYear): void {\n    const today = new persianDate(this.currentDate);\n    const currentYear = today.year();\n    this.yearData = [];\n    const year = startYear;\n\n    const data = [];\n    for (let i = 0; i < 20; i++) {\n      data.push({\n        year: year + i,\n        currentYear: currentYear === (year + i)\n      });\n    }\n    this.yearData = data;\n  }\n\n  generateMonthData(): void {\n    const tmp = new persianDate(this.currentDate);\n    const currentMonth = tmp.month();\n    this.monthData = [\n      {\n        name: '',\n        month: 1,\n        currentMonth: currentMonth === 1\n      },\n      {\n        name: '',\n        month: 2,\n        currentMonth: currentMonth === 2\n      },\n      {\n        name: '',\n        month: 3,\n        currentMonth: currentMonth === 3\n      },\n      {\n        name: '',\n        month: 4,\n        currentMonth: currentMonth === 4\n      },\n      {\n        name: '',\n        month: 5,\n        currentMonth: currentMonth === 5\n      },\n      {\n        name: '',\n        month: 6,\n        currentMonth: currentMonth === 6\n      },\n      {\n        name: '',\n        month: 7,\n        currentMonth: currentMonth === 7\n      },\n      {\n        name: '',\n        month: 8,\n        currentMonth: currentMonth === 8\n      },\n      {\n        name: '',\n        month: 9,\n        currentMonth: currentMonth === 9\n      },\n      {\n        name: '',\n        month: 10,\n        currentMonth: currentMonth === 10\n      }, {\n        name: '',\n        month: 11,\n        currentMonth: currentMonth === 11\n      },\n      {\n        name: '',\n        month: 12,\n        currentMonth: currentMonth === 12\n      }\n    ];\n  }\n\n  hide() {\n    this.cancel.emit();\n  }\n\n  onPrevMonth(): void {\n    let today = new persianDate(this.currentDate);\n    today = today.subtract('months', 1);\n    today.date(1);\n    this.currentDate = today.toDate();\n    this.generateDayData();\n  }\n\n  onNextMonth(): void {\n    let today = new persianDate(this.currentDate);\n    today = today.add('months', 1);\n    today.date(1);\n    this.currentDate = today.toDate();\n    this.generateDayData();\n  }\n\n  onToday(): void {\n    this.currentDate = new Date();\n    this.generateDayData();\n    this.dateChanged.emit(this._currentDate);\n  }\n\n  onSetDay(date): void {\n    this.currentDate = new Date(date);\n    this.generateDayData();\n    this.dateChanged.emit(this._currentDate);\n  }\n\n  setView() {\n    this.viewState = 'DayPicker';\n  }\n\n  onChangeView(viewName): void {\n    setTimeout(() => {\n      const today = new persianDate(this.currentDate);\n      switch (viewName) {\n        case 'YearPicker' :\n          this.viewState = 'YearPicker';\n          this.generateYearData(today.year());\n          break;\n        case 'MonthPicker' :\n          this.viewState = 'MonthPicker';\n          this.generateMonthData();\n          break;\n        case 'DayPicker' :\n          this.viewState = 'DayPicker';\n          this.generateDayData();\n          break;\n      }\n    });\n  }\n\n  onPrevYearGroup(): void {\n    const startYear = this.yearData[0].year - 20;\n    this.generateYearData(startYear);\n  }\n\n  onNextYearGroup(): void {\n    const startYear = this.yearData[0].year + 20;\n    this.generateYearData(startYear);\n  }\n\n  onThisYear(): void {\n    this.currentDate = new Date();\n    this.onChangeView('DayPicker');\n  }\n\n  onThisMonth(): void {\n    this.currentDate = new Date();\n    this.onChangeView('DayPicker');\n  }\n\n  onSetYear(year): void {\n    // const tmp = moment(this.currentDate);\n    const tmp = new persianDate(this.currentDate);\n    tmp.year(year);\n    this.currentDate = tmp.toDate();\n    this.onChangeView('DayPicker');\n  }\n\n  onSetMonth(month): void {\n    // const tmp = moment(this.currentDate);\n    const tmp = new persianDate(this.currentDate);\n    tmp.month(month);\n    this.currentDate = tmp.toDate();\n    this.onChangeView('DayPicker');\n  }\n}\n\n\n/*\nimport {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {TaminPersianDate} from '../../../public_api';\n// import * as momentNs from 'jalali-moment';\n\n// const moment = momentNs;\n\n// declare let persianDate: any;\n\n@Component({\n  selector: 'tamin-persian-date-picker',\n  templateUrl: './tamin-persian-date-picker.component.html',\n  styleUrls: ['./tamin-persian-date-picker.component.scss']\n})\nexport class TaminPersianDatePickerComponent implements OnInit {\n  dayData = [];\n  yearData = [];\n  monthData = [];\n  viewState: string;\n  private _currentDate: Date;\n  @Output() dateChanged = new EventEmitter<Date>();\n  @Output() cancel = new EventEmitter<void>();\n\n  @Input() set currentDate(date: Date) {\n    if (date !== undefined && date !== null) {\n      this._currentDate = date;\n      this.generateDayData();\n    }\n  }\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    this.onChangeView('DayPicker');\n  }\n\n  get currentDate(): Date {\n    return this._currentDate;\n  }\n\n  get currentMonthName(): string {\n    // return moment(this.currentDate).locale('fa').format('MMMM');\n    // return (new persianDate(this.currentDate)).format('MMMM');\n    return (TaminPersianDate.GregorianToJalali(this.currentDate).split('/')[1]);\n  }\n\n  get currentYear(): number {\n    // return moment(this.currentDate).jYear();\n    // return (new persianDate(this.currentDate)).year();\n    return Number(TaminPersianDate.GregorianToJalali(this.currentDate).split('/')[0]);\n  }\n\n  generateDayData(): void {\n    this.dayData = [];\n    // const today = moment(this.currentDate !== undefined ? this.currentDate : new Date());\n    const today = this.currentDate !== undefined ? this.currentDate : new Date();\n    // const currentMonth = today.jMonth() + 1;\n    // const currentMonth = today.month();\n    const currentMonth = today.getMonth();\n    // const currentDay = today.jDate();\n    const currentDay = today.getDate();\n    // const firstDayInMonth = today.startOf('jMonth');\n    // const firstDayInMonth = today.startOf('month');\n    const firstDayInMonth = TaminPersianDate.FirstDayInMonth(this.currentDate !== undefined ? this.currentDate : new Date());\n    // const firstElementInGrid = firstDayInMonth.subtract(firstDayInMonth.jDay(), 'day');\n    // const firstElementInGrid = firstDayInMonth.subtract('days', firstDayInMonth.day());\n    const firstElementInGrid = new Date(firstDayInMonth.getTime());\n    firstElementInGrid.setDate(firstElementInGrid.getDate() - (firstElementInGrid.getDay() + 2));\n\n    const data = [];\n    for (let i = 0; i < 42; i++) {\n      // const tmp = firstElementInGrid.clone().add(i, 'd').hour(23);\n      const tmp = new Date(firstElementInGrid.getTime());\n      tmp.setDate(tmp.getDate() + i);\n      tmp.setHours(23);\n      data.push({\n        year: tmp.getFullYear(),\n        month: tmp.getMonth(),\n        day: tmp.getDate(),\n        persianDay: TaminPersianDate.GregorianToJalali(tmp).split('/')[2],\n        today: (tmp.getMonth() === currentMonth) && (tmp.getDate() === currentDay),\n        date: tmp,\n        nextPrevMonth: tmp.getMonth() !== currentMonth\n      });\n    }\n    this.dayData = data;\n  }\n\n  generateYearData(startYear): void {\n    const today = TaminPersianDate.GregorianToJalali(this.currentDate);\n    const currentYear = today.split('/')[0];\n    this.yearData = [];\n    const year = startYear;\n\n    const data = [];\n    for (let i = 0; i < 20; i++) {\n      data.push({\n        year: year + i,\n        currentYear: currentYear === (year + i)\n      });\n    }\n    this.yearData = data;\n  }\n\n  generateMonthData(): void {\n    const tmp = TaminPersianDate.GregorianToJalali(this.currentDate);\n    const currentMonth = Number(tmp.split('/')[1]);\n    this.monthData = [\n      {\n        name: '',\n        month: 1,\n        currentMonth: currentMonth === 1\n      },\n      {\n        name: '',\n        month: 2,\n        currentMonth: currentMonth === 2\n      },\n      {\n        name: '',\n        month: 3,\n        currentMonth: currentMonth === 3\n      },\n      {\n        name: '',\n        month: 4,\n        currentMonth: currentMonth === 4\n      },\n      {\n        name: '',\n        month: 5,\n        currentMonth: currentMonth === 5\n      },\n      {\n        name: '',\n        month: 6,\n        currentMonth: currentMonth === 6\n      },\n      {\n        name: '',\n        month: 7,\n        currentMonth: currentMonth === 7\n      },\n      {\n        name: '',\n        month: 8,\n        currentMonth: currentMonth === 8\n      },\n      {\n        name: '',\n        month: 9,\n        currentMonth: currentMonth === 9\n      },\n      {\n        name: '',\n        month: 10,\n        currentMonth: currentMonth === 10\n      }, {\n        name: '',\n        month: 11,\n        currentMonth: currentMonth === 11\n      },\n      {\n        name: '',\n        month: 12,\n        currentMonth: currentMonth === 12\n      }\n    ];\n  }\n\n  hide() {\n    this.cancel.emit();\n  }\n\n  onPrevMonth(): void {\n    let today = TaminPersianDate.GetPrevMonth(this.currentDate);\n    today = TaminPersianDate.FirstDayInMonth(today);\n    this.currentDate = today;\n    this.generateDayData();\n  }\n\n  onNextMonth(): void {\n    let today = TaminPersianDate.GetNextMonth(this.currentDate);\n    today = TaminPersianDate.FirstDayInMonth(today);\n    this.currentDate = today;\n    this.generateDayData();\n  }\n\n  onToday(): void {\n    this.currentDate = new Date();\n    this.generateDayData();\n    this.dateChanged.emit(this._currentDate);\n  }\n\n  onSetDay(date): void {\n    this.currentDate = new Date(date);\n    this.generateDayData();\n    this.dateChanged.emit(this._currentDate);\n  }\n\n  setView() {\n    this.viewState = 'DayPicker';\n  }\n\n  onChangeView(viewName): void {\n    setTimeout(() => {\n      debugger;\n      const today = TaminPersianDate.GregorianToJalali(this.currentDate);\n      switch (viewName) {\n        case 'YearPicker' :\n          this.viewState = 'YearPicker';\n          this.generateYearData(Number(today.split('/')[0]));\n          break;\n        case 'MonthPicker' :\n          this.viewState = 'MonthPicker';\n          this.generateMonthData();\n          break;\n        case 'DayPicker' :\n          this.viewState = 'DayPicker';\n          this.generateDayData();\n          break;\n      }\n    });\n  }\n\n  onPrevYearGroup(): void {\n    const startYear = this.yearData[0].year - 20;\n    this.generateYearData(startYear);\n  }\n\n  onNextYearGroup(): void {\n    const startYear = this.yearData[0].year + 20;\n    this.generateYearData(startYear);\n  }\n\n  onThisYear(): void {\n    this.currentDate = new Date();\n    this.onChangeView('DayPicker');\n  }\n\n  onThisMonth(): void {\n    this.currentDate = new Date();\n    this.onChangeView('DayPicker');\n  }\n\n  onSetYear(year): void {\n    // const tmp = moment(this.currentDate);\n    const tmp = TaminPersianDate.GregorianToJalali(this.currentDate);\n    // tmp.split('/')[0] = year.toString();\n    this.currentDate = TaminPersianDate.JalaliToGregorian(year, Number(tmp.split('/')[1]), Number(tmp.split('/')[2]));\n    this.onChangeView('DayPicker');\n  }\n\n  onSetMonth(month): void {\n    // const tmp = moment(this.currentDate);\n    const tmp = TaminPersianDate.GregorianToJalali(this.currentDate);\n    // tmp.month(month);\n    this.currentDate = TaminPersianDate.JalaliToGregorian(Number(tmp.split('/')[0]), Number(month), Number(tmp.split('/')[2]));\n    this.onChangeView('DayPicker');\n  }\n}\n */\n","import {Component, forwardRef, Input} from '@angular/core';\nimport {NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\n\ndeclare let IMask: any;\n\n@Component({\n  selector: 'tamin-field-number',\n  templateUrl: './tamin-field-number.component.html',\n  styleUrls: ['./tamin-field-number.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldNumberComponent),\n      multi: true\n    }\n  ]\n})\nexport class TaminFieldNumberComponent extends FieldBaseComponent {\n  @Input() min = Number.MIN_SAFE_INTEGER;\n  @Input() max = Number.MAX_SAFE_INTEGER;\n  @Input() negativeNumberColor = 'red';\n\n  initializeComponent() {\n    const me = this;\n    this.maskRef = new IMask(this.inputElement.nativeElement, {\n      mask: Number,\n      thousandsSeparator: ',',\n      min: me.min,\n      max: me.max,\n      radix: '.',\n      scale: 2,\n    });\n  }\n}\n","import {Component, ElementRef, forwardRef, Input, ViewChild} from '@angular/core';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\nimport {NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {PickerContainerComponent} from '../../containers/picker-container/picker-container.component';\n\n@Component({\n  selector: 'tamin-field-combo-box-static',\n  templateUrl: './tamin-field-combo-box-static.component.html',\n  styleUrls: ['./tamin-field-combo-box-static.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldComboBoxStaticComponent),\n      multi: true\n    }\n  ]\n})\n\nexport class TaminFieldComboBoxStaticComponent extends FieldBaseComponent {\n  @Input() displayField: string;\n  @Input() valueField: string;\n  @Input() itemRenderer: any;\n  @Input() showClearButton: boolean;\n  @ViewChild('picker') picker: PickerContainerComponent;\n  @ViewChild('icon') iconElement: ElementRef;\n  @Input() dataItems = [];\n\n  initializeComponent() {\n    this.picker.parent = this.inputElement;\n    this.picker.button = this.iconElement;\n  }\n\n  onShowPicker() {\n    this.picker.toggle();\n  }\n\n  renderItem(itemData: any) {\n    if (this.itemRenderer) {\n      return this.itemRenderer(itemData);\n    }\n    return itemData[this.displayField];\n  }\n\n  onClearContent() {\n    this.onChange('');\n    this.inputElement.nativeElement.value = '';\n    this.picker.hide();\n  }\n\n  onSelect(item) {\n    this.onChange(item[this.valueField]);\n    this.inputElement.nativeElement.value = item[this.displayField];\n    this.picker.toggle();\n  }\n\n  writeValue(value: any): void {\n    const theValue = value == null ? '' : value;\n    const tmp = this.dataItems.find(c => c[this.valueField] === theValue);\n    if (tmp) {\n      setTimeout(() => {\n        this.inputElement.nativeElement.value = tmp[this.displayField];\n      }, 0);\n    } else {\n      setTimeout(() => {\n        this.inputElement.nativeElement.value = '';\n      }, 0);\n\n    }\n    this.onChange(value);\n  }\n}\n","// Based on https://github.com/jalaali/jalaali-js\r\nexport class TaminPersianDate {\r\n  private static taminPersianDate = new TaminPersianDate();\r\n  public breaks = [-61, 9, 38, 199, 426, 686, 756, 818, 1111, 1181, 1210\r\n    , 1635, 2060, 2097, 2192, 2262, 2324, 2394, 2456, 3178\r\n  ];\r\n\r\n  public static GregorianToJalali(date: Date): string {\r\n    const tmp = TaminPersianDate.taminPersianDate.toJalaali(date.getFullYear(), date.getMonth() + 1, date.getDate());\r\n    return `${tmp.jy}/${TaminPersianDate.setLeadingZero(tmp.jm)}/${TaminPersianDate.setLeadingZero(tmp.jd)}`;\r\n  }\r\n\r\n  private static setLeadingZero(val) {\r\n    if (Number(val) < 10) {\r\n      return '0' + val.toString();\r\n    }\r\n    return val.toString();\r\n  }\r\n\r\n  public static JalaliToGregorian(year: number, month: number, day: number): Date {\r\n    if (TaminPersianDate.taminPersianDate.isValidJalaaliDate(year, month, day)) {\r\n      const tmp = TaminPersianDate.taminPersianDate.toGregorian(year, month, day);\r\n      return new Date(tmp.gy, tmp.gm - 1, tmp.gd, 0, 0, 0, 0);\r\n    }\r\n    throw new Error('Invalid parameters');\r\n  }\r\n\r\n  public static FirstDayInMonth(date: Date): Date {\r\n    const tmp = TaminPersianDate.taminPersianDate.toJalaali(date.getFullYear(), date.getMonth() + 1, date.getDate());\r\n    return TaminPersianDate.JalaliToGregorian(tmp.jy, tmp.jm, 1);\r\n  }\r\n\r\n  public static GetNextMonth(date: Date): Date {\r\n    const tmp = TaminPersianDate.taminPersianDate.toJalaali(date.getFullYear(), date.getMonth() + 1, date.getDate());\r\n    let month = tmp.jm + 1;\r\n    let year = tmp.jy;\r\n    let day = tmp.jd;\r\n\r\n    if (month > 12) {\r\n      month = 1;\r\n      year += 1;\r\n    }\r\n     if (month > 6 && day > 30) {\r\n       day = 30;\r\n     }\r\n\r\n    if (month === 12 && TaminPersianDate.taminPersianDate.isLeapJalaaliYear(year) && day > 29) {\r\n      day = 29;\r\n    }\r\n\r\n    return TaminPersianDate.JalaliToGregorian(year, month, day);\r\n  }\r\n\r\n  public static GetPrevMonth(date: Date): Date {\r\n    const tmp = TaminPersianDate.taminPersianDate.toJalaali(date.getFullYear(), date.getMonth() + 1, date.getDate());\r\n    let month = tmp.jm - 1;\r\n    let year = tmp.jy;\r\n    let day = tmp.jd;\r\n\r\n    if (month === 0) {\r\n      month = 1;\r\n      year -= 1;\r\n    }\r\n     if (month > 6 && day > 30) {\r\n       day = 30;\r\n     }\r\n\r\n    if (month === 12 && TaminPersianDate.taminPersianDate.isLeapJalaaliYear(year) && day > 29) {\r\n      day = 29;\r\n    }\r\n\r\n    return TaminPersianDate.JalaliToGregorian(year, month, day);\r\n  }\r\n\r\n\r\n  /*\r\n  Converts a Gregorian date to Jalaali.\r\n  */\r\n  public toJalaali(gy, gm, gd) {\r\n    if (Object.prototype.toString.call(gy) === '[object Date]') {\r\n      gd = gy.getDate();\r\n      gm = gy.getMonth() + 1;\r\n      gy = gy.getFullYear();\r\n    }\r\n    return this.d2j(this.g2d(gy, gm, gd));\r\n  }\r\n\r\n  /*\r\n    Converts a Jalaali date to Gregorian.\r\n  */\r\n  public toGregorian(jy, jm, jd) {\r\n    return this.d2g(this.j2d(jy, jm, jd));\r\n  }\r\n\r\n  /*\r\n    Checks whether a Jalaali date is valid or not.\r\n  */\r\n  public isValidJalaaliDate(jy, jm, jd) {\r\n    return jy >= -61 && jy <= 3177 &&\r\n      jm >= 1 && jm <= 12 &&\r\n      jd >= 1 && jd <= this.jalaaliMonthLength(jy, jm);\r\n  }\r\n\r\n  /*\r\n    Is this a leap year or not?\r\n  */\r\n  public isLeapJalaaliYear(jy) {\r\n    return this.jalCalLeap(jy) === 0;\r\n  }\r\n\r\n  /*\r\n    Number of days in a given month in a Jalaali year.\r\n  */\r\n  public jalaaliMonthLength(jy, jm) {\r\n    if (jm <= 6) {\r\n      return 31;\r\n    }\r\n    if (jm <= 11) {\r\n      return 30;\r\n    }\r\n    if (this.isLeapJalaaliYear(jy)) {\r\n      return 30;\r\n    }\r\n    return 29;\r\n  }\r\n\r\n  /*\r\n      This function determines if the Jalaali (Persian) year is\r\n      leap (366-day long) or is the common year (365 days)\r\n\r\n      @param jy Jalaali calendar year (-61 to 3177)\r\n      @returns number of years since the last leap year (0 to 4)\r\n   */\r\n  public jalCalLeap(jy) {\r\n    // tslint:disable-next-line:prefer-const\r\n    let bl = this.breaks.length\r\n      , jp = this.breaks[0]\r\n      , jm\r\n      , jump\r\n      , leap\r\n      , n\r\n      , i;\r\n\r\n    if (jy < jp || jy >= this.breaks[bl - 1]) {\r\n      throw new Error('Invalid Jalaali year ' + jy);\r\n    }\r\n\r\n    for (i = 1; i < bl; i += 1) {\r\n      jm = this.breaks[i];\r\n      jump = jm - jp;\r\n      if (jy < jm) {\r\n        break;\r\n      }\r\n      jp = jm;\r\n    }\r\n    n = jy - jp;\r\n\r\n    if (jump - n < 6) {\r\n      n = n - jump + this.div(jump + 4, 33) * 33;\r\n    }\r\n    leap = this.mod(this.mod(n + 1, 33) - 1, 4);\r\n    if (leap === -1) {\r\n      leap = 4;\r\n    }\r\n\r\n    return leap;\r\n  }\r\n\r\n  /*\r\n    This function determines if the Jalaali (Persian) year is\r\n    leap (366-day long) or is the common year (365 days), and\r\n    finds the day in March (Gregorian calendar) of the first\r\n    day of the Jalaali year (jy).\r\n\r\n    @param jy Jalaali calendar year (-61 to 3177)\r\n    @param withoutLeap when don't need leap (true or false) default is false\r\n    @return\r\n      leap: number of years since the last leap year (0 to 4)\r\n      gy: Gregorian year of the beginning of Jalaali year\r\n      march: the March day of Farvardin the 1st (1st day of jy)\r\n    @see: http://www.astro.uni.torun.pl/~kb/Papers/EMP/PersianC-EMP.htm\r\n    @see: http://www.fourmilab.ch/documents/calendar/\r\n  */\r\n  public jalCal(jy, withoutLeap) {\r\n    // tslint:disable-next-line:prefer-const\r\n    let bl = this.breaks.length\r\n      // tslint:disable-next-line:prefer-const\r\n      , gy = jy + 621\r\n      , leapJ = -14\r\n      , jp = this.breaks[0]\r\n      , jm\r\n      , jump\r\n      , leap\r\n      , leapG\r\n      , march\r\n      , n\r\n      , i;\r\n\r\n    if (jy < jp || jy >= this.breaks[bl - 1]) {\r\n      throw new Error('Invalid Jalaali year ' + jy);\r\n    }\r\n\r\n    // Find the limiting years for the Jalaali year jy.\r\n    for (i = 1; i < bl; i += 1) {\r\n      jm = this.breaks[i];\r\n      jump = jm - jp;\r\n      if (jy < jm) {\r\n        break;\r\n      }\r\n      leapJ = leapJ + this.div(jump, 33) * 8 + this.div(this.mod(jump, 33), 4);\r\n      jp = jm;\r\n    }\r\n    n = jy - jp;\r\n\r\n    // Find the number of leap years from AD 621 to the beginning\r\n    // of the current Jalaali year in the Persian calendar.\r\n    leapJ = leapJ + this.div(n, 33) * 8 + this.div(this.mod(n, 33) + 3, 4);\r\n    if (this.mod(jump, 33) === 4 && jump - n === 4) {\r\n      leapJ += 1;\r\n    }\r\n\r\n    // And the same in the Gregorian calendar (until the year gy).\r\n    leapG = this.div(gy, 4) - this.div((this.div(gy, 100) + 1) * 3, 4) - 150;\r\n\r\n    // Determine the Gregorian date of Farvardin the 1st.\r\n    march = 20 + leapJ - leapG;\r\n\r\n    // return with gy and march when we don't need leap\r\n    if (withoutLeap) {\r\n      return {gy: gy, march: march};\r\n    }\r\n\r\n\r\n    // Find how many years have passed since the last leap year.\r\n    if (jump - n < 6) {\r\n      n = n - jump + this.div(jump + 4, 33) * 33;\r\n    }\r\n    leap = this.mod(this.mod(n + 1, 33) - 1, 4);\r\n    if (leap === -1) {\r\n      leap = 4;\r\n    }\r\n\r\n    return {\r\n      leap: leap\r\n      , gy: gy\r\n      , march: march\r\n    };\r\n  }\r\n\r\n  /*\r\n    Converts a date of the Jalaali calendar to the Julian Day number.\r\n\r\n    @param jy Jalaali year (1 to 3100)\r\n    @param jm Jalaali month (1 to 12)\r\n    @param jd Jalaali day (1 to 29/31)\r\n    @return Julian Day number\r\n  */\r\n  public j2d(jy, jm, jd) {\r\n    const r = this.jalCal(jy, true);\r\n    return this.g2d(r.gy, 3, r.march) + (jm - 1) * 31 - this.div(jm, 7) * (jm - 7) + jd - 1;\r\n  }\r\n\r\n  /*\r\n    Converts the Julian Day number to a date in the Jalaali calendar.\r\n\r\n    @param jdn Julian Day number\r\n    @return\r\n      jy: Jalaali year (1 to 3100)\r\n      jm: Jalaali month (1 to 12)\r\n      jd: Jalaali day (1 to 29/31)\r\n  */\r\n  public d2j(jdn) {\r\n    // tslint:disable-next-line:prefer-const\r\n    let gy = this.d2g(jdn).gy // Calculate Gregorian year (gy).\r\n      , jy = gy - 621\r\n      // tslint:disable-next-line:prefer-const\r\n      , r = this.jalCal(jy, false)\r\n      // tslint:disable-next-line:prefer-const\r\n      , jdn1f = this.g2d(gy, 3, r.march)\r\n      , jd\r\n      , jm\r\n      , k;\r\n\r\n    // Find number of days that passed since 1 Farvardin.\r\n    k = jdn - jdn1f;\r\n    if (k >= 0) {\r\n      if (k <= 185) {\r\n        // The first 6 months.\r\n        jm = 1 + this.div(k, 31);\r\n        jd = this.mod(k, 31) + 1;\r\n        return {\r\n          jy: jy\r\n          , jm: jm\r\n          , jd: jd\r\n        };\r\n      } else {\r\n        // The remaining months.\r\n        k -= 186;\r\n      }\r\n    } else {\r\n      // Previous Jalaali year.\r\n      jy -= 1;\r\n      k += 179;\r\n      if (r.leap === 1) {\r\n        k += 1;\r\n      }\r\n    }\r\n    jm = 7 + this.div(k, 30);\r\n    jd = this.mod(k, 30) + 1;\r\n    return {\r\n      jy: jy\r\n      , jm: jm\r\n      , jd: jd\r\n    };\r\n  }\r\n\r\n  /*\r\n    Calculates the Julian Day number from Gregorian or Julian\r\n    calendar dates. This integer number corresponds to the noon of\r\n    the date (i.e. 12 hours of Universal Time).\r\n    The procedure was tested to be good since 1 March, -100100 (of both\r\n    calendars) up to a few million years into the future.\r\n\r\n    @param gy Calendar year (years BC numbered 0, -1, -2, ...)\r\n    @param gm Calendar month (1 to 12)\r\n    @param gd Calendar day of the month (1 to 28/29/30/31)\r\n    @return Julian Day number\r\n  */\r\n  public g2d(gy, gm, gd) {\r\n    let d = this.div((gy + this.div(gm - 8, 6) + 100100) * 1461, 4)\r\n      + this.div(153 * this.mod(gm + 9, 12) + 2, 5)\r\n      + gd - 34840408;\r\n    d = d - this.div(this.div(gy + 100100 + this.div(gm - 8, 6), 100) * 3, 4) + 752;\r\n    return d;\r\n  }\r\n\r\n  /*\r\n    Calculates Gregorian and Julian calendar dates from the Julian Day number\r\n    (jdn) for the period since jdn=-34839655 (i.e. the year -100100 of both\r\n    calendars) to some millions years ahead of the present.\r\n\r\n    @param jdn Julian Day number\r\n    @return\r\n      gy: Calendar year (years BC numbered 0, -1, -2, ...)\r\n      gm: Calendar month (1 to 12)\r\n      gd: Calendar day of the month M (1 to 28/29/30/31)\r\n  */\r\n  public d2g(jdn) {\r\n    let j\r\n      , i\r\n      , gd\r\n      , gm\r\n      , gy;\r\n    j = 4 * jdn + 139361631;\r\n    j = j + this.div(this.div(4 * jdn + 183187720, 146097) * 3, 4) * 4 - 3908;\r\n    i = this.div(this.mod(j, 1461), 4) * 5 + 308;\r\n    gd = this.div(this.mod(i, 153), 5) + 1;\r\n    gm = this.mod(this.div(i, 153), 12) + 1;\r\n    gy = this.div(j, 1461) - 100100 + this.div(8 - gm, 6);\r\n    return {\r\n      gy: gy\r\n      , gm: gm\r\n      , gd: gd\r\n    };\r\n  }\r\n\r\n  /*\r\n    Utility helper functions.\r\n  */\r\n  public div(a, b) {\r\n    // tslint:disable-next-line:no-bitwise\r\n    return ~~(a / b);\r\n  }\r\n\r\n  public mod(a, b) {\r\n    // tslint:disable-next-line:no-bitwise\r\n    return a - ~~(a / b) * b;\r\n  }\r\n}\r\n","import {Component, ElementRef, forwardRef, Input, ViewChild} from '@angular/core';\n// import * as momentNs from 'jalali-moment';\nimport {NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\nimport {TaminPersianDatePickerComponent} from '../../tamin-persian-date-picker/tamin-persian-date-picker.component';\nimport {PickerContainerComponent} from '../../containers/picker-container/picker-container.component';\nimport {TaminPersianDate} from '../../../tamin-persian-date';\n\ndeclare let IMask: any;\n\n// const moment = momentNs;\n\n// declare let persianDate: any;\n\n@Component({\n  selector: 'tamin-field-persian-date',\n  templateUrl: './tamin-field-persian-date.component.html',\n  styleUrls: ['./tamin-field-persian-date.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldPersianDateComponent),\n      multi: true\n    }\n  ]\n})\nexport class TaminFieldPersianDateComponent extends FieldBaseComponent {\n  @ViewChild('picker') picker: PickerContainerComponent;\n  @ViewChild('persianDatePicker') persianDatePicker: TaminPersianDatePickerComponent;\n  @ViewChild('icon') iconElement: ElementRef;\n\n  @Input() set value(val: Date) {\n    // const tmp = moment(new Date(val));\n    // const tmp = new persianDate(new Date(val));\n    const tmp = TaminPersianDate.GregorianToJalali(new Date(val));\n    // this.inputElement.nativeElement.value = tmp.toLocale('en').format('YYYY/MM/DD');\n    this.inputElement.nativeElement.value = tmp;\n  }\n\n  protected getValue(val: string) {\n    if (val.length === 8) {\n      const yyyy = val.substr(0, 4);\n      const mm = val.substr(4, 2);\n      const dd = val.substr(6, 2);\n      const input = [Number(yyyy), Number(mm), Number(dd), 0, 0, 0];\n      // return (new persianDate(input)).toDate();\n      return TaminPersianDate.JalaliToGregorian(Number(yyyy), Number(mm), Number(dd));\n    }\n    return '';\n  }\n\n  writeValue(value: any): void {\n    setTimeout(() => {\n      if (value === '' || value === undefined || value === null) {\n        this.inputElement.nativeElement.value = '';\n        return;\n      }\n      // const tmp = new persianDate(new Date(value));\n      const tmp = TaminPersianDate.GregorianToJalali(new Date(value));\n      // this.inputElement.nativeElement.value = tmp.toLocale('en').format('YYYY/MM/DD'); // tmp.locale('fa').format('YYYY/MM/DD');\n      this.inputElement.nativeElement.value = tmp;\n/*\n      if (!this.maskRef) {\n        this._setInputMask();\n      }\n      this.maskRef.updateValue();\n*/\n      this.maskRef.updateValue();\n      this.onChange(value);\n    }, 0);\n  }\n\n  initializeComponent() {\n    this._setInputMask();\n    setTimeout(() => {\n      this.picker.parent = this.inputElement;\n      this.picker.button = this.iconElement;\n\n    }, 0);\n  }\n\n  get value(): Date {\n    // return moment.from(this.inputElement.nativeElement.value, 'fa', 'YYYY/MM/DD').toDate();\n    const tmp = this.inputElement.nativeElement.value.split('/');\n    const input = [Number(tmp[0]), Number(tmp[1]), Number(tmp[2]), 0, 0, 0];\n    // return (new persianDate(input)).toDate();\n    return (TaminPersianDate.JalaliToGregorian(Number(tmp[0]), Number(tmp[1]), Number(tmp[2])));\n  }\n\n  onShowPicker() {\n    if (this.control.disabled) {\n      return;\n    }\n    this.inputElement.nativeElement.focus();\n    this.picker.toggle();\n  }\n\n  hidePopup() {\n    // this.pickerVisibility = 'hidden';\n    this.picker.hide();\n    this.inputElement.nativeElement.readOnly = false;\n  }\n\n  showPopup() {\n    this.inputElement.nativeElement.readOnly = true;\n    const val = this.inputElement.nativeElement.value;\n    // const tmp = moment.from(val, 'fa', 'YYYY/MM/DD');\n    const t = this.inputElement.nativeElement.value.split('/');\n    const input = [Number(t[0]), Number(t[1]), Number(t[2]), 23, 0, 0];\n    // const tmp = (new persianDate(input));\n    const tmp = TaminPersianDate.JalaliToGregorian(Number(t[0]), Number(t[1]), Number(t[2]));\n    // if (tmp.isValid()) {\n    // this.persianDatePicker.currentDate = new Date(tmp.toDate());\n    this.persianDatePicker.currentDate = tmp;\n    // }\n    this.persianDatePicker.setView();\n    this.picker.show();\n    // this._thePopper.update();\n  }\n\n  onPickerChange(val: any) {\n    if (val !== undefined) {\n      this.inputElement.nativeElement.focus();\n      this.value = val;\n      this.onChange(this.value);\n      this.hidePopup();\n    }\n  }\n\n  private _setInputMask() {\n    this.maskRef = new IMask(this.inputElement.nativeElement, {\n      mask: 'YYYY/MM/DD',\n      blocks: {\n        DD: {\n          mask: IMask.MaskedRange,\n          from: 1,\n          to: 31,\n          validate: function (value, masked) {\n            try {\n              const tmp = masked.parent._value.split('/');\n              const yyyy = tmp[0];\n              const mm = tmp[1];\n              const dd = value;\n              // let theDate;\n              // theDate = moment.from(`${yyyy}/${mm}/${dd}`, 'fa', 'YYYY/MM/DD');\n              // return theDate.isValid();\n              // const result = new persianDate([Number(yyyy), Number(mm), Number(dd), 0, 0, 0, 0]);\n              const result = TaminPersianDate.JalaliToGregorian(Number(yyyy), Number(mm), Number(dd));\n              return result !== null;\n            } catch (e) {\n              return false;\n            }\n          }\n        },\n        MM: {\n          mask: IMask.MaskedRange,\n          from: 1,\n          to: 12\n        },\n        YYYY: {\n          mask: IMask.MaskedRange,\n          from: 1000,\n          to: 9999\n        },\n      },\n      placeholderLazy: false,\n    });\n  }\n}\n","import {Component, forwardRef, Input, OnInit} from '@angular/core';\nimport {AbstractControl, ControlContainer, ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {ValidationMessageModel} from '../../../models/validation-message-model';\n\n@Component({\n  selector: 'tamin-field-validator',\n  templateUrl: './tamin-field-validator.component.html',\n  styleUrls: ['./tamin-field-validator.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldValidatorComponent),\n      multi: true\n    }\n  ]\n\n})\nexport class TaminFieldValidatorComponent implements OnInit, ControlValueAccessor {\n  _errorMessages: ValidationMessageModel[] | object[];\n  @Input() formControlName: string;\n\n  @Input() set errorMessages(errorMessages: ValidationMessageModel[] | object[]) {\n\n    // errorMessages.forEach((item) => {\n    //   const temp = (<ValidationMessageModel[]>this._errorMessages).find(c => c.name === item.name);\n    //   if (!temp) {\n    //     this._errorMessages.push(item);\n    //   } else {\n    //     temp.value = item.value;\n    //   }\n    // });\n  }\n\n  _control: AbstractControl;\n\n  constructor(private controlContainer: ControlContainer) {\n  }\n\n  ngOnInit() {\n    this.configureErrorMessages();\n    this._control = this.controlContainer.control.get(this.formControlName);\n  }\n\n  get control(): AbstractControl {\n    return this._control;\n  }\n\n\n  get errorMessage(): string {\n    if (!this._control.valid) {\n      for (const propertyName in this._control.errors) {\n        if (this._control.errors.hasOwnProperty(propertyName)) {\n          return (<ValidationMessageModel[]>this._errorMessages).find(p => p.name === propertyName).value;\n        }\n      }\n    }\n    return '';\n  }\n\n  configureErrorMessages() {\n    this._errorMessages = [\n      {name: 'required', value: '    '},\n      {name: 'pattern', value: '    '},\n      {name: 'email', value: '  '},\n      {name: 'minlength', value: '      '},\n      {name: 'maxlength', value: '      '},\n      {name: 'min', value: '    '},\n      {name: 'max', value: '    '},\n      {name: 'requiredTrue', value: ''},\n      {name: 'nullValidator', value: ''},\n      {name: 'compose', value: ''},\n      {name: 'composeAsync', value: ''},\n      {name: 'requiredNumber', value: '    '},\n      {name: 'persianDate', value: '  '},\n      {name: 'nationalId', value: '   '}\n    ];\n  }\n\n\n  registerOnChange(fn: any): void {\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n  }\n\n  writeValue(obj: any): void {\n  }\n}\n","import {Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {OverlayService} from '../../services/overlay/overlay.service';\n\ndeclare let PlainModal: any;\ndeclare let PlainDraggable: any;\n\ndeclare var alertify: any;\n\n@Component({\n  selector: 'tamin-modal',\n  templateUrl: './tamin-modal.component.html',\n  styleUrls: ['./tamin-modal.component.scss']\n})\nexport class TaminModalComponent implements OnInit {\n  @ViewChild('modalElement') modalElement: ElementRef;\n  @Input() title: string;\n  @Input() width = '80%';\n  @Input() maximizable: true;\n  button1: any;\n  button2: any;\n  button3: any;\n  modal: any;\n  draggable: any;\n  self: any;\n  private _overlay = null;\n  @Output() buttonClicked = new EventEmitter<any>();\n\n\n  private alertifyRef = null;\n\n  constructor(private overlayService: OverlayService) {\n  }\n\n  ngOnInit() {\n    this.createDialog();\n  }\n\n  show() {\n    if (this.alertifyRef) {\n      this.alertifyRef.destroy();\n      this.alertifyRef = null;\n    }\n    // self = this.modal.open();\n    if (this.title === '') {\n      this.title = ' ';\n    }\n    this.modalElement.nativeElement.style.display = 'block';\n    this.alertifyRef = alertify.genericDialog(this.modalElement.nativeElement, this.title, this.width, this.maximizable);\n  }\n\n  showOverlay() {\n    if (this.alertifyRef === null) {\n      return;\n    }\n    if (this._overlay) {\n      return;\n    }\n\n    this._overlay = this.overlayService.show(this.alertifyRef.elements.dialog);\n  }\n\n  hideOverlay() {\n    if (this.alertifyRef === null) {\n      return;\n    }\n\n    if (!this._overlay) {\n      return;\n    }\n\n    this.overlayService.hide(this._overlay);\n  }\n\n\n  hide() {\n    if (this.alertifyRef === null) {\n      return;\n    }\n    this.alertifyRef.destroy();\n    this.alertifyRef = null;\n  }\n\n  createDialog() {\n    const me = this;\n    if (!alertify.genericDialog) {\n      const buttons = [];\n      if (this.button1) {\n        buttons.push(this.button1);\n      }\n      if (this.button2) {\n        buttons.push(this.button2);\n      }\n      if (this.button3) {\n        buttons.push(this.button3);\n      }\n      alertify.dialog('genericDialog', function () {\n        return {\n          main: function (content, title, width, maximizable) {\n            this.setting('title', title);\n            this.setting('width', width);\n            this.setting('maximizable', maximizable);\n            this.setContent(content);\n          },\n          setup: function () {\n            return {\n              buttons: buttons,\n              options: {\n                resizable: false,\n                padding: false,\n                frameless: false,\n                autoReset: false,\n                closableByDimmer: false\n              }\n            };\n          },\n          callback: function (closeEvent) {\n            me.buttonClicked.emit(closeEvent);\n          },\n          settings: {\n            width: '',\n            onClose: undefined\n          },\n          hooks: {\n            onrestore: function () {\n              this.elements.dialog.style.width = this.get('width');\n            },\n            onshow: function () {\n              this.elements.dialog.style.maxWidth = 'none';\n              this.elements.dialog.style.width = this.get('width');\n            }\n          }\n        };\n      });\n    }\n  }\n}\n","import {Component, forwardRef} from '@angular/core';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\nimport {NG_VALUE_ACCESSOR} from '@angular/forms';\n\ndeclare let IMask: any;\n\n@Component({\n  selector: 'tamin-field-natioanl-id',\n  templateUrl: './tamin-field-natioanl-id.component.html',\n  styleUrls: ['./tamin-field-natioanl-id.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldNatioanlIdComponent),\n      multi: true\n    }\n  ]\n\n})\nexport class TaminFieldNatioanlIdComponent extends FieldBaseComponent {\n\n  initializeComponent() {\n    this._setInputMask();\n  }\n\n  private _setInputMask() {\n    this.maskRef = new IMask(this.inputElement.nativeElement, {\n      mask: '0000000000'\n    });\n  }\n}\n","import {Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\n\n@Component({\n  selector: 'tamin-field-image-upload',\n  templateUrl: './tamin-image-upload.component.html',\n  styleUrls: ['./tamin-image-upload.component.scss']\n})\nexport class TaminImageUploadComponent implements OnInit {\n  @Input() controlName: string;\n  private _imageGuid: string;\n  @Output() onImageUploaded = new EventEmitter<string>();\n  @Output() onImageDeleted = new EventEmitter<string>();\n  @ViewChild('previewImage') previewImage: ElementRef;\n  @Input() restUrl: string;\n  displayPreview = 'none';\n\n  @Input() set imageGuid(value: string) {\n    if (!value) {\n      return;\n    }\n    this._imageGuid = value;\n    this.loadImage(this._imageGuid);\n  }\n\n  get imageGuid(): string {\n    return this._imageGuid;\n  }\n\n  constructor(private http: HttpClient) {\n  }\n\n  ngOnInit() {\n  }\n\n  loadImage(imageGuid: string) {\n    this._imageGuid = imageGuid;\n    const url = `${this.restUrl}/${this.imageGuid}`;\n    const image = this.previewImage.nativeElement;\n    this.http.get(url)\n      .toPromise()\n      .then(value => {\n        image.src = `data:image/jpeg;base64,${(<any>value).data}`;\n        this.displayPreview = 'unset';\n      })\n      .catch(reason => {\n        console.error(reason);\n      });\n  }\n\n  // loadImage(imageGuid: string) {\n  //   this.imageGuid = imageGuid;\n  //   let url = `${this.restUrl}/${this.imageGuid}`;\n  //   let headers = new HttpHeaders({ 'Content-Type': 'image/jpg' });\n  //   let params = new HttpParams();\n  //   params.append('responseType', 'blob');\n  //   params = params.append('_dc', (new Date()).getTime().toString());\n  //   let image = this.previewImage.nativeElement;\n  //   this.http.get(url, { headers,  params }).subscribe(\n  //       data => {\n  //         //let blob = new Blob([data.arrayBuffer()], { type: data.headers.get('Content-Type') });\n  //         let imageurl = window.URL.createObjectURL(data);\n  //         image.src = imageurl;\n  //         // image.src = 'data:image/jpeg;base64,' + data.arrayBuffer();\n  //         // this.onImageUploaded.emit(this.imageGuid);\n  //         this.displayPreview = \"unset\";\n  //       },\n  //       error => {\n  //        // console.log(error);\n  //         this.imageGuid = '';\n  //       }\n  //     );\n  // }\n\n  /*upload(event) {\n    this.imageGuid = '  ';\n    let inputfile = event.dataTransfer ? event.dataTransfer : event.target;\n    let image = this.previewImage.nativeElement;\n    let reader = new FileReader();\n    reader.onload = function (e) {\n      let src = (e.target as FileReader).result;\n      image.src = src;\n    };\n    if (inputfile.files.length > 0) {\n      let file: File = inputfile.files[0];\n      let formData = new FormData();\n      formData.append('file', file, file.name);\n      //let headers = new HttpHeaders({'Content-Type': 'multipart/form-data'});\n      this.http.post(this.restUrl, formData).subscribe(\n        data => {\n          reader.readAsDataURL(event.target.files[0]);\n          this.imageGuid = data.toString();//.text();\n          if (this.onImageUploaded)\n            this.onImageUploaded.emit(this.imageGuid);\n          this.displayPreview = 'unset';\n        },\n        error => {\n          //console.log(error);\n          this.imageGuid = '';\n        }\n      );\n    }\n  }*/\n\n  upload(event) {\n    this.imageGuid = '  ';\n    const inputfile = event.dataTransfer ? event.dataTransfer : event.target;\n    const image = this.previewImage.nativeElement;\n    const reader = new FileReader();\n    if (inputfile.files.length > 0) {\n      const file: File = inputfile.files[0];\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        const formData = new FormData();\n        formData.append('file', file, file.name);\n        this.http.post(this.restUrl, formData).toPromise()\n          .then((response: Response) => {\n            const src = reader.result;\n            image.src = src;\n            this.imageGuid = response['guid'];\n            if (this.onImageUploaded) {\n              this.onImageUploaded.emit(this.imageGuid);\n            }\n            this.displayPreview = 'unset';\n          })\n          .catch((error: Response) => {\n              // console.log(\"Upload error:\", error);\n              this.imageGuid = '';\n            }\n          );\n      };\n    }\n  }\n\n  uploadBase64(event) {\n    this.imageGuid = '  ';\n    const inputfile = event.dataTransfer ? event.dataTransfer : event.target;\n    const image = this.previewImage.nativeElement;\n    const reader = new FileReader();\n    if (inputfile.files.length > 0) {\n      const file: File = inputfile.files[0];\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        // let headers = new HttpHeaders({'Content-Type': 'text/plain'});\n        const headers = new HttpHeaders({'Content-Type': 'application/json'});\n        this.http.post(this.restUrl, (<any>reader.result).split(',')[1], {headers: headers}).toPromise()\n          .then((response: Response) => {\n            const src = reader.result;\n            image.src = src;\n            this.imageGuid = response['guid'];\n            if (this.onImageUploaded) {\n              this.onImageUploaded.emit(this.imageGuid);\n            }\n            this.displayPreview = 'unset';\n          })\n          .catch((error: Response) => {\n              // console.log(\"Upload error:\", error);\n              this.imageGuid = '';\n            }\n          );\n      };\n    }\n  }\n\n  removeImage() {\n    const url = `${this.restUrl}/${this.imageGuid}`;\n    const image = this.previewImage.nativeElement;\n    image.src = '';\n    this.onImageDeleted.emit(this.imageGuid);\n    this.imageGuid = '';\n    this.http.delete(url).subscribe(\n      data => {\n      },\n      error => {\n      }\n    );\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'tamin-form-control',\n  templateUrl: './tamin-form-control.component.html',\n  styleUrls: ['./tamin-form-control.component.scss']\n})\nexport class TaminFormControlComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","/*\n  Created by: k_kaviani\n*/\n\nimport {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\n\n@Component({\n  selector: 'tamin-accordion',\n  templateUrl: './tamin-accordion.component.html',\n  styleUrls: ['./tamin-accordion.component.scss']\n})\nexport class TaminAccordionComponent implements OnInit {\n\n  @Input() title: string;\n  @Input() active = false;\n  @Output() toggleAccordion: EventEmitter<boolean> = new EventEmitter();\n\n  constructor() {}\n\n  onClick(event) {\n    event.preventDefault();\n    this.toggleAccordion.emit(this.active);\n  }\n\n  ngOnInit() {\n  }\n\n}\n","/*\n  Created by: k_kaviani\n*/\n\nimport {AfterContentInit, Component, ContentChildren, OnDestroy, OnInit, QueryList} from '@angular/core';\nimport {TaminAccordionComponent} from '../tamin-accordion/tamin-accordion.component';\n\n@Component({\n  selector: 'tamin-accordion-group',\n  templateUrl: './tamin-accordion-group.component.html',\n  styleUrls: ['./tamin-accordion-group.component.scss']\n})\nexport class TaminAccordionGroupComponent implements OnInit, OnDestroy, AfterContentInit {\n\n  @ContentChildren(TaminAccordionComponent) accordions: QueryList<TaminAccordionComponent>;\n  private subscriptions = [];\n\n  private _accordions;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n  ngAfterContentInit() {\n\n    this._accordions = this.accordions;\n    this.removeSubscriptions();\n    this.addSubscriptions();\n\n    this.accordions.changes.subscribe(rex => {\n      this._accordions = rex;\n      this.removeSubscriptions();\n      this.addSubscriptions();\n    });\n  }\n\n  addSubscriptions() {\n    this._accordions.forEach(a => {\n      const subscription = a.toggleAccordion.subscribe(e => {\n        this.toogleAccordion(a);\n      });\n      this.subscriptions.push(subscription);\n    });\n  }\n\n  removeSubscriptions() {\n    this.subscriptions.forEach(sub => {\n      sub.unsubscribe();\n    });\n  }\n\n  toogleAccordion(accordion) {\n    if (!accordion.active) {\n      this.accordions.forEach(a => a.active = false);\n    }\n    // set active accordion\n    accordion.active = !accordion.active;\n  }\n\n  ngOnDestroy() {\n    this.removeSubscriptions();\n  }\n\n}\n","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'tamin-tab',\n  templateUrl: './tamin-tab.component.html',\n  styleUrls: ['./tamin-tab.component.scss']\n})\nexport class TaminTabComponent implements OnInit {\n\n  @Input() title: string;\n  @Input() visible = true;\n\n  present: boolean;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n}\n","import {Component, forwardRef, Input} from '@angular/core';\nimport {NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\n\ndeclare let IMask: any;\n\n@Component({\n  selector: 'tamin-field-mask',\n  templateUrl: './tamin-field-mask.component.html',\n  styleUrls: ['./tamin-field-mask.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldMaskComponent),\n      multi: true\n    }\n  ]\n})\nexport class TaminFieldMaskComponent extends FieldBaseComponent {\n  @Input() set mask(mask: string) {\n    const me = this;\n    setTimeout(() => {\n      this.maskRef = new IMask(this.inputElement.nativeElement, {\n        mask: mask,\n      });\n    }, 0);\n  }\n\n  get mask(): string {\n    return this.maskRef.mask;\n  }\n\n  @Input() set regex(regex: string) {\n    const me = this;\n\n    setTimeout(() => {\n      this.maskRef = new IMask(this.inputElement.nativeElement, {\n        mask: new RegExp(regex),\n      });\n    }, 0);\n  }\n\n  get regex(): string {\n    return this.maskRef.regex;\n  }\n\n  initializeComponent() {\n  }\n}\n","export class TaminMenuModel {\r\n  public caption: string;\r\n  public disable: boolean;\r\n  public url: string;\r\n  public urlType: string;\r\n  public items: Array<TaminMenuModel>;\r\n  public tags: Array<string>;\r\n  public smallIcon: string;\r\n  public largeIcon: string;\r\n  public backColor: string;\r\n  public description: string;\r\n}\r\n","/*\n  Created by: k_kaviani\n  Revised by: a_amiri\n*/\n\nimport {ChangeDetectorRef, Component, ElementRef, HostListener, Input, OnInit, ViewChild} from '@angular/core';\nimport {TaminMenuModel} from '../../../models/tamin-menu.model';\nimport {GenericRestService} from '../../../services/generic-rest-service/generic-rest.service';\nimport {Router} from '@angular/router';\nimport {TaminRestService} from '../../../services/tamin-rest-service/tamin-rest.service';\n\ndeclare var alertify: any;\n\n@Component({\n  selector: 'tamin-site-top-menu',\n  templateUrl: './tamin-site-top-menu.component.html',\n  styleUrls: ['./tamin-site-top-menu.component.scss']\n})\nexport class TaminSiteTopMenuComponent implements OnInit {\n  @ViewChild('desktopMenu') desktopMenu: ElementRef;\n  @ViewChild('mobileMenu') mobileMenu: ElementRef;\n  @ViewChild('topMenu') topMenu: ElementRef;\n  @ViewChild('menuElement') menuElement: ElementRef;\n  @ViewChild('mobileMenuBody') mobileMenuBody: ElementRef;\n  @ViewChild('mobileMenuButton') mobileMenuButton: ElementRef;\n  @Input() restUrl: string;\n  public menuData: TaminMenuModel = new TaminMenuModel();\n  stack: Array<TaminMenuModel> = [];\n  dummy = true;\n\n  constructor(private taminRestService: TaminRestService, private router: Router, private ref: ChangeDetectorRef) {\n  }\n\n  ngOnInit() {\n    this.taminRestService.getAll(this.restUrl)\n      .then(data => {\n        this.menuData = data.data;\n        this.stack.push(data.data);\n      })\n      .catch(error => {\n      });\n  }\n\n  handleMenu(item: TaminMenuModel) {\n    if (item.disable) {\n      alertify.alert(' ', '            .');\n      return;\n    }\n    if (item.url !== '') {\n      if (item['url-type'] === 'external') {\n        window.open(item.url);\n      }\n      this.router.navigateByUrl('/' + item.url);\n      this.dummy = false;\n      this.ref.detectChanges();\n      this.dummy = true;\n      this.ref.detectChanges();\n    }\n  }\n\n  toggleMobileMenu() {\n    if (this.mobileMenuBody.nativeElement.style.display === 'block') {\n      this.mobileMenuBody.nativeElement.style.display = 'none';\n      this.mobileMenuButton.nativeElement.style.background = '#000a';\n      this.mobileMenuButton.nativeElement.style.color = 'white';\n    } else {\n      this.mobileMenuBody.nativeElement.style.display = 'block';\n      const rect = window.document.body.getBoundingClientRect();\n      this.mobileMenuBody.nativeElement.style.width = rect.width + 'px';\n      this.mobileMenuButton.nativeElement.style.background = '#00779caa';\n      this.mobileMenuButton.nativeElement.style.color = 'white';\n    }\n  }\n\n  @HostListener('window:resize', ['$event'])\n  windowResizeHandler(event) {\n    const rect = window.document.body.getBoundingClientRect();\n    this.mobileMenuBody.nativeElement.style.width = rect.width + 'px';\n  }\n\n  onMobileMenuItemClick(menuItem) {\n    if (menuItem.items !== undefined && menuItem.items.length !== 0) {\n      this.stack.push(menuItem);\n    }\n  }\n\n  onMobileMenuReturn() {\n    this.stack.pop();\n  }\n}\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\n\n@Component({\n  selector: 'tamin-data-pager',\n  templateUrl: './tamin-data-pager.component.html',\n  styleUrls: ['./tamin-data-pager.component.scss']\n})\nexport class TaminDataPagerComponent implements OnInit {\n\n  @Input() pagerSize: number;\n\n  @Input() pagerCurrentPage: number;\n\n  @Input() pagerTotal: number;\n\n  @Output() pageChanged = new EventEmitter<number>();\n  @Output() refreshData = new EventEmitter<any>();\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    if (this.pagerCurrentPage > this.pagerTotal) {\n      this.pagerCurrentPage = this.pagerTotal;\n    } else if (this.pagerCurrentPage < 1) {\n      this.pagerCurrentPage = 1;\n    }\n  }\n\n  changePage(changeAmount: number) {\n    const oldPage = this.pagerCurrentPage;\n\n    if (changeAmount > 1) {\n      this.pagerCurrentPage = this.pagerTotal;\n    } else if (changeAmount < -1) {\n      this.pagerCurrentPage = 1;\n    } else {\n      this.pagerCurrentPage = parseFloat(this.pagerCurrentPage.toString()) + parseFloat(changeAmount.toString());\n      if (this.pagerCurrentPage < 1) {\n        this.pagerCurrentPage = 1;\n      }\n      if (this.pagerCurrentPage > this.pagerTotal) {\n        this.pagerCurrentPage = this.pagerTotal;\n      }\n    }\n\n    if (oldPage !== this.pagerCurrentPage) {\n      this.pageChanged.emit(this.pagerCurrentPage);\n    }\n  }\n\n  onRefresh() {\n    this.refreshData.emit();\n  }\n}\n","/*\n  Created by: k_kaviani\n  Revised by: a_amiri\n*/\n\nimport {Component, EventEmitter, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'tamin-site-bottom-menu',\n  templateUrl: './tamin-site-bottom-menu.component.html',\n  styleUrls: ['./tamin-site-bottom-menu.component.scss']\n})\nexport class TaminSiteBottomMenuComponent implements OnInit {\n\n  constructor(private router: Router) {\n  }\n\n  ngOnInit() {\n  }\n\n  handleMenu(item) {\n    if (item.url !== '') {\n        this.router.navigate([item.url]);\n    }\n  }\n}\n","import {Component, forwardRef, Input} from '@angular/core';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\nimport {AbstractControl, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {fromEvent} from 'rxjs';\n\n@Component({\n  selector: 'tamin-field-checkbox',\n  templateUrl: './tamin-field-checkbox.component.html',\n  styleUrls: ['./tamin-field-checkbox.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldCheckboxComponent),\n      multi: true\n    }\n  ]\n})\nexport class TaminFieldCheckboxComponent extends FieldBaseComponent {\n  get required(): boolean {\n    if (this.control.validator === null) {\n      return false;\n    }\n    const validator = this.control.validator({} as AbstractControl);\n    return (validator && (validator.required));\n  }\n\n\n  writeValue(value: boolean): void {\n    if (typeof (value) !== 'boolean') {\n      value = false;\n    }\n    this.inputElement.nativeElement.checked = value;\n    this.onChange(value);\n  }\n\n  protected initValueAccessor() {\n    this.control = this.controlContainer.control.get(this.formControlName);\n    if (typeof (this.control.value) !== 'boolean') {\n      this.control.setValue(false);\n    }\n\n    const change = fromEvent(this.inputElement.nativeElement, 'change');\n    this.subscription.add(change.subscribe((evt: any) => {\n      this.onChange(evt.target.checked);\n    }));\n\n    const focuses = fromEvent(this.inputElement.nativeElement, 'focus');\n    this.subscription.add(focuses.subscribe((evt: any) => {\n        this.onTouched();\n      }\n    ));\n  }\n}\n","import {Component, EventEmitter, forwardRef, Input, Output} from '@angular/core';\nimport {NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\n\n\n@Component({\n  selector: 'tamin-field-text',\n  templateUrl: './tamin-field-text.component.html',\n  styleUrls: ['./tamin-field-text.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldTextComponent),\n      multi: true\n    }\n  ]\n})\nexport class TaminFieldTextComponent extends FieldBaseComponent {\n\n  @Input() maxLength = Number.MAX_SAFE_INTEGER;\n  @Output() focus = new EventEmitter();\n  @Output() blur = new EventEmitter();\n\n}\n","import {AfterContentInit, Component, ContentChildren, Input, OnInit, QueryList} from '@angular/core';\nimport {TaminTabComponent} from '../tamin-tab/tamin-tab.component';\n\n@Component({\n  selector: 'tamin-tab-panel',\n  templateUrl: './tamin-tab-panel.component.html',\n  styleUrls: ['./tamin-tab-panel.component.scss']\n})\nexport class TaminTabPanelComponent implements OnInit, AfterContentInit {\n  @ContentChildren(TaminTabComponent) tabComponents: QueryList<TaminTabComponent>;\n  @Input() currentTab = 0;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n  ngAfterContentInit() {\n    console.log('ngAfterContentInit');\n    this.tabComponents.forEach((item, index) => {\n      if (index === this.currentTab) {\n        item.present = true;\n      }\n    });\n  }\n\n  onClick(tab, index) {\n    this.currentTab = index;\n    this.tabComponents.forEach(item => item.present = item === tab);\n  }\n}\n","import {Component, ElementRef, forwardRef, Input, ViewChild} from '@angular/core';\nimport {TaminDataGridComponent} from '../../tamin-data-grid/tamin-data-grid.component';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\nimport {AbstractControl, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {TaminDataGridConfiguration} from '../../../helpers/tamin.data.grid.configuration/tamin.data.grid.configuration';\nimport {PickerContainerComponent} from '../../containers/picker-container/picker-container.component';\nimport {SearchOperator} from '../../../models/search-param.model';\n\n@Component({\n  selector: 'tamin-field-combo-box',\n  templateUrl: './tamin-field-combo-box.component.html',\n  styleUrls: ['./tamin-field-combo-box.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldComboBoxComponent),\n      multi: true\n    }\n  ]\n})\nexport class TaminFieldComboBoxComponent extends FieldBaseComponent {\n  @Input() dataGridConfiguration: TaminDataGridConfiguration;\n  @Input() displayField: string;\n  @Input() valueField: string;\n  @Input() casecadeControlName: string;\n  @Input() casecadeControlFieldName: string;\n  @Input() showClearButton: boolean;\n  @Input() searchOperatorType: SearchOperator = SearchOperator.EQUAL;\n  @ViewChild('theGrid') theGrid: TaminDataGridComponent;\n  @ViewChild('picker') picker: PickerContainerComponent;\n  @ViewChild('icon') iconElement: ElementRef;\n  private parent: AbstractControl;\n  private parentValue: string;\n\n\n  initializeComponent() {\n    this.initializeGrid();\n    this.picker.parent = this.inputElement;\n    this.picker.button = this.iconElement;\n    if (this.casecadeControlName) {\n      this.parent = this.controlContainer.control.get(this.casecadeControlName);\n      this.subscription.add(this.parent.valueChanges.subscribe(value => {\n        this.parentValue = value;\n      }));\n    }\n  }\n\n  private initializeGrid() {\n    this.theGrid.configuration = this.dataGridConfiguration;\n    this.theGrid.loadDataOnInit = false;\n  }\n\n  onClearContent() {\n    this.onChange('');\n    this.inputElement.nativeElement.value = '';\n    this.picker.hide();\n  }\n\n\n  onShowPicker() {\n    this.picker.toggle();\n    this.theGrid.refreshData();\n  }\n\n  onItemSelected(val: any) {\n    if (!val) {\n      this.onChange('');\n      this.hidePopup();\n      return;\n    }\n    const displayField = this.deepFind(val, this.displayField);\n    const valueField = this.deepFind(val, this.valueField);\n    if (!displayField || !valueField) {\n      this.inputElement.nativeElement.value = '';\n      this.onChange('');\n      return;\n    }\n    this.inputElement.nativeElement.value = displayField;\n    this.onChange(valueField);\n    this.hidePopup();\n  }\n\n  hidePopup() {\n    this.picker.hide();\n  }\n\n  showPopup() {\n    this.picker.show();\n    if (this.parentValue && this.parentValue !== '') {\n      const tmp = this.theGrid.searchParams.find(c => c.property === this.parentValue);\n      if (tmp) {\n        this.theGrid.searchParams = this.theGrid.searchParams.filter(obj => obj !== tmp);\n      }\n      this.theGrid.searchParams.push({\n        property: this.casecadeControlFieldName,\n        value: this.parentValue,\n        operator: this.searchOperatorType\n      });\n    }\n\n    this.theGrid.refreshData();\n  }\n\n  writeValue(value: any): void {\n    // const theValue = value == null ? '' : value;\n    // if (theValue !== '') {\n    //   this.loadData(theValue);\n    // }\n    const theValue = value == null ? '' : value;\n    if (theValue !== '') {\n      this.loadData(theValue);\n    } else {\n      this.inputElement.nativeElement.value = '';\n    }\n\n  }\n\n\n  private loadData(theValue) {\n    const theUrl = this.dataGridConfiguration.serviceUrl;\n    const id = this.dataGridConfiguration.id;\n    const searchParam = [\n      {\n        property: id,\n        value: theValue,\n        operator: this.searchOperatorType\n      }\n    ];\n\n    if (this.parentValue && this.parentValue !== '') {\n      searchParam.push({\n        property: this.casecadeControlFieldName,\n        value: this.parentValue,\n        operator: this.searchOperatorType\n      });\n    }\n\n    this.startWaiting();\n    this.restService\n      .getAll(theUrl, searchParam)\n      .then(value => {\n        this.stopWaiting();\n        if (value.data.list.length === 0) {\n          this.onChange('');\n        }\n        this.onItemSelected(value.data.list[0]);\n        this.theGrid.dataItems = [];\n        this.theGrid.dataItems.push(value.data.list[0]);\n      })\n      .catch(reason => {\n        this.stopWaiting();\n        this.onChange('');\n      });\n  }\n}\n","import {Component, forwardRef, OnInit} from '@angular/core';\nimport {NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {TaminFieldComboBoxComponent} from '../tamin-field-combo-box/tamin-field-combo-box.component';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\n\n@Component({\n  selector: 'tamin-tag',\n  templateUrl: './tamin-tag.component.html',\n  styleUrls: ['./tamin-tag.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminTagComponent),\n      multi: true\n    }\n  ]\n\n})\nexport class TaminTagComponent extends FieldBaseComponent {\n  selectedItem: any[];\n}\n","/*\n  Created by: k_kaviani\n  Revised by: a_amiri\n*/\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'tamin-page-not-found',\n  templateUrl: './tamin-page-not-found.component.html',\n  styleUrls: ['./tamin-page-not-found.component.scss']\n})\nexport class TaminPageNotFoundComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import {Component, forwardRef, Input, OnInit} from '@angular/core';\nimport {AbstractControl, ControlContainer, ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\n\n@Component({\n  selector: 'tamin-field-label',\n  templateUrl: './tamin-field-label.component.html',\n  styleUrls: ['./tamin-field-label.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldLabelComponent),\n      multi: true\n    }\n  ]\n})\nexport class TaminFieldLabelComponent implements OnInit, ControlValueAccessor {\n\n  @Input() formControlName: string;\n  control: AbstractControl;\n\n  constructor(private controlContainer: ControlContainer) {\n  }\n\n  ngOnInit() {\n    this.control = this.controlContainer.control.get(this.formControlName);\n  }\n\n  get required(): boolean {\n    if (this.control.validator === null) {\n      return false;\n    }\n    const validator = this.control.validator({} as AbstractControl);\n    return (validator && (validator.required || validator.requiredNumber));\n  }\n\n\n  registerOnChange(fn: any): void {\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n  }\n\n  writeValue(obj: any): void {\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {CookieService} from 'ngx-cookie-service';\nimport {DeviceDetectorService} from 'ngx-device-detector';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TaminStorageService {\n\n  private policy: 'local-storage' | 'cookie' | 'memory';\n  private memoryStorage = [];\n\n  constructor(private cookieService: CookieService, private deviceService: DeviceDetectorService) {\n    if (deviceService.os === 'iPhone' || deviceService.os === 'iPad' || deviceService.browser === 'safari' || deviceService.browser === 'Safari') {\n      this.policy = 'cookie';\n      return;\n    }\n    if (this.doLocalStorageWork()) {\n      this.policy = 'local-storage';\n    } else if (this.doCookieWork()) {\n      this.policy = 'cookie';\n    } else {\n      this.policy = 'memory';\n    }\n  }\n\n  private doLocalStorageWork(): boolean {\n    try {\n      localStorage.setItem('dummy', 'dummy');\n      if (localStorage.getItem('dummy') === 'dummy') {\n        localStorage.removeItem('dummy');\n        return true;\n      } else {\n        localStorage.removeItem('dummy');\n        return false;\n      }\n    } catch {\n      return false;\n    }\n  }\n\n  private doCookieWork(): boolean {\n    try {\n      this.cookieService.set('dummy', 'dummy', null, null, null, true, 'Strict');\n      if (this.cookieService.get('dummy') === 'dummy') {\n        this.cookieService.delete('dummy');\n        return true;\n      } else {\n        this.cookieService.delete('dummy');\n        return false;\n      }\n    } catch {\n      return false;\n    }\n  }\n\n  set(key: string, value: string) {\n    switch (this.policy) {\n      case 'local-storage':\n        localStorage.setItem(key, value);\n        break;\n      case 'cookie':\n        this.cookieService.set(key, value, null, null, null, null, 'Strict');\n        break;\n      case 'memory':\n        const item = this.memoryStorage.find(c => c.name === key);\n        if (item) {\n          item.value = value;\n        } else {\n          this.memoryStorage.push({name: key, value: value});\n        }\n        break;\n    }\n  }\n\n  get(key: string): string {\n    switch (this.policy) {\n      case 'local-storage':\n        return localStorage.getItem(key);\n      case 'cookie':\n        return this.cookieService.get(key);\n      case 'memory':\n        const item = this.memoryStorage.find(c => c.name === key);\n        if (item) {\n          return item.value;\n        } else {\n          return '';\n        }\n    }\n  }\n\n  exists(key: string): boolean {\n    switch (this.policy) {\n      case 'local-storage':\n        return localStorage.getItem(key) !== null;\n      case 'cookie':\n        return this.cookieService.get(key) !== '';\n      case 'memory':\n        const item = this.memoryStorage.find(c => c.name === key);\n        return item !== null;\n    }\n  }\n\n  remove(key: string) {\n    switch (this.policy) {\n      case 'local-storage':\n        localStorage.removeItem(key);\n        break;\n      case 'cookie':\n        this.cookieService.delete(key);\n        break;\n      case 'memory':\n        const index = this.memoryStorage.findIndex(c => c.name === key);\n        if (index >= 0) {\n          delete this.memoryStorage[index];\n        }\n    }\n  }\n}\n\n\n\n/*\nimport {Inject, Injectable} from '@angular/core';\nimport {CookieService} from 'ngx-cookie-service';\nimport {DeviceDetectorService} from 'ngx-device-detector';\nimport {ITaminApplicationConfig} from '../../interfaces/tamin-application-config';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TaminStorageService {\n\n  private policy: 'local-storage' | 'cookie' | 'memory';\n  private memoryStorage = [];\n\n  constructor(\n    private cookieService: CookieService,\n    private deviceService: DeviceDetectorService,\n    @Inject('taminApplicationConfig') private taminApplicationConfig: ITaminApplicationConfig) {\n    switch (taminApplicationConfig.tokenStoragePolicy) {\n      case 'auto':\n        if (deviceService.os === 'iPhone' || deviceService.os === 'iPad' || deviceService.browser === 'safari' || deviceService.browser === 'Safari') {\n          this.policy = 'cookie';\n          return;\n        }\n        if (this.doLocalStorageWork()) {\n          this.policy = 'local-storage';\n        } else if (this.doCookieWork()) {\n          this.policy = 'cookie';\n        } else {\n          this.policy = 'memory';\n        }\n        break;\n      case 'cookie':\n        this.policy = 'cookie';\n        break;\n      case 'local-storage':\n        this.policy = 'local-storage';\n        break;\n      case 'memory':\n        this.policy = 'memory';\n        break;\n    }\n  }\n\n  private doLocalStorageWork(): boolean {\n    try {\n      localStorage.setItem('dummy', 'dummy');\n      if (localStorage.getItem('dummy') === 'dummy') {\n        localStorage.removeItem('dummy');\n        return true;\n      } else {\n        localStorage.removeItem('dummy');\n        return false;\n      }\n    } catch {\n      return false;\n    }\n  }\n\n  private doCookieWork(): boolean {\n    try {\n      this.cookieService.set('dummy', 'dummy', null, null, null, true, 'Strict');\n      if (this.cookieService.get('dummy') === 'dummy') {\n        this.cookieService.delete('dummy');\n        return true;\n      } else {\n        this.cookieService.delete('dummy');\n        return false;\n      }\n    } catch {\n      return false;\n    }\n  }\n\n  set(key: string, value: string) {\n    switch (this.policy) {\n      case 'local-storage':\n        localStorage.setItem(key, value);\n        break;\n      case 'cookie':\n        this.cookieService.set(key, value, null, null, null, null, 'Strict');\n        break;\n      case 'memory':\n        const item = this.memoryStorage.find(c => c.name === key);\n        if (item) {\n          item.value = value;\n        } else {\n          this.memoryStorage.push({name: key, value: value});\n        }\n        break;\n    }\n  }\n\n  get(key: string): string {\n    switch (this.policy) {\n      case 'local-storage':\n        return localStorage.getItem(key);\n      case 'cookie':\n        return this.cookieService.get(key);\n      case 'memory':\n        const item = this.memoryStorage.find(c => c.name === key);\n        if (item) {\n          return item.value;\n        } else {\n          return '';\n        }\n    }\n  }\n\n  exists(key: string): boolean {\n    switch (this.policy) {\n      case 'local-storage':\n        return localStorage.getItem(key) !== null;\n      case 'cookie':\n        return this.cookieService.get(key) !== '';\n      case 'memory':\n        const item = this.memoryStorage.find(c => c.name === key);\n        return item !== null;\n    }\n  }\n\n  remove(key: string) {\n    switch (this.policy) {\n      case 'local-storage':\n        localStorage.removeItem(key);\n        break;\n      case 'cookie':\n        this.cookieService.delete(key);\n        break;\n      case 'memory':\n        const index = this.memoryStorage.findIndex(c => c.name === key);\n        if (index >= 0) {\n          delete this.memoryStorage[index];\n        }\n    }\n  }\n}\n*/\n","import {Inject, Injectable} from '@angular/core';\nimport {HttpClient, HttpErrorResponse} from '@angular/common/http';\nimport {ITaminApplicationConfig} from '../../interfaces/tamin-application-config';\nimport {Router} from '@angular/router';\nimport {TaminRestService} from '../tamin-rest-service/tamin-rest.service';\nimport {TaminStorageService} from '../tamin-storage/tamin-storage.service';\n\ndeclare let taminLogin: any;\n\n@Injectable({providedIn: 'root'})\nexport class TaminSecurityService {\n  private _currentUser = null;\n  private tokenName = 'access_token';\n  private tokenExpire = 'expires_in';\n  private redirectUrl = 'redirect_url';\n\n  constructor(\n    @Inject('taminApplicationConfig')\n    private taminApplicationConfig: ITaminApplicationConfig,\n    private router: Router,\n    private taminRestService: TaminRestService,\n    private taminStorageService: TaminStorageService,\n    private httpClient: HttpClient) {\n    // debugger;\n  }\n\n  get currentUser(): any {\n    return this._currentUser;\n  }\n\n  private addRedirectUrl(url) {\n    this.taminStorageService.set(this.redirectUrl, url);\n  }\n\n  getRedirectUrl() {\n    return this.taminStorageService.get(this.redirectUrl);\n  }\n\n  removeRedirectUrl() {\n    this.taminStorageService.remove(this.redirectUrl);\n  }\n\n  private addToken(token: any, expireIn: any) {\n    this.taminStorageService.set(this.tokenName, token);\n    this.taminStorageService.set(this.tokenExpire, expireIn);\n  }\n\n  public getToken() {\n    return this.taminStorageService.get(this.tokenName);\n  }\n\n  public hasToken() {\n    return this.taminStorageService.exists(this.tokenName);\n  }\n\n  removeToken() {\n    this.taminStorageService.remove(this.tokenName);\n    this.taminStorageService.remove(this.tokenExpire);\n  }\n\n  checkToken() {\n    if (!this.taminStorageService.exists(this.tokenName) || !this.taminStorageService.exists(this.tokenExpire)) {\n      return false;\n    }\n    const accessToken = this.taminStorageService.get(this.tokenName);\n    const expiresIn = this.taminStorageService.get(this.tokenExpire);\n    const thisTime = Number(new Date().getTime());\n    if (Number(thisTime) > Number(expiresIn)) {\n      this.removeToken();\n      return false;\n    }\n    return true;\n  }\n\n  loginCallbackCheck() {\n    // debugger;\n    const tmp1 = window.location.hash.replace('#', '').split('&');\n    const hashParams = tmp1.map(value => {\n      const t = value.split('=');\n      const n = t[0];\n      const v = t[1];\n      const result = {};\n      result[n] = v;\n      return result;\n    });\n\n    const tmp2 = window.location.search.replace('?', '').split('&');\n    const searchParams = tmp2.map(value => {\n      const t = value.split('=');\n      const n = t[0];\n      const v = t[1];\n      const result = {};\n      result[n] = v;\n      return result;\n    });\n\n    const accessToken = hashParams.find(value => {\n      return value.hasOwnProperty('access_token');\n    });\n\n    const expiresIn = hashParams.find(value => {\n      return value.hasOwnProperty('expires_in');\n    });\n\n    const hp = searchParams.find(value => {\n      return value.hasOwnProperty('hp');\n    });\n\n    if (accessToken && expiresIn) {\n      const currentTime = new Date().getTime();\n      this.addToken(accessToken['access_token'], Number(currentTime) + (Number(expiresIn['expires_in']) * 1000));\n      window.history.replaceState({}, document.title, '');\n\n      if (hp) {\n        window.history.replaceState({}, document.title, '/#/' + hp['hp']);\n      } else {\n        window.history.replaceState({}, document.title, '/#/main');\n      }\n    }\n  }\n\n  getUserName(): Promise<string> {\n    return new Promise<string>((resolve, reject) => {\n      this.taminRestService.getAll(this.taminApplicationConfig.getUserNameUrl)\n        .then((data: any) => {\n          resolve(`${data.data.firstName} ${data.data.lastName}`);\n        })\n        .catch(reason => {\n          reject('');\n        });\n    });\n  }\n\n  getCurrentUser(): Promise<any> {\n    this._currentUser = null;\n    return new Promise<string>((resolve, reject) => {\n      this.taminRestService.getAll(this.taminApplicationConfig.getUserNameUrl)\n        .then((data: any) => {\n          this._currentUser = data.data;\n          resolve(data.data);\n        })\n        .catch(reason => {\n          reject(reason);\n        });\n    });\n  }\n\n  private redirectToLoginWithCordova() {\n    this.router.navigate(['login']);\n    // const url = [\n    //   this.taminApplicationConfig.authenticationEndpoint,\n    //   '?',\n    //   // `redirect_uri=${window.location.href}`,\n    //   `redirect_uri=${this.taminApplicationConfig.redirectUrl}`,\n    //   '&',\n    //   `response_type=${this.taminApplicationConfig.responseType}`,\n    //   '&',\n    //   `client_id=${this.taminApplicationConfig.clientId}`\n    // ].join('');\n    //\n    // SafariViewController.isAvailable(function (available) {\n    //   if (available) {\n    //     SafariViewController.show(\n    //       {\n    //         url: url\n    //       },\n    //       function (result) {\n    //       },\n    //       function (error) {\n    //       }\n    //     );\n    //   }\n    // });\n  }\n\n  private redirectToLoginWithBrowser(url = '') {\n    this.removeToken();\n    const adressParts = url === '' ? window.location.href.split('/#/') : url;\n    let hp = '';\n    let returnUrl = '';\n\n    if (adressParts.length === 1) {\n      returnUrl = adressParts[0];\n    } else {\n      hp = adressParts[1];\n      returnUrl = adressParts[0] + '?hp=' + hp;\n    }\n\n    window.location.href = [\n      this.taminApplicationConfig.authenticationEndpoint,\n      '?',\n      `redirect_uri=${this.taminApplicationConfig.redirectUrl}`,\n      '&',\n      `response_type=${this.taminApplicationConfig.responseType}`,\n      '&',\n      `client_id=${this.taminApplicationConfig.clientId}`\n    ].join('');\n  }\n\n  redirectToLogin(url = '') {\n    if (window.hasOwnProperty('cordova')) {\n      this.redirectToLoginWithCordova();\n    } else {\n      if (url !== '') {\n        this.addRedirectUrl(url);\n      }\n      this.redirectToLoginWithBrowser(url);\n    }\n  }\n\n  getLoginUrl() {\n    const tmp = [\n      this.taminApplicationConfig.authenticationEndpoint,\n      '?',\n      `redirect_uri=${this.taminApplicationConfig.redirectUrl}`,\n      '&',\n      `response_type=${this.taminApplicationConfig.responseType}`,\n      '&',\n      `client_id=${this.taminApplicationConfig.clientId}`\n    ].join('');\n    return tmp;\n  }\n\n  redirectToLogout() {\n    if (window.hasOwnProperty('cordova')) {\n      this.removeToken();\n    } else {\n      const returnUrl = this.taminApplicationConfig.baseUrl;\n      this.removeToken();\n      window.location.href =\n        `${this.taminApplicationConfig.logoutUrl}?redirect_uri=${this.taminApplicationConfig.redirectUrl}&response_type=${this.taminApplicationConfig.responseType}&client_id=${this.taminApplicationConfig.clientId}`;\n    }\n  }\n\n  mobileLogin(un, pw, clientId, security): Promise<void> {\n    this.removeToken();\n    return new Promise<void>((resolve, reject) => {\n      taminLogin.login(un, pw, this.taminApplicationConfig.authenticationEndpoint, clientId, security, (value) => {\n        const result = JSON.parse(value);\n        const currentTime = new Date().getTime();\n        this.addToken(result.access_token, Number(currentTime) + (Number(result.expires_in) * 1000));\n        resolve();\n      }, () => {\n        reject();\n      });\n    });\n  }\n\n  hasAccressTo(url: string): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      this.httpClient.get(url)\n        .toPromise()\n        .then(data => {\n          resolve(true);\n        })\n        .catch((error: HttpErrorResponse) => {\n          if (error.status === 401) {\n            resolve(false);\n          }\n        });\n    });\n  }\n}\n\n\n\n\n/*\n\nimport {Inject, Injectable} from '@angular/core';\nimport {HttpClient, HttpErrorResponse} from '@angular/common/http';\nimport {ITaminApplicationConfig} from '../../interfaces/tamin-application-config';\nimport {Router} from '@angular/router';\nimport {TaminRestService} from '../tamin-rest-service/tamin-rest.service';\nimport {TaminStorageService} from '../tamin-storage/tamin-storage.service';\n\ndeclare let taminLogin: any;\n\n@Injectable({providedIn: 'root'})\nexport class TaminSecurityService {\n  private _currentUser = null;\n  // private refreshToken = 'refresh';\n  // private refreshTokenExpire = 'refresh_expires_in';\n  private tokenName = 'access_token';\n  private tokenExpire = 'expires_in';\n  private redirectUrl = 'redirect_url';\n\n  constructor(\n    @Inject('taminApplicationConfig')\n    private taminApplicationConfig: ITaminApplicationConfig,\n    private router: Router,\n    private taminRestService: TaminRestService,\n    private taminStorageService: TaminStorageService,\n    private httpClient: HttpClient) {\n    // debugger;\n  }\n\n  get currentUser(): any {\n    return this._currentUser;\n  }\n\n  private addRedirectUrl(url) {\n    this.taminStorageService.set(this.redirectUrl, url);\n  }\n\n  getRedirectUrl() {\n    return this.taminStorageService.get(this.redirectUrl);\n  }\n\n  removeRedirectUrl() {\n    this.taminStorageService.remove(this.redirectUrl);\n  }\n\n  addToken(token: any, expireIn: any) {\n    this.taminStorageService.set(this.tokenName, token);\n    this.taminStorageService.set(this.tokenExpire, expireIn);\n  }\n\n/!*\n  addRefreshToken(token: any, expireIn: any) {\n    this.taminStorageService.set(this.refreshToken, token);\n    this.taminStorageService.set(this.refreshTokenExpire, expireIn);\n  }\n*!/\n\n/!*\n  reNewToken(): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n      const theUrl = `${this.taminApplicationConfig.refreshTokenUrl}?refresh_token=${this.getRefreshToken()}`;\n      this.httpClient\n        .get<any>(theUrl)\n        .toPromise()\n        .then(value => {\n          if (!value) {\n            const adressParts = window.location.href.split('/#/');\n            let redirectUrl = '';\n\n            if (adressParts.length === 2) {\n              redirectUrl = adressParts[1];\n            }\n            this.redirectToLogin(redirectUrl);\n          }\n          this.addToken(value.access, value.accessExpiresIn);\n          // this.addRefreshToken(value.refresh, value.refreshExpiresIn);\n          resolve(value);\n        })\n        .catch(reason => {\n          reject(reason);\n        });\n    });\n  }\n*!/\n\n  public getToken() {\n    return this.taminStorageService.get(this.tokenName);\n  }\n\n/!*\n  public getRefreshToken() {\n    return this.taminStorageService.get(this.refreshToken);\n  }\n*!/\n\n  public hasToken() {\n    return this.taminStorageService.exists(this.tokenName);\n  }\n\n/!*\n  public hasRefreshToken() {\n    return this.taminStorageService.exists(this.refreshToken);\n  }\n*!/\n\n  removeToken() {\n    this.taminStorageService.remove(this.tokenName);\n    this.taminStorageService.remove(this.tokenExpire);\n    // this.taminStorageService.remove(this.refreshToken);\n    // this.taminStorageService.remove(this.refreshTokenExpire);\n  }\n\n  checkToken() {\n    if (!this.taminStorageService.exists(this.tokenName) || !this.taminStorageService.exists(this.tokenExpire)) {\n      return false;\n    }\n    const accessToken = this.taminStorageService.get(this.tokenName);\n    const expiresIn = this.taminStorageService.get(this.tokenExpire);\n    const thisTime = Number(new Date().getTime());\n    if (Number(thisTime) > Number(expiresIn)) {\n      this.removeToken();\n      return false;\n    }\n    return true;\n  }\n\n  loginCallbackCheck() {\n    const tmp1 = window.location.hash.replace('#', '').split('&');\n    const hashParams = tmp1.map(value => {\n      const t = value.split('=');\n      const n = t[0];\n      const v = t[1];\n      const result = {};\n      result[n] = v;\n      return result;\n    });\n\n    const tmp2 = window.location.search.replace('?', '').split('&');\n    const searchParams = tmp2.map(value => {\n      const t = value.split('=');\n      const n = t[0];\n      const v = t[1];\n      const result = {};\n      result[n] = v;\n      return result;\n    });\n\n/!*\n    const refreshToken = hashParams.find(value => {\n      return value.hasOwnProperty('refresh');\n    });\n*!/\n\n/!*\n    const refreshTokenExpiresIn = hashParams.find(value => {\n      return value.hasOwnProperty('refresh_expires_in');\n    });\n*!/\n\n    const accessToken = hashParams.find(value => {\n      return value.hasOwnProperty('access_token');\n    });\n\n    const expiresIn = hashParams.find(value => {\n      return value.hasOwnProperty('expires_in');\n    });\n\n    const hp = searchParams.find(value => {\n      return value.hasOwnProperty('hp');\n    });\n\n    if (accessToken && expiresIn) {\n      const currentTime = new Date().getTime();\n      this.addToken(accessToken['access_token'], Number(currentTime) + (Number(expiresIn['expires_in']) * 1000));\n      // this.addRefreshToken(refreshToken['refresh'], Number(currentTime) + (Number(refreshTokenExpiresIn['refresh_expires_in']) * 1000));\n      window.history.replaceState({}, document.title, '');\n\n      if (hp) {\n        window.history.replaceState({}, document.title, '/#/' + hp['hp']);\n      } else {\n        window.history.replaceState({}, document.title, '/#/main');\n      }\n    }\n  }\n\n  getUserName(): Promise<string> {\n    return new Promise<string>((resolve, reject) => {\n      this.taminRestService.getAll(this.taminApplicationConfig.getUserNameUrl)\n        .then((data: any) => {\n          resolve(`${data.data.firstName} ${data.data.lastName}`);\n        })\n        .catch(reason => {\n          reject('');\n        });\n    });\n  }\n\n  getCurrentUser(): Promise<any> {\n    this._currentUser = null;\n    return new Promise<string>((resolve, reject) => {\n      this.taminRestService.getAll(this.taminApplicationConfig.getUserNameUrl)\n        .then((data: any) => {\n          this._currentUser = data.data;\n          resolve(data.data);\n        })\n        .catch(reason => {\n          reject(reason);\n        });\n    });\n  }\n\n  private redirectToLoginWithCordova() {\n    this.router.navigate(['login']);\n    // const url = [\n    //   this.taminApplicationConfig.authenticationEndpoint,\n    //   '?',\n    //   // `redirect_uri=${window.location.href}`,\n    //   `redirect_uri=${this.taminApplicationConfig.redirectUrl}`,\n    //   '&',\n    //   `response_type=${this.taminApplicationConfig.responseType}`,\n    //   '&',\n    //   `client_id=${this.taminApplicationConfig.clientId}`\n    // ].join('');\n    //\n    // SafariViewController.isAvailable(function (available) {\n    //   if (available) {\n    //     SafariViewController.show(\n    //       {\n    //         url: url\n    //       },\n    //       function (result) {\n    //       },\n    //       function (error) {\n    //       }\n    //     );\n    //   }\n    // });\n  }\n\n  private redirectToLoginWithBrowser(url = '') {\n    this.removeToken();\n    const adressParts = url === '' ? window.location.href.split('/#/') : url;\n    let hp = '';\n    let returnUrl = '';\n\n    if (adressParts.length === 1) {\n      returnUrl = adressParts[0];\n    } else {\n      hp = adressParts[1];\n      returnUrl = adressParts[0] + '?hp=' + hp;\n    }\n\n    window.location.href = [\n      this.taminApplicationConfig.authenticationEndpoint,\n      '?',\n      `redirect_uri=${this.taminApplicationConfig.redirectUrl}`,\n      '&',\n      `response_type=${this.taminApplicationConfig.responseType}`,\n      '&',\n      `client_id=${this.taminApplicationConfig.clientId}`\n    ].join('');\n  }\n\n  redirectToLogin(url = '') {\n    if (window.hasOwnProperty('cordova')) {\n      this.redirectToLoginWithCordova();\n    } else {\n      if (url !== '') {\n        this.addRedirectUrl(url);\n      }\n      this.redirectToLoginWithBrowser(url);\n    }\n  }\n\n  getLoginUrl() {\n    const tmp = [\n      this.taminApplicationConfig.authenticationEndpoint,\n      '?',\n      `redirect_uri=${this.taminApplicationConfig.redirectUrl}`,\n      '&',\n      `response_type=${this.taminApplicationConfig.responseType}`,\n      '&',\n      `client_id=${this.taminApplicationConfig.clientId}`\n    ].join('');\n    return tmp;\n  }\n\n  redirectToLogout() {\n    if (window.hasOwnProperty('cordova')) {\n      this.removeToken();\n    } else {\n      const returnUrl = this.taminApplicationConfig.baseUrl;\n      this.removeToken();\n      window.location.href =\n        `${this.taminApplicationConfig.logoutUrl}?redirect_uri=${this.taminApplicationConfig.redirectUrl}&response_type=${this.taminApplicationConfig.responseType}&client_id=${this.taminApplicationConfig.clientId}`;\n    }\n  }\n\n  mobileLogin(un, pw, clientId, security): Promise<void> {\n    this.removeToken();\n    return new Promise<void>((resolve, reject) => {\n      taminLogin.login(un, pw, this.taminApplicationConfig.authenticationEndpoint, clientId, security, (value) => {\n        const result = JSON.parse(value);\n        const currentTime = new Date().getTime();\n        this.addToken(result.access_token, Number(currentTime) + (Number(result.expires_in) * 1000));\n        resolve();\n      }, () => {\n        reject();\n      });\n    });\n  }\n\n  hasAccressTo(url: string): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      this.httpClient.get(url)\n        .toPromise()\n        .then(data => {\n          resolve(true);\n        })\n        .catch((error: HttpErrorResponse) => {\n          if (error.status === 401) {\n            resolve(false);\n          }\n        });\n    });\n  }\n}\n*/\n","/*\n  Created by: k_kaviani\n  Revised by: a_amiri\n*/\n\nimport {Component, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {TaminSecurityService} from '../../../services/tamin-security/tamin-security.service';\n\n@Component({\n  selector: 'tamin-site-header',\n  templateUrl: './tamin-site-header.component.html',\n  styleUrls: ['./tamin-site-header.component.scss']\n})\nexport class TaminSiteHeaderComponent implements OnInit {\n  userName: string;\n  @Input() showLogin = true;\n  loggedIn = false;\n  @Output() showProfile = new EventEmitter<void>();\n\n  constructor(\n    private taminSecurityService: TaminSecurityService) {\n  }\n\n  ngOnInit() {\n    if (!this.taminSecurityService.checkToken()) {\n      this.loggedIn = false;\n      this.userName = '';\n    } else {\n      this.loggedIn = true;\n      // if (this.taminSecurityService.getCurrentUser()) {\n      //   this.userName = `${this.taminSecurityService.currentUser.firstName} ${this.taminSecurityService.currentUser.lastName}`;\n      // }\n      this.taminSecurityService.getCurrentUser()\n        .then(data => this.userName = `${data.firstName} ${data.lastName}`)\n        .catch(error => {\n          this.userName = ' ';\n        });\n    }\n  }\n\n  onLogin() {\n    this.taminSecurityService.redirectToLogin();\n  }\n\n  onLogout() {\n    this.taminSecurityService.redirectToLogout();\n  }\n\n  onUserProfile() {\n    this.showProfile.emit();\n  }\n}\n","import {Inject, Injectable} from '@angular/core';\nimport {Observable, ReplaySubject} from 'rxjs';\nimport {DOCUMENT} from '@angular/common';\n\n@Injectable({providedIn: 'root'})\nexport class TaminLazyLoadService {\n  private loadedLibraries: { [url: string]: ReplaySubject<any> } = {};\n\n  constructor(@Inject(DOCUMENT) private readonly document: any) {\n  }\n\n  public loadJs(url: string): Observable<any> {\n    if (this.loadedLibraries[url]) {\n      return this.loadedLibraries[url].asObservable();\n    }\n\n    this.loadedLibraries[url] = new ReplaySubject();\n\n    const script = this.document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = url;\n    script.onload = () => {\n      this.loadedLibraries[url].next('');\n      this.loadedLibraries[url].complete();\n    };\n\n    this.document.body.appendChild(script);\n    return this.loadedLibraries[url].asObservable();\n  }\n\n  public loadCss(url: string): Observable<any> {\n    if (this.loadedLibraries[url]) {\n      return this.loadedLibraries[url].asObservable();\n    }\n\n    this.loadedLibraries[url] = new ReplaySubject();\n\n    const script = this.document.createElement('link');\n    script.rel = 'stylesheet';\n    script.href = url;\n    script.onload = () => {\n      this.loadedLibraries[url].next('');\n      this.loadedLibraries[url].complete();\n    };\n\n    this.document.body.appendChild(script);\n    return this.loadedLibraries[url].asObservable();\n  }\n}\n","import {Component, ElementRef, EventEmitter, Input, OnChanges, OnDestroy, OnInit, Output, SimpleChanges, ViewChild} from '@angular/core';\nimport {TaminLazyLoadService} from '../../services/tamin-lazy-load/tamin-lazy-load.service';\nimport { HostListener } from '@angular/core';\n\ndeclare let Chart: any;\n\n@Component({\n  selector: 'tamin-chart',\n  templateUrl: './tamin-chart.component.html',\n  styleUrls: ['./tamin-chart.component.scss']\n})\nexport class TaminChartComponent implements OnInit, OnDestroy, OnChanges {\n  defaultColors: Array<number[]> = [\n    [255, 99, 132],\n    [54, 162, 235],\n    [255, 206, 86],\n    [231, 233, 237],\n    [75, 192, 192],\n    [151, 187, 205],\n    [220, 220, 220],\n    [247, 70, 74],\n    [70, 191, 189],\n    [253, 180, 92],\n    [148, 159, 177],\n    [77, 83, 96]\n  ];\n\n  @Input() public data: number[] | any[];\n  @Input() public datasets: any[];\n  @Input() public labels: Array<any> = [];\n  @Input() public options: any = {};\n  @Input() public chartType: string;\n  @Input() public colors: Array<any>;\n  @Input() public lib: string;\n  @Input() public legend: boolean;\n  @Output() public chartClick: EventEmitter<any> = new EventEmitter();\n  @Output() public chartHover: EventEmitter<any> = new EventEmitter();\n  @ViewChild('element') element: ElementRef;\n\n  public ctx: any;\n  public chart: any;\n  private cvs: any;\n  private initFlag = false;\n\n  public constructor(private taminLazyLoadService: TaminLazyLoadService) {\n  }\n\n  public ngOnInit() {\n    this.ctx = this.element.nativeElement.getContext('2d');\n    this.cvs = this.element.nativeElement;\n    this.initFlag = true;\n    this.taminLazyLoadService.loadJs(this.lib).toPromise().then(() => {\n      if (this.data || this.datasets) {\n        this.refresh();\n      }\n    }).catch(error => {\n      //console.error(error);\n    });\n  }\n\n  public ngOnChanges(changes: SimpleChanges): void {\n    if (this.initFlag) {\n      // Check if the changes are in the data or datasets\n      if (changes.hasOwnProperty('data') || changes.hasOwnProperty('datasets')) {\n        if (changes['data']) {\n          this.updateChartData(changes['data'].currentValue);\n        } else {\n          this.updateChartData(changes['datasets'].currentValue);\n        }\n\n        this.chart.update();\n      } else {\n        // otherwise rebuild the chart\n        this.refresh();\n      }\n    }\n  }\n\n  public ngOnDestroy() {\n    if (this.chart) {\n      this.chart.destroy();\n      this.chart = void 0;\n    }\n  }\n\n  public getChartBuilder(ctx: any/*, data:Array<any>, options:any*/): any {\n    const datasets: any = this.getDatasets();\n\n    const options: any = Object.assign({}, this.options);\n    if (this.legend === false) {\n      options.legend = {display: false};\n    }\n    // hock for onHover and onClick events\n    options.hover = options.hover || {};\n    if (!options.hover.onHover) {\n      options.hover.onHover = (active: Array<any>) => {\n        if (active && !active.length) {\n          return;\n        }\n        this.chartHover.emit({active});\n      };\n    }\n\n    if (!options.onClick) {\n      options.onClick = (event: any, active: Array<any>) => {\n        this.chartClick.emit({event, active});\n      };\n    }\n\n    const opts = {\n      type: this.chartType,\n      data: {\n        labels: this.labels,\n        datasets: datasets\n      },\n      options: options\n    };\n\n    return new Chart(ctx, opts);\n  }\n\n  private updateChartData(newDataValues: number[] | any[]): void {\n    if (Array.isArray(newDataValues[0].data)) {\n      this.chart.data.datasets.forEach((dataset: any, i: number) => {\n        dataset.data = newDataValues[i].data;\n\n        if (newDataValues[i].label) {\n          dataset.label = newDataValues[i].label;\n        }\n      });\n    } else {\n      this.chart.data.datasets[0].data = newDataValues;\n    }\n  }\n\n  private getDatasets(): any {\n    let datasets: any = void 0;\n    // in case if datasets is not provided, but data is present\n    if (!this.datasets || !this.datasets.length && (this.data && this.data.length)) {\n      if (Array.isArray(this.data[0])) {\n        datasets = (this.data as Array<number[]>).map((data: number[], index: number) => {\n          return {data, label: this.labels[index] || `Label ${index}`};\n        });\n      } else {\n        datasets = [{data: this.data, label: `Label 0`}];\n      }\n    }\n\n    if (this.datasets && this.datasets.length ||\n      (datasets && datasets.length)) {\n      datasets = (this.datasets || datasets)\n        .map((elm: number, index: number) => {\n          const newElm: any = Object.assign({}, elm);\n          if (this.colors && this.colors.length) {\n            Object.assign(newElm, this.colors[index]);\n          } else {\n            Object.assign(newElm, this.getColors(this.chartType, index, newElm.data.length));\n          }\n          return newElm;\n        });\n    }\n\n    if (!datasets) {\n      throw new Error(`ng-charts configuration error, data or datasets field are required to render char ${this.chartType}`);\n    }\n\n    return datasets;\n  }\n\n  private refresh(): any {\n    this.chart = this.getChartBuilder(this.ctx);\n  }\n\n  private rgba(colour: Array<number>, alpha: number): string {\n    return 'rgba(' + colour.concat(alpha).join(',') + ')';\n  }\n\n  private getRandomInt(min: number, max: number): number {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n\n  private formatLineColor(colors: Array<number>): Color {\n    return {\n      backgroundColor: this.rgba(colors, 0.4),\n      borderColor: this.rgba(colors, 1),\n      pointBackgroundColor: this.rgba(colors, 1),\n      pointBorderColor: '#fff',\n      pointHoverBackgroundColor: '#fff',\n      pointHoverBorderColor: this.rgba(colors, 0.8)\n    };\n  }\n\n  private formatBarColor(colors: Array<number>): Color {\n    return {\n      backgroundColor: this.rgba(colors, 0.6),\n      borderColor: this.rgba(colors, 1),\n      hoverBackgroundColor: this.rgba(colors, 0.8),\n      hoverBorderColor: this.rgba(colors, 1)\n    };\n  }\n\n  private formatPieColors(colors: Array<number[]>): Colors {\n    return {\n      backgroundColor: colors.map((color: number[]) => this.rgba(color, 0.6)),\n      borderColor: colors.map(() => '#fff'),\n      pointBackgroundColor: colors.map((color: number[]) => this.rgba(color, 1)),\n      pointBorderColor: colors.map(() => '#fff'),\n      pointHoverBackgroundColor: colors.map((color: number[]) => this.rgba(color, 1)),\n      pointHoverBorderColor: colors.map((color: number[]) => this.rgba(color, 1))\n    };\n  }\n\n  private formatPolarAreaColors(colors: Array<number[]>): Color {\n    return {\n      backgroundColor: colors.map((color: number[]) => this.rgba(color, 0.6)),\n      borderColor: colors.map((color: number[]) => this.rgba(color, 1)),\n      hoverBackgroundColor: colors.map((color: number[]) => this.rgba(color, 0.8)),\n      hoverBorderColor: colors.map((color: number[]) => this.rgba(color, 1))\n    };\n  }\n\n  private getRandomColor(): number[] {\n    return [this.getRandomInt(0, 255), this.getRandomInt(0, 255), this.getRandomInt(0, 255)];\n  }\n\n  private generateColor(index: number): number[] {\n    return this.defaultColors[index] || this.getRandomColor();\n  }\n\n  private generateColors(count: number): Array<number[]> {\n    const colorsArr: Array<number[]> = new Array(count);\n    for (let i = 0; i < count; i++) {\n      colorsArr[i] = this.defaultColors[i] || this.getRandomColor();\n    }\n    return colorsArr;\n  }\n\n  private getColors(chartType: string, index: number, count: number): Color {\n    if (chartType === 'pie' || chartType === 'doughnut') {\n      return this.formatPieColors(this.generateColors(count));\n    }\n\n    if (chartType === 'polarArea') {\n      return this.formatPolarAreaColors(this.generateColors(count));\n    }\n\n    if (chartType === 'line' || chartType === 'radar') {\n      return this.formatLineColor(this.generateColor(index));\n    }\n\n    if (chartType === 'bar' || chartType === 'horizontalBar') {\n      return this.formatBarColor(this.generateColor(index));\n    }\n    return this.generateColor(index) as Color;\n  }\n\n\n  @HostListener('window:resize', ['$event'])\n  windowResizeHandler(event) {\n    //this.refresh(); Makes some problems on hover.\n  }\n\n}\n\nexport interface Color {\n  backgroundColor?: string | string[];\n  borderWidth?: number | number[];\n  borderColor?: string | string[];\n  borderCapStyle?: string;\n  borderDash?: number[];\n  borderDashOffset?: number;\n  borderJoinStyle?: string;\n\n  pointBorderColor?: string | string[];\n  pointBackgroundColor?: string | string[];\n  pointBorderWidth?: number | number[];\n\n  pointRadius?: number | number[];\n  pointHoverRadius?: number | number[];\n  pointHitRadius?: number | number[];\n\n  pointHoverBackgroundColor?: string | string[];\n  pointHoverBorderColor?: string | string[];\n  pointHoverBorderWidth?: number | number[];\n  pointStyle?: string | string[];\n\n  hoverBackgroundColor?: string | string[];\n  hoverBorderColor?: string | string[];\n  hoverBorderWidth?: number;\n}\n\nexport interface Colors extends Color {\n  data?: number[];\n  label?: string;\n}\n\n\n\n","/*\n  Created by: k_kaviani\n  Revised by: a_amiri\n*/\n\nimport {Component, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'tamin-site-footer',\n  templateUrl: './tamin-site-footer.component.html',\n  styleUrls: ['./tamin-site-footer.component.scss']\n})\nexport class TaminSiteFooterComponent implements OnInit {\n\n  constructor(private router: Router) {\n  }\n\n  ngOnInit() {\n  }\n\n  redirectTo(destination) {\n    this.router.navigate([destination]);\n  }\n\n\n}\n","import {Component, forwardRef} from '@angular/core';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\nimport {NG_VALUE_ACCESSOR} from '@angular/forms';\n\n@Component({\n  selector: 'tamin-field-static-text',\n  templateUrl: './tamin-field-static-text.component.html',\n  styleUrls: ['./tamin-field-static-text.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldStaticTextComponent),\n      multi: true\n    }\n  ]\n\n})\nexport class TaminFieldStaticTextComponent extends FieldBaseComponent {\n  initializeComponent() {\n  }\n\n  writeValue(value: any): void {\n    setTimeout(() => {\n      const theValue = value == null ? '' : value;\n      this.inputElement.nativeElement.value = this.persianNumberPipe.transform(value);\n      this.onChange(value);\n    }, 0);\n  }\n}\n","/*\n  Created by: k_kaviani\n  Revised by: a_amiri\n*/\nexport enum DataColumnViewType {\n  Label = 'Label',\n  ThousandSeperated = 'ThousandSeperated',\n  PersianDate = 'PersianDate',\n  PersianDateTime = 'PersianDateTime',\n  RowNumber = 'RowNumber',\n  Custom = 'Custom',\n  CustomRow = 'CustomRow'\n}\n\nexport class TaminDataColumn {\n  columnName: string;\n  columnCaption: string;\n  columnWidth: string;\n  columnViewType: string;\n  columnSortable: boolean;\n  columnEditable: boolean;\n  columnTranslator: Function;\n  columnStyle: Function;\n}\n","/*\n  Created by: k_kaviani\n  Revised by: a_amiri\n*/\n\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { SearchParam } from '../../models/search-param.model';\nimport { SortParam } from '../../models/sort-param.model';\nimport { EntityResultWrapper } from '../../models/entity-result-wrapper.model';\nimport { ObjectResultWrapper } from '../../models/object-result-wrapper.model';\n// import { Observable } from \"rxjs\";\nimport { timeout } from 'rxjs/operators';\n\n@Injectable()\nexport class GenericRestService<T> {\n  public restUrl = '';\n  public timeout = 180000;\n  private pagingPath = '';\n\n  constructor(private http: HttpClient) {\n  }\n\n  getAll(querySearchParams: SearchParam[], querySortParams: SortParam[]): Promise<ObjectResultWrapper> {\n    const headers = new HttpHeaders();\n    let params = new HttpParams();\n    params.append('filter', JSON.stringify(querySearchParams));\n    params.append('sort', JSON.stringify(querySortParams));\n    params = params.append('_dc', (new Date()).getTime().toString());\n    return new Promise<ObjectResultWrapper>((resolve, reject) => {\n      this.http.get<ObjectResultWrapper>(this.restUrl, { headers, params })\n        .pipe(timeout(this.timeout))\n        .toPromise()\n        .then((response: ObjectResultWrapper) => resolve(response))\n        .catch((error: Response) => reject(this.handleError(error)));\n    });\n  }\n\n  getPagedEntity(includeMetaData: boolean, pageNo: number, pageSize: number, querySearchParams: SearchParam[],\n    querySortParams: SortParam[]): Promise<EntityResultWrapper<T>> {\n    let params = new HttpParams();\n    const headers = new HttpHeaders();\n    params = params.append('filter', JSON.stringify(querySearchParams));\n    params = params.append('sort', JSON.stringify(querySortParams));\n    //params = params.append('start', pageNo.toString());\n    params = params.append('start', ((pageNo - 1) * pageSize).toString());\n    params = params.append('limit', pageSize.toString());\n    params = params.append('_dc', (new Date()).getTime().toString());\n    const url = `${this.restUrl}/${this.pagingPath}`;\n    return new Promise<EntityResultWrapper<T>>((resolve, reject) => {\n      this.http.get<EntityResultWrapper<T>>(url, { headers, params })\n        .pipe(timeout(this.timeout))\n        .toPromise()\n        .then((response: EntityResultWrapper<T>) => resolve(response))\n        .catch((error: Response) => reject(this.handleError(error)));\n    });\n  }\n\n  getPagedObject(includeMetaData: boolean, pageNo: number, pageSize: number, querySearchParams: SearchParam[],\n    querySortParams: SortParam[]): Promise<ObjectResultWrapper> {\n    let params = new HttpParams();\n    const headers = new HttpHeaders();\n    params = params.append('filter', JSON.stringify(querySearchParams));\n    params = params.append('sort', JSON.stringify(querySortParams));\n    // params = params.append('start', pageNo.toString());\n    params = params.append('start', ((pageNo - 1) * pageSize).toString());\n    params = params.append('limit', pageSize.toString());\n    params = params.append('_dc', (new Date()).getTime().toString());\n    const url = `${this.restUrl}/${this.pagingPath}`;\n    return new Promise<ObjectResultWrapper>((resolve, reject) => {\n      this.http.get<ObjectResultWrapper>(url, { headers, params })\n        .pipe(timeout(this.timeout))\n        .toPromise()\n        .then((response: ObjectResultWrapper) => resolve(response))\n        .catch((error: Response) => reject(this.handleError(error)));\n    });\n  }\n\n  getById(id: number): Promise<ObjectResultWrapper> {\n    const url = `${this.restUrl}/${id}`;\n    return new Promise<ObjectResultWrapper>((resolve, reject) => {\n      this.http.get<ObjectResultWrapper>(url)\n        .pipe(timeout(this.timeout))\n        .toPromise()\n        .then((response: ObjectResultWrapper) => resolve(response))\n        .catch((error: Response) => reject(this.handleError(error)));\n    });\n  }\n\n  getByMultipleId(ids: string[]): Promise<ObjectResultWrapper> {\n    let url = `${this.restUrl}`;\n    ids.forEach(id => {\n      url += `/${id}`;\n    });\n    return new Promise<ObjectResultWrapper>((resolve, reject) => {\n      this.http.get<ObjectResultWrapper>(url)\n        .pipe(timeout(this.timeout))\n        .toPromise()\n        .then((response: ObjectResultWrapper) => resolve(response))\n        .catch((error: Response) => reject(this.handleError(error)));\n    });\n  }\n\n  create(dataItem: T): Promise<T> {\n    const url = this.restUrl;\n    return new Promise<T>((resolve, reject) => {\n      this.http\n        .post(url, dataItem)\n        .pipe(timeout(this.timeout))\n        .toPromise()\n        .then((response: T) => resolve(response))\n        .catch((error: Response) => reject(this.handleError(error)));\n    });\n  }\n\n  update(dataItem: T): Promise<T> {\n    const url = this.restUrl;\n    return new Promise<T>((resolve, reject) => {\n      this.http\n        .put(url, dataItem)\n        .pipe(timeout(this.timeout))\n        .toPromise()\n        .then((response: T) => resolve(response))\n        .catch((error: Response) => reject(this.handleError(error)));\n    });\n  }\n\n  delete(id: number): Promise<void> {\n    const url = `${this.restUrl}/${id}`;\n    return new Promise<void>((resolve, reject) => {\n      this.http\n        .delete(url)\n        .pipe(timeout(this.timeout))\n        .toPromise()\n        .then((response: any) => resolve(response))\n        .catch((error: Response) => reject(this.handleError(error)));\n    });\n  }\n\n  protected handleError(error: any): Promise<any> {\n    return error;\n  }\n}\n","import {Injectable} from '@angular/core';\nimport * as momentNs from 'jalali-moment';\n\nconst moment = momentNs;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TaminPersianService {\n\n  private _numberRange = '[\\u06F0-\\u06F9]';\n  private _charRange = ['[\\u06A9\\u06AF\\u06C0\\u06CC\\u060C',\n    '\\u062A\\u062B\\u062C\\u062D\\u062E\\u062F',\n    '\\u063A\\u064A\\u064B\\u064C\\u064D\\u064E',\n    '\\u064F\\u067E\\u0670\\u0686\\u0698\\u200C',\n    '\\u0621-\\u0629\\u0630-\\u0639\\u0641-\\u0654]'].join('');\n  private _rtlPunctuations = '(|||||)';\n  private _ltrPunctuations = '(\\\\.|:|\\\\!|\\\\-|\\\\[|\\\\]|\\\\(|\\\\)|/)';\n\n  private _number = new RegExp('^' + this._numberRange + '+$');\n  private _letter = new RegExp('^' + this._charRange + '+$');\n  private _punctuation = new RegExp('^' + this.combineRegExps(this._rtlPunctuations, this._ltrPunctuations) + '+$');\n  private _text = new RegExp('^' + this.combineRegExps(this._numberRange, this._charRange, this._rtlPunctuations, this._ltrPunctuations, '\\\\s') + '+$'\n  );\n  private _rtl = new RegExp('^' + this.combineRegExps(this._charRange, this._numberRange, this._rtlPunctuations, '\\\\s') + '+$');\n\n\n  constructor() {\n  }\n\n  public getPersianDate(value: Date): string | null {\n    try {\n      const tmp = moment.from(value.toLocaleDateString(), 'en');\n      if (tmp.isValid()) {\n        return tmp.locale('fa').format('YYYY/MM/DD');\n      }\n      return null;\n    } catch (e) {\n      return '';\n    }\n  }\n\n  public getPersianDayOfWeek(value: Date): string | null {\n    try {\n      const dayOfWeeks = ['', '', ' ', '', ' ', '', ''];\n      const tmp = moment.from(value.toLocaleDateString(), 'en');\n      if (tmp.isValid()) {\n        return dayOfWeeks[tmp.locale('fa').day()];\n      }\n      return null;\n    } catch (e) {\n      return '';\n    }\n  }\n\n  public getGregorianDate(value: string): Date | null {\n    const tmp = moment.from(value, 'fa', 'YYYY/MM/DD');\n    if (tmp.isValid()) {\n      return tmp.toDate();\n    }\n    return null;\n  }\n\n  private combineRegExps(...params: any[]) {\n    let combined = '(';\n    for (let i = 0; i < arguments.length; i++) {\n      combined += '(';\n      if (i !== arguments.length - 1) {\n        combined += arguments[i] + ')|';\n      } else {\n        combined += arguments[i] + ')';\n      }\n    }\n    return combined + ')';\n  }\n}\n","import {Injectable} from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConstantsService {\n\n  constructor() {\n  }\n\n  getNetworkErrorMessage(): string {\n    return '<p>          .</p>\\n' +\n      '<p>          .</p>\\n' +\n      '<ul class=\"network-error\">\\n' +\n      '<li>     .</li>\\n' +\n      '<li>         .</li>\\n' +\n      '<li>       .</li>\\n' +\n      '</ul>\\n';\n  }\n}\n","import {AfterViewInit, ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {DataColumnViewType, TaminDataColumn} from '../../models/tamin-data-column.model';\nimport {TaminActionColumn} from '../../models/tamin-action-column.model';\nimport {GenericRestService} from '../../services/generic-rest-service/generic-rest.service';\nimport {TaminDataGridConfiguration} from '../../helpers/tamin.data.grid.configuration/tamin.data.grid.configuration';\nimport {TaminPersianService} from '../../services/persian-service/tamin-persian.service';\nimport {OverlayService} from '../../services/overlay/overlay.service';\nimport {BreakpointObserver, Breakpoints, BreakpointState} from '@angular/cdk/layout';\nimport {TaminRestService} from '../../services/tamin-rest-service/tamin-rest.service';\nimport {PersianNumberPipe} from '../../pipes/persian-number.pipe';\nimport {Error} from 'tslint/lib/error';\nimport {ConstantsService} from '../../services/constants.service';\n\n@Component({\n  selector: 'tamin-data-grid',\n  templateUrl: './tamin-data-grid.component.html',\n  styleUrls: ['./tamin-data-grid.component.scss'],\n})\n\nexport class TaminDataGridComponent implements OnInit, AfterViewInit {\n  @Input() set configuration(data: TaminDataGridConfiguration) {\n    if (data) {\n      this.serviceUrl = data.serviceUrl;\n      this.visibleColumns = data.visibleColumns;\n      this.actionColumns = data.actionColumns;\n      this.searchParams = data.searchParams;\n      this.sortParams = data.sortParams;\n      this.viewType = data.viewType;\n      this.showActionColumn = data.showActionColumn;\n      this.actionColumnCaption = data.actionColumnCaption;\n      this.rowEditable = data.rowEditable;\n      this.rowDeletable = data.rowDeletable;\n      this.dataItems = data.dataItems;\n      this.showFooter = data.showFooter;\n      this.showPager = data.showPager;\n      this.pagerSize = data.pagerSize;\n      this.loadDataOnInit = data.loadDataOnInit;\n      this.pagerCurrentPage = data.pagerCurrentPage;\n    }\n  }\n\n  @Input() serviceUrl: string;\n  @Input() visibleColumns: TaminDataColumn[] | object[];\n  @Input() actionColumns: TaminActionColumn[] | object[];\n  @Input() searchParams: any[];\n  @Input() sortParams: any[];\n  @Input() viewType: string;\n  @Input() showActionColumn: boolean;\n  @Input() actionColumnCaption = '';\n  @Input() rowEditable: string;\n  @Input() rowDeletable: string;\n  @Input() multiSelectable: string;\n  @Input() dataItems: any;\n  @Input() selectedDataItem: any;\n  @Input() selectedDataItems: any[] = [];\n  @Input() showFooter: string;\n  @Input() showPager: boolean;\n  @Input() pagerSize = 5;\n  @Input() id = '';\n  @Input() loadDataOnInit = false;\n  @Input() showLoadOverlay = true;\n  @Input() showHover = false;\n  @Input() pagerCurrentPage = 1;\n  @Input() errorMessage: string;\n  @Input() allowBreakPoints = true;\n  @Output() itemSelect = new EventEmitter<any>();\n  @Output() itemAction = new EventEmitter<any>();\n  @Output() beforeRefreshData = new EventEmitter<any>();\n  @Output() afterRefreshData = new EventEmitter<any>();\n  @Output() refreshDataError = new EventEmitter<any>();\n  @ViewChild('gridContainer') gridContainer: ElementRef;\n  renderMode: 'desktop' | 'mobile' = 'desktop';\n  hasError = false;\n  sortColumnName: string;\n  sortColumnMethod: 'ASC' | 'DESC';\n  cellRenderer: (item, column) => any;\n  actionRenderer: (item: any, actionCell: Array<TaminActionColumn>) => any;\n  cellStyler: (item, column) => any;\n  rowStyler: (item) => any;\n  loading = false;\n  breakPoints: Array<any> = [Breakpoints.Small, Breakpoints.Handset];\n  totalPages: number;\n  totalRows: number;\n  private _overlay = null;\n\n  constructor(\n    private genericRestService: GenericRestService<any>,\n    private changeDetectorRef: ChangeDetectorRef,\n    private taminRestService: TaminRestService,\n    private taminPersianService: TaminPersianService,\n    private persianNumberPipe: PersianNumberPipe,\n    public breakpointObserver: BreakpointObserver,\n    public constants: ConstantsService,\n    private overlayService: OverlayService) {\n  }\n\n  ngOnInit() {\n    this.errorMessage = this.constants.getNetworkErrorMessage();\n    this.breakpointObserver\n      .observe(this.breakPoints)\n      .subscribe((state: BreakpointState) => {\n        if (!this.allowBreakPoints) {\n          return;\n        }\n        if (state.matches) {\n\n          if (this.renderMode !== 'mobile') {\n            this.renderMode = 'mobile';\n          }\n        } else {\n          if (this.renderMode !== 'desktop') {\n            this.renderMode = 'desktop';\n          }\n        }\n      });\n    if (this.sortParams && this.sortParams.length !== 0) {\n      this.sortColumnName = this.sortParams[0].property;\n      this.sortColumnMethod = this.sortParams[0].direction;\n    }\n  }\n\n  public refreshData(showOverlay: boolean = true) {\n    return new Promise<any>((resolve, reject) => {\n      if (this.loading) {\n        return;\n      }\n      this.hasError = false;\n      if (!this.serviceUrl || this.serviceUrl === '') {\n        reject(new Error('ServiceUrl has not value'));\n        return;\n      }\n      this.beforeRefreshData.emit();\n      this.loading = true;\n      if (this.showLoadOverlay && showOverlay) {\n        if (this._overlay === null) {\n          this._overlay = this.overlayService.show(this.gridContainer.nativeElement);\n        }\n      }\n      const sortParams = [];\n      if (this.sortColumnName) {\n        sortParams.push({\n          property: this.sortColumnName,\n          direction: this.sortColumnMethod\n        });\n      }\n\n      if (!this.pagerSize || this.pagerSize <= 0) {\n        this.pagerSize = 1000; // Max allowed\n        this.taminRestService.getAll(this.serviceUrl, this.searchParams, sortParams)\n          .then(value => {\n            if (this.showLoadOverlay && showOverlay && this._overlay !== null) {\n              this.overlayService.hide(this._overlay);\n              this._overlay = null;\n            }\n            this.loading = false;\n            if (value.data !== undefined && value.data == null) {\n              value.data.list = [];\n              value.data.total = 0;\n            }\n            this.dataItems = value.data.list;\n            this.totalRows = value.data.total;\n            this.totalPages = Math.ceil(this.totalRows / this.pagerSize);\n            this.pagerCurrentPage = this.totalPages > 0 ? 1 : 0;\n            this.afterRefreshData.emit();\n            resolve(value);\n          })\n          .catch(reason => {\n            if (this.showLoadOverlay && showOverlay && this._overlay !== null) {\n              this.overlayService.hide(this._overlay);\n              this._overlay = null;\n            }\n            this.dataItems = [];\n            this.loading = false;\n            this.hasError = true;\n            this.refreshDataError.emit(reason);\n            reject(reason);\n          });\n      } else {\n        this.taminRestService.getPage(this.serviceUrl, this.pagerCurrentPage, this.pagerSize, this.searchParams, sortParams)\n          .then(value => {\n            if (this.showLoadOverlay && showOverlay && this._overlay !== null) {\n              this.overlayService.hide(this._overlay);\n              this._overlay = null;\n            }\n            this.loading = false;\n            this.dataItems = value.data.list;\n            this.totalRows = value.data.total;\n            this.totalPages = Math.ceil(this.totalRows / this.pagerSize);\n            this.afterRefreshData.emit();\n            resolve();\n          })\n          .catch(reason => {\n            if (this.showLoadOverlay && showOverlay && this._overlay !== null) {\n              this.overlayService.hide(this._overlay);\n              this._overlay = null;\n            }\n            this.dataItems = [];\n            this.loading = false;\n            this.hasError = true;\n            this.refreshDataError.emit(reason);\n            reject(reason);\n          });\n      }\n    });\n  }\n\n  onSelectItem(dataItem: any): void {\n    this.selectedDataItem = dataItem;\n    this.itemSelect.emit(dataItem);\n  }\n\n  onItemCheckBoxClick(dataItem: any, event: any): void {\n    if (this.selectedDataItems.indexOf(dataItem) === -1 && event.target.checked) {\n      this.selectedDataItems.push(dataItem);\n    }\n    if (!event.target.checked) {\n      const index = this.selectedDataItems.indexOf(dataItem, 0);\n      if (index > -1) {\n        this.selectedDataItems.splice(index, 1);\n      }\n    }\n  }\n\n\n  onActionClicked(dataItem: any, actionCell: TaminActionColumn): void {\n    this.selectedDataItem = dataItem;\n    this.itemAction.emit({dataItem, actionCell});\n  }\n\n  onPagerPageChanged(pagerCurrentPage: number) {\n    this.pagerCurrentPage = pagerCurrentPage;\n    this.refreshData();\n  }\n\n  getDataItemString(dataItem: any, cell: TaminDataColumn, index: number): string {\n    let result = dataItem;\n    if (cell.columnViewType !== DataColumnViewType.RowNumber) {\n      const fields = cell.columnName.split('.');\n      for (let i = 0; i < fields.length; i++) {\n        if (!result[fields[i]]) {\n          result = '';\n        } else {\n          result = result[fields[i]];\n        }\n      }\n    }\n    switch (cell.columnViewType) {\n      case DataColumnViewType.Label :\n        return result;\n      case DataColumnViewType.ThousandSeperated :\n        const parts = result.toString().split('.');\n        parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n        return parts.join('.');\n      case DataColumnViewType.RowNumber :\n        return (index + 1 + (this.pagerSize * (this.pagerCurrentPage - 1))).toString();\n      case DataColumnViewType.PersianDate :\n        try {\n          const date = new Date(result);\n          return this.taminPersianService.getPersianDate(date);\n        } catch (e) {\n          return '   ';\n        }\n      case DataColumnViewType.Custom:\n        return cell.columnTranslator(result);\n      case DataColumnViewType.CustomRow:\n        return cell.columnTranslator(dataItem, cell.columnName);\n    }\n  }\n\n  getDataItemAction(dataItem: any, cell: TaminDataColumn): string {\n    if (!cell.columnStyle) {\n      return '';\n    }\n    const fields = cell.columnName.split('.');\n    let result = dataItem;\n    for (let i = 0; i < fields.length; i++) {\n      if (!result[fields[i]]) {\n        result = '-';\n      } else {\n        result = result[fields[i]];\n      }\n    }\n    return cell.columnStyle(result);\n  }\n\n  private cellRendererSelector(item: any, column: TaminDataColumn, index: number) {\n    if (column.columnViewType === DataColumnViewType.RowNumber) {\n      return this.getDataItemString(item[column.columnName], column, index);\n    }\n    if (this.cellRenderer) {\n      const result = this.cellRenderer(item, column);\n      if (result.handled) {\n        return result.data;\n      }\n    }\n    return this.getDataItemString(item, column, index);\n  }\n\n  generateContent(item, column, i): any {\n    if (/<\\/?[a-z][\\s\\S]*>/i.test(item)) {\n      return this.cellRendererSelector(encodeURIComponent(item), column, i);\n    }\n    return this.cellRendererSelector(item, column, i);\n  }\n\n  ngAfterViewInit(): void {\n    if (this.loadDataOnInit) {\n      this.refreshData();\n    }\n  }\n\n  onActionMenuItemClicked(event: any) {\n    this.onSelectItem(event.item);\n    this.itemAction.emit(event);\n  }\n\n  getCellStylerResult(item, column) {\n    return this.cellStyler ? this.cellStyler(item, column) : '';\n  }\n\n  getRowStylerResult(item) {\n    return this.rowStyler ? this.rowStyler(item) : '';\n  }\n\n  actionRender(item: any, actionCell: Array<any>) {\n    if (this.actionRenderer) {\n      return this.actionRenderer(item, actionCell);\n    }\n    return actionCell;\n  }\n\n  onSort(column: TaminDataColumn) {\n    if (this.sortColumnName === column.columnName) {\n      this.sortColumnMethod = this.sortColumnMethod === 'ASC' ? 'DESC' : 'ASC';\n    }\n    if (this.sortColumnName !== column.columnName) {\n      this.sortColumnName = column.columnName;\n      this.sortColumnMethod = 'ASC';\n    }\n    this.refreshData();\n  }\n}\n","import {Component, EventEmitter, Input, OnDestroy, OnInit, Output} from '@angular/core';\nimport {GenericRestService} from '../../../services/generic-rest-service/generic-rest.service';\nimport {Subscription, timer} from 'rxjs';\n\n@Component({\n  selector: 'tamin-monitoring',\n  templateUrl: './monitoring.component.html',\n  styleUrls: ['./monitoring.component.scss']\n})\nexport class MonitoringComponent implements OnInit, OnDestroy {\n  @Input() serviceUrls: string[];\n  @Input() refreshInterval = 60000;\n  @Input() id: string;\n  @Input() type: 'service' | 'database';\n  @Input() title: string;\n  @Input() normalWaitingTime = 10000;\n  @Input() warningWaitingTime = 30000;\n  @Input() dangerWaitingTime = 50000;\n  @Input() timeout = 60000;\n  @Input() viewType: 'full' | 'compact';\n  @Output() started = new EventEmitter<void>();\n  @Output() stopped = new EventEmitter<void>();\n  lastStatus: 'normal' | 'warning' | 'danger';\n  alive = false;\n\n  serviceTotalRowsCollected: Map<string, number> = new Map<string, number>();\n  serviceWaitingTimes: Map<string, number> = new Map<string, number>();\n  serviceStartTimes: Map<string, number> = new Map<string, number>();\n  dbWaitingTimes: Map<string, number> = new Map<string, number>();\n  dbStartTimes: Map<string, number> = new Map<string, number>();\n  statusColor = '#bbbbbb';\n\n  dbChartLabels: string[] = [];\n  dbChartData: any[] = [];\n  dbChartType = 'bar';\n  dbChartOptions = {};\n\n  serviceChartLabels: string[] = ['ResponseTime', 'TimeoutRange'];\n  serviceChartData: any[] = [];\n  serviceChartType = 'pie';\n\n  private _subscription = new Subscription();\n\n\n  constructor(private genericRestService: GenericRestService<any>) {\n    this.dbChartOptions = {\n      scales: {\n        yAxes: [{\n          ticks: {\n            beginAtZero: true\n          }\n        }]\n      }\n    };\n  }\n\n  startTimer() {\n    this.alive = true;\n    this._subscription = timer(1000, this.refreshInterval).subscribe(() => {\n        this.refreshData();\n      }\n    );\n    this.started.emit();\n  }\n\n  stopTimer() {\n    if (this.alive) {\n      this.alive = false;\n      this._subscription.unsubscribe();\n    }\n    this.stopped.emit();\n    this.statusColor = '#bbbbbb';\n  }\n\n  ngOnInit() {\n    if (this.serviceUrls) {\n      for (let index = 0; index < this.serviceUrls.length; index++) {\n        this.serviceStartTimes.set(this.serviceUrls[index], 0);\n        this.serviceWaitingTimes.set(this.serviceUrls[index], 0);\n        this.serviceTotalRowsCollected.set(this.serviceUrls[index], 0);\n        this.serviceChartData.push(\n          {data: [0, this.timeout], label: this.serviceUrls[index]}\n        );\n      }\n    } else {\n      this.serviceChartData.push({data: [0, 0], label: ''});\n    }\n\n    this.dbChartData.push({data: [0, 0], label: ''});\n    this.startTimer();\n  }\n\n  public refreshData() {\n    this.serviceUrls.forEach(serviceUrl => {\n      this.serviceStartTimes.set(serviceUrl, Date.now());\n      this.genericRestService.restUrl = serviceUrl;\n      this.genericRestService.timeout = this.timeout;\n      this.genericRestService.getPagedObject(true, 0, 10, [], [])\n        .then(objectResultWrapper => {\n          this.serviceWaitingTimes.set(serviceUrl, Date.now() - this.serviceStartTimes.get(serviceUrl));\n          if (this.serviceWaitingTimes.get(serviceUrl) <= this.normalWaitingTime) {\n            this.statusColor = 'green';\n          }\n          if (this.serviceWaitingTimes.get(serviceUrl) > this.normalWaitingTime && this.serviceWaitingTimes.get(serviceUrl) <= this.warningWaitingTime) {\n            this.statusColor = 'green';\n          }\n          if (this.serviceWaitingTimes.get(serviceUrl) > this.warningWaitingTime) {\n            this.statusColor = '#ff9900';\n          }\n          if (this.serviceWaitingTimes.get(serviceUrl) > this.dangerWaitingTime) {\n            this.statusColor = 'red';\n          }\n          this.refreshServiceChart();\n        })\n        .catch(error => {\n          this.serviceWaitingTimes.set(serviceUrl, this.timeout);\n          this.statusColor = 'red';\n          this.refreshServiceChart();\n        });\n    });\n  }\n\n  refreshServiceChart() {\n    this.serviceChartData = [];\n    this.serviceUrls.forEach(serviceUrl => {\n      let newValue = this.timeout - this.serviceWaitingTimes.get(serviceUrl);\n      if (newValue < 0) {\n        newValue = 0;\n      }\n      this.serviceChartData.push(\n        {data: [this.serviceWaitingTimes.get(serviceUrl), newValue], label: serviceUrl}\n      );\n    });\n  }\n\n  ngOnDestroy() {\n    this._subscription.unsubscribe();\n  }\n\n  serviceChartClicked(e: any): void {\n  }\n\n  serviceChartHovered(e: any): void {\n  }\n\n  dbChartClicked(e: any): void {\n  }\n\n  dbChartHovered(e: any): void {\n  }\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {TaminLazyLoadService} from '../../services/tamin-lazy-load/tamin-lazy-load.service';\n\ndeclare var OpenLayers: any;\n\n@Component({\n  selector: 'tamin-map',\n  templateUrl: './tamin-map.component.html',\n  styleUrls: ['./tamin-map.component.scss']\n})\nexport class TaminMapComponent implements OnInit {\n  @Input() js = 'http://www.openlayers.org/api/OpenLayers.js';\n  @Input() css: string;\n  @Input() width = '100%';\n  @Input() height = '100%';\n  id: any;\n\n  constructor(private taminLazyLoadService: TaminLazyLoadService) {\n  }\n\n  ngOnInit() {\n    this.id = (new Date()).getTime().toString();\n  }\n\n  load(): Promise<any> {\n    return this.taminLazyLoadService.loadJs(this.js).toPromise();\n  }\n\n  setLocation(latitude: number, longitude: number, zoom: number) {\n    const map = new OpenLayers.Map(this.id);\n    map.addLayer(new OpenLayers.Layer.OSM());\n    const lonLat = new OpenLayers.LonLat(longitude, latitude)\n      .transform(\n        new OpenLayers.Projection('EPSG:4326'),\n        map.getProjectionObject()\n      );\n    const markers = new OpenLayers.Layer.Markers('Markers');\n\n\n    markers.addMarker(new OpenLayers.Marker(lonLat));\n    map.setCenter(lonLat, zoom);\n  }\n}\n","import {Component, forwardRef} from '@angular/core';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\nimport {NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {TaminPersianService} from '../../../services/persian-service/tamin-persian.service';\nimport {TaminPersianDate} from '../../../tamin-persian-date';\n\n@Component({\n  selector: 'tamin-field-static-persian-date',\n  templateUrl: './tamin-field-static-persian-date.component.html',\n  styleUrls: ['./tamin-field-static-persian-date.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldStaticPersianDateComponent),\n      multi: true\n    }\n  ]\n\n})\nexport class TaminFieldStaticPersianDateComponent extends FieldBaseComponent {\n  private _taminPersianService: TaminPersianService;\n\n  initializeComponent() {\n    // this._taminPersianService = this.injector.get(TaminPersianService);\n  }\n\n  writeValue(value: any): void {\n    const theValue = value == null ? '' : value;\n    // this.inputElement.nativeElement.value = value ? this._taminPersianService.getPersianDate(new Date(value)) : '';\n    this.inputElement.nativeElement.value = value ? TaminPersianDate.GregorianToJalali(new Date(value)) : '';\n    this.onChange(value);\n  }\n}\n","import {Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {timeout} from 'rxjs/operators';\nimport {HttpClient} from '@angular/common/http';\nimport {TaminModalComponent} from '../tamin-modal/tamin-modal.component';\n\n@Component({\n  selector: 'tamin-pdf-viewer',\n  templateUrl: './tamin-pdf-viewer.component.html',\n  styleUrls: ['./tamin-pdf-viewer.component.scss']\n})\nexport class TaminPdfViewerComponent implements OnInit {\n\n  @ViewChild('theModal') theModal: TaminModalComponent;\n  @ViewChild('iframe') iframe: ElementRef;\n  @Input() title: string;\n  @Input() errorMessage = '   ';\n  @Output() beforeLoad = new EventEmitter<any>();\n  @Output() afterLoad = new EventEmitter<any>();\n\n  private _overlay: any;\n\n  constructor(private http: HttpClient) {\n  }\n\n  getBlob(url: string): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n      this.http.get(url, {responseType: 'blob'})\n        .pipe(timeout(6000))\n        .toPromise()\n        .then((response) => resolve(response))\n        .catch((error) => reject(error));\n    });\n  }\n\n  open(url: string) {\n    this.beforeLoad.emit();\n    this.getBlob(url)\n      .then(value => {\n        this.iframe.nativeElement.src = URL.createObjectURL(value);\n        this.afterLoad.emit();\n        this.theModal.show();\n      })\n      .catch(reason => {\n        this.afterLoad.emit();\n      });\n  }\n\n  close() {\n    this.theModal.hide();\n  }\n\n  ngOnInit() {\n  }\n}\n","import {Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\n\n@Component({\n  selector: 'tamin-wizard-item',\n  templateUrl: './tamin-wizard-item.component.html',\n  styleUrls: ['./tamin-wizard-item.component.scss']\n})\nexport class TaminWizardItemComponent implements OnInit {\n  @Input() stepTitle: string;\n  @Input() buttonTitle: string;\n  @ViewChild('wizardItem') wizardItem: ElementRef;\n\n  private _visible: boolean;\n\n  get visible(): boolean {\n    return this._visible;\n  }\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    this.hide();\n  }\n\n  show() {\n    this.wizardItem.nativeElement.style.display = 'block';\n    this._visible = true;\n  }\n\n  hide() {\n    this.wizardItem.nativeElement.style.display = 'none';\n    this._visible = false;\n  }\n}\n","import {AfterContentInit, Component, ContentChildren, EventEmitter, OnInit, Output, QueryList} from '@angular/core';\nimport {TaminWizardItemComponent} from './tamin-wizard-item/tamin-wizard-item.component';\n\n@Component({\n  selector: 'tamin-wizard',\n  templateUrl: './tamin-wizard.component.html',\n  styleUrls: ['./tamin-wizard.component.scss']\n})\nexport class TaminWizardComponent implements OnInit, AfterContentInit {\n  @ContentChildren(TaminWizardItemComponent) items: QueryList<TaminWizardItemComponent>;\n  private _current: number;\n  @Output() stepChanging = new EventEmitter<WizardNavigationData>();\n  @Output() stepChanged = new EventEmitter<WizardNavigationData>();\n\n  constructor() {\n  }\n\n  get currentItem(): TaminWizardItemComponent {\n    return this.items.toArray()[this._current];\n  }\n\n  get nextItem(): TaminWizardItemComponent {\n    if (this._current < this.items.length) {\n      return this.items.toArray()[this._current + 1];\n    }\n    return null;\n  }\n\n  get prevItem(): TaminWizardItemComponent {\n    if (this._current > 0) {\n      return this.items.toArray()[this._current - 1];\n    }\n    return null;\n  }\n\n  ngOnInit() {\n  }\n\n  ngAfterContentInit(): void {\n    if (this.items.length > 0) {\n      this._current = 0;\n      this.refresh();\n    }\n  }\n\n\n  onNextStep() {\n    if (this.items.length > 0 && this.items.length > this._current) {\n      if (this.stepChanging) {\n        this.stepChanging.emit(new WizardNavigationData(this._current, 'forward'));\n      } else {\n        this.setNext();\n        this.refresh();\n        this.stepChanged.emit(new WizardNavigationData(this._current, 'forward'));\n      }\n    }\n  }\n\n  onPrevStep() {\n    if (this.items.length > 0 && this._current > 0) {\n      if (this.stepChanging) {\n        this.stepChanging.emit(new WizardNavigationData(this._current, 'backward'));\n      } else {\n        this.setPrev();\n        this.refresh();\n        this.stepChanged.emit(new WizardNavigationData(this._current, 'backward'));\n      }\n    }\n  }\n\n  setNext() {\n    if (this.items.length > 0 && this.items.length > this._current) {\n      ++this._current;\n    }\n  }\n\n  setPrev() {\n    if (this.items.length > 0 && this._current > 0) {\n      --this._current;\n    }\n  }\n\n  setStep(step: number) {\n    if (this.items.length > 0 && step > 0 && step < this.items.length) {\n      this._current = step;\n    }\n  }\n\n  public refresh() {\n    this.items.forEach((item, index) => {\n      if (item.visible) {\n        item.hide();\n      }\n      if (this._current === index) {\n        item.show();\n      }\n    });\n  }\n}\n\n\nexport class WizardNavigationData {\n  constructor(currentStep: number, direction: 'forward' | 'backward') {\n    this.currentStep = currentStep;\n    this.direction = direction;\n  }\n\n  currentStep: number;\n  direction: 'forward' | 'backward';\n}\n","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'tamin-menu-button',\n  templateUrl: './tamin-menu-button.component.html',\n  styleUrls: ['./tamin-menu-button.component.scss']\n})\nexport class TaminMenuButtonComponent implements OnInit {\n  menuId: string;\n  @Input() menuTitle: string;\n  checkable: 'none';\n  menuItems: Array<MenuItem> = [];\n  expanded = 'false';\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    this.menuId = 'id_' + new Date().getTime().toString();\n  }\n\n  onMenuClicked(name: string) {\n\n  }\n\n  onButtonClicked() {\n    this.expanded = this.expanded === 'false' ? 'true' : 'false';\n  }\n}\n\n\nexport class MenuItem {\n  title: string;\n  disabled: boolean;\n  name: string;\n\n  constructor(title: string, disabled: boolean, name: string) {\n    this.title = title;\n    this.disabled = disabled;\n    this.name = name;\n  }\n}\n","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'tamin-process-indicator',\n  templateUrl: './tamin-process-indicator.component.html',\n  styleUrls: ['./tamin-process-indicator.component.scss']\n})\nexport class TaminProcessIndicatorComponent implements OnInit {\n\n  @Input() steps: Array<string> = [];\n  @Input() currentStep = 0;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n}\n","import {Component, ElementRef, forwardRef, Input, ViewChild} from '@angular/core';\nimport {NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\nimport {fromEvent} from 'rxjs';\n\n@Component({\n  selector: 'tamin-field-password',\n  templateUrl: './tamin-field-password.component.html',\n  styleUrls: ['./tamin-field-password.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldPasswordComponent),\n      multi: true\n    }\n  ]\n})\nexport class TaminFieldPasswordComponent extends FieldBaseComponent {\n\n  // @ViewChild('score') score: ElementRef;\n  // @ViewChild('scorebar') scorebar: ElementRef;\n  // @ViewChild('complexity') complexity: ElementRef;\n  @ViewChild('meter') meter: ElementRef;\n  @ViewChild('meterContainer') meterContainer: ElementRef;\n  @Input() showPasswordMeter = false;\n  color: string;\n  complexity = '';\n  score = '';\n\n  initializeComponent() {\n    setTimeout(() => {\n      const keyups = fromEvent(this.inputElement.nativeElement, 'keyup');\n      this.subscription.add(keyups.subscribe((evt: any) => {\n        if (this.showPasswordMeter) {\n          this.checkPassword(evt.target.value);\n        }\n      }));\n    }, 0);\n  }\n\n  checkPassword(pwd: string) {\n    this.color = 'white';\n    this.complexity = '';\n    this.score = '';\n    if (pwd.trim().length === 0) {\n      return;\n    }\n    let nScore = 0,\n      nLength = 0,\n      nAlphaUC = 0,\n      nAlphaLC = 0,\n      nNumber = 0,\n      nSymbol = 0,\n      nMidChar = 0,\n      nRequirements = 0,\n      nAlphasOnly = 0,\n      nNumbersOnly = 0,\n      nUnqChar = 0,\n      nRepChar = 0,\n      nRepInc = 0,\n      nConsecAlphaUC = 0,\n      nConsecAlphaLC = 0,\n      nConsecNumber = 0,\n      nConsecSymbol = 0,\n      nConsecCharType = 0,\n      nSeqAlpha = 0,\n      nSeqNumber = 0,\n      nSeqSymbol = 0,\n      nSeqChar = 0,\n      nReqChar = 0;\n    // nMultConsecCharType = 0;\n    // const nMultRepChar = 1, nMultConsecSymbol = 1;\n    const nMultMidChar = 2,\n      /*nMultRequirements = 2,*/\n      nMultConsecAlphaUC = 2,\n      nMultConsecAlphaLC = 2,\n      nMultConsecNumber = 2;\n    const nReqCharType = 3,\n      /*nMultAlphaUC = 3,*/\n      /*nMultAlphaLC = 3,*/\n      nMultSeqAlpha = 3,\n      nMultSeqNumber = 3,\n      nMultSeqSymbol = 3;\n    const nMultLength = 4,\n      nMultNumber = 4;\n    const nMultSymbol = 6;\n    let nTmpAlphaUC = '',\n      nTmpAlphaLC = '',\n      nTmpNumber = '', nTmpSymbol = '';\n    let sAlphaUC = '0',\n      sAlphaLC = '0',\n      sNumber = '0',\n      sSymbol = '0',\n      sMidChar = '0',\n      // sRequirements = '0',\n      sAlphasOnly = '0',\n      sNumbersOnly = '0',\n      sRepChar = '0',\n      sConsecAlphaUC = '0',\n      sConsecAlphaLC = '0',\n      sConsecNumber = '0',\n      sSeqAlpha = '0',\n      sSeqNumber = '0',\n      sSeqSymbol = '0';\n    const sAlphas = 'abcdefghijklmnopqrstuvwxyz';\n    const sNumerics = '01234567890';\n    const sSymbols = ')!@#$%^&*()';\n    /*let sComplexity = '';*/\n    const sStandards = 'Below';\n    const nMinPwdLen = 8;\n    if (document.all) {\n      const nd = 0;\n    } else {\n      const nd = 1;\n    }\n    if (pwd) {\n      nScore = Number(pwd.length * nMultLength);\n      nLength = pwd.length;\n      const arrPwd = pwd.replace(/\\s+/g, '').split(/\\s*/);\n      const arrPwdLen = arrPwd.length;\n\n      for (let a = 0; a < arrPwdLen; a++) {\n        if (arrPwd[a].match(/[A-Z]/g)) {\n          if (nTmpAlphaUC !== '') {\n            if (Number(nTmpAlphaUC + 1) === a) {\n              nConsecAlphaUC++;\n              nConsecCharType++;\n            }\n          }\n          nTmpAlphaUC = a.toString();\n          nAlphaUC++;\n        } else if (arrPwd[a].match(/[a-z]/g)) {\n          if (nTmpAlphaLC !== '') {\n            if (Number(nTmpAlphaLC + 1) === a) {\n              nConsecAlphaLC++;\n              nConsecCharType++;\n            }\n          }\n          nTmpAlphaLC = a.toString();\n          nAlphaLC++;\n        } else if (arrPwd[a].match(/[0-9]/g)) {\n          if (a > 0 && a < (arrPwdLen - 1)) {\n            nMidChar++;\n          }\n          if (nTmpNumber !== '') {\n            if (Number(nTmpNumber + 1) === a) {\n              nConsecNumber++;\n              nConsecCharType++;\n            }\n          }\n          nTmpNumber = a.toString();\n          nNumber++;\n        } else if (arrPwd[a].match(/[^a-zA-Z0-9_]/g)) {\n          if (a > 0 && a < (arrPwdLen - 1)) {\n            nMidChar++;\n          }\n          if (nTmpSymbol !== '') {\n            if (Number(nTmpSymbol + 1) === a) {\n              nConsecSymbol++;\n              nConsecCharType++;\n            }\n          }\n          nTmpSymbol = a.toString();\n          nSymbol++;\n        }\n        let bCharExists = false;\n        for (let b = 0; b < arrPwdLen; b++) {\n          if (arrPwd[a] === arrPwd[b] && a !== b) { /* repeat character exists */\n            bCharExists = true;\n            nRepInc += Math.abs(arrPwdLen / (b - a));\n          }\n        }\n        if (bCharExists) {\n          nRepChar++;\n          nUnqChar = arrPwdLen - nRepChar;\n          nRepInc = (nUnqChar) ? Math.ceil(nRepInc / nUnqChar) : Math.ceil(nRepInc);\n        }\n      }\n\n      /* Check for sequential alpha string patterns (forward and reverse) */\n      for (let s = 0; s < 23; s++) {\n        const sFwd = sAlphas.substring(s, Number(s + 3));\n        const sRev = this.strReverse(sFwd);\n        if (pwd.toLowerCase().indexOf(sFwd) !== -1 || pwd.toLowerCase().indexOf(sRev) !== -1) {\n          nSeqAlpha++;\n          nSeqChar++;\n        }\n      }\n\n      for (let s = 0; s < 8; s++) {\n        const sFwd = sNumerics.substring(s, Number(s + 3));\n        const sRev = this.strReverse(sFwd);\n        if (pwd.toLowerCase().indexOf(sFwd) !== -1 || pwd.toLowerCase().indexOf(sRev) !== -1) {\n          nSeqNumber++;\n          nSeqChar++;\n        }\n      }\n\n      for (let s = 0; s < 8; s++) {\n        const sFwd = sSymbols.substring(s, Number(s + 3));\n        const sRev = this.strReverse(sFwd);\n        if (pwd.toLowerCase().indexOf(sFwd) !== -1 || pwd.toLowerCase().indexOf(sRev) !== -1) {\n          nSeqSymbol++;\n          nSeqChar++;\n        }\n      }\n\n      if (nAlphaUC > 0 && nAlphaUC < nLength) {\n        nScore = Number(nScore + ((nLength - nAlphaUC) * 2));\n        sAlphaUC = '+ ' + Number((nLength - nAlphaUC) * 2);\n      }\n      if (nAlphaLC > 0 && nAlphaLC < nLength) {\n        nScore = Number(nScore + ((nLength - nAlphaLC) * 2));\n        sAlphaLC = '+ ' + Number((nLength - nAlphaLC) * 2);\n      }\n      if (nNumber > 0 && nNumber < nLength) {\n        nScore = Number(nScore + (nNumber * nMultNumber));\n        sNumber = '+ ' + Number(nNumber * nMultNumber);\n      }\n      if (nSymbol > 0) {\n        nScore = Number(nScore + (nSymbol * nMultSymbol));\n        sSymbol = '+ ' + Number(nSymbol * nMultSymbol);\n      }\n      if (nMidChar > 0) {\n        nScore = Number(nScore + (nMidChar * nMultMidChar));\n        sMidChar = '+ ' + Number(nMidChar * nMultMidChar);\n      }\n\n      if ((nAlphaLC > 0 || nAlphaUC > 0) && nSymbol === 0 && nNumber === 0) {  // Only Letters\n        nScore = Number(nScore - nLength);\n        nAlphasOnly = nLength;\n        sAlphasOnly = '- ' + nLength;\n      }\n      if (nAlphaLC === 0 && nAlphaUC === 0 && nSymbol === 0 && nNumber > 0) {  // Only Numbers\n        nScore = Number(nScore - nLength);\n        nNumbersOnly = nLength;\n        sNumbersOnly = '- ' + nLength;\n      }\n      if (nRepChar > 0) {  // Same character exists more than once\n        nScore = Number(nScore - nRepInc);\n        sRepChar = '- ' + nRepInc;\n      }\n      if (nConsecAlphaUC > 0) {  // Consecutive Uppercase Letters exist\n        nScore = Number(nScore - (nConsecAlphaUC * nMultConsecAlphaUC));\n        sConsecAlphaUC = '- ' + Number(nConsecAlphaUC * nMultConsecAlphaUC);\n      }\n      if (nConsecAlphaLC > 0) {  // Consecutive Lowercase Letters exist\n        nScore = Number(nScore - (nConsecAlphaLC * nMultConsecAlphaLC));\n        sConsecAlphaLC = '- ' + Number(nConsecAlphaLC * nMultConsecAlphaLC);\n      }\n      if (nConsecNumber > 0) {  // Consecutive Numbers exist\n        nScore = Number(nScore - (nConsecNumber * nMultConsecNumber));\n        sConsecNumber = '- ' + Number(nConsecNumber * nMultConsecNumber);\n      }\n      if (nSeqAlpha > 0) {  // Sequential alpha strings exist (3 characters or more)\n        nScore = Number(nScore - (nSeqAlpha * nMultSeqAlpha));\n        sSeqAlpha = '- ' + Number(nSeqAlpha * nMultSeqAlpha);\n      }\n      if (nSeqNumber > 0) {  // Sequential numeric strings exist (3 characters or more)\n        nScore = Number(nScore - (nSeqNumber * nMultSeqNumber));\n        sSeqNumber = '- ' + Number(nSeqNumber * nMultSeqNumber);\n      }\n      if (nSeqSymbol > 0) {  // Sequential symbol strings exist (3 characters or more)\n        nScore = Number(nScore - (nSeqSymbol * nMultSeqSymbol));\n        sSeqSymbol = '- ' + Number(nSeqSymbol * nMultSeqSymbol);\n      }\n\n      let arrChars = [nLength, nAlphaUC, nAlphaLC, nNumber, nSymbol];\n      let arrCharsIds = ['nLength', 'nAlphaUC', 'nAlphaLC', 'nNumber', 'nSymbol'];\n      let arrCharsLen = arrChars.length;\n      let minVal;\n      for (let c = 0; c < arrCharsLen; c++) {\n        // let oImg = $('div_' + arrCharsIds[c]);\n        // let oBonus = $(arrCharsIds[c] + 'Bonus');\n        // $(arrCharsIds[c]).innerHTML = arrChars[c];\n        if (arrCharsIds[c] === 'nLength') {\n          minVal = Number(nMinPwdLen - 1);\n        } else {\n          minVal = 0;\n        }\n        if (arrChars[c] === Number(minVal + 1)) {\n          nReqChar++;\n        } else if (arrChars[c] > Number(minVal + 1)) {\n          nReqChar++;\n        }\n      }\n      nRequirements = nReqChar;\n      let nMinReqChars;\n      if (pwd.length >= nMinPwdLen) {\n        nMinReqChars = 3;\n      } else {\n        nMinReqChars = 4;\n      }\n      if (nRequirements > nMinReqChars) {  // One or more required characters exist\n        nScore = Number(nScore + (nRequirements * 2));\n      }\n\n      arrChars = [nMidChar, nRequirements];\n      arrCharsIds = ['nMidChar', 'nRequirements'];\n      arrCharsLen = arrChars.length;\n      for (let c = 0; c < arrCharsLen; c++) {\n        if (arrCharsIds[c] === 'nRequirements') {\n          minVal = nMinReqChars;\n        } else {\n          minVal = 0;\n        }\n      }\n\n      arrChars = [nAlphasOnly, nNumbersOnly, nRepChar, nConsecAlphaUC, nConsecAlphaLC, nConsecNumber, nSeqAlpha, nSeqNumber, nSeqSymbol];\n      arrCharsIds = ['nAlphasOnly', 'nNumbersOnly', 'nRepChar', 'nConsecAlphaUC', 'nConsecAlphaLC', 'nConsecNumber', 'nSeqAlpha', 'nSeqNumber', 'nSeqSymbol'];\n      arrCharsLen = arrChars.length;\n      for (let c = 0; c < arrCharsLen; c++) {\n        // const oImg = $('div_' + arrCharsIds[c]);\n        // const oBonus = $(arrCharsIds[c] + 'Bonus');\n        // $(arrCharsIds[c]).innerHTML = arrChars[c];\n        if (arrChars[c] > 0) {\n          // oImg.className = 'warn';\n          // oBonus.parentNode.className = 'warn';\n        } else {\n          // oImg.className = 'pass';\n          // oBonus.parentNode.className = 'pass';\n        }\n      }\n\n      if (nScore > 100) {\n        nScore = 100;\n      } else if (nScore < 0) {\n        nScore = 0;\n      }\n      if (nScore >= 0 && nScore < 20) {\n        this.complexity = ' ';\n        this.meter.nativeElement.style.width = nScore + '%';\n        this.color = 'darkred';\n      } else if (nScore >= 20 && nScore < 40) {\n        this.meter.nativeElement.style.width = nScore + '%';\n        this.color = 'red';\n        this.complexity = '';\n      } else if (nScore >= 40 && nScore < 60) {\n        this.meter.nativeElement.style.width = nScore + '%';\n        this.color = 'greenyellow';\n        this.complexity = '';\n      } else if (nScore >= 60 && nScore < 80) {\n        this.meter.nativeElement.style.width = nScore + '%';\n        this.color = 'lightgreen';\n        this.complexity = '';\n      } else if (nScore >= 80 && nScore <= 100) {\n        this.meter.nativeElement.style.width = nScore + '%';\n        this.color = 'green';\n        this.complexity = ' ';\n      }\n\n      this.score = nScore.toString();\n      this.meter.nativeElement.style.width = nScore + '%';\n      // oScore.innerHTML  = nScore + '%';\n      // oComplexity.innerHTML = sComplexity;\n    } else {\n      this.score = nScore.toString() + '%';\n      // this.initPwdChk();\n      // oScore.innerHTML = nScore + '%';\n      // oComplexity.innerHTML = sComplexity;\n    }\n  }\n\n  strReverse(str) {\n    let newstring = '';\n    for (let s = 0; s < str.length; s++) {\n      newstring = str.charAt(s) + newstring;\n    }\n    return newstring;\n  }\n\n  // initPwdChk() {\n  // this.scorebar.nativeElement.style.backgroundPosition = '0';\n  // }\n}\n","import {Component, forwardRef, Input} from '@angular/core';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\nimport {NG_VALUE_ACCESSOR} from '@angular/forms';\n\n@Component({\n  selector: 'tamin-field-text-area',\n  templateUrl: './tamin-field-text-area.component.html',\n  styleUrls: ['./tamin-field-text-area.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldTextAreaComponent),\n      multi: true\n    }\n  ]\n\n})\nexport class TaminFieldTextAreaComponent extends FieldBaseComponent {\n\n  @Input() rows = 4;\n  @Input() cols = 50;\n  initializeComponent() {\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport * as momentNs from 'jalali-moment';\n\nconst moment = momentNs;\n\n@Pipe({\n  name: 'persianDateTime'\n})\nexport class PersianDateTimePipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    if (value === null || value === undefined) {\n      return null;\n    }\n    const date = new Date(value);\n    const tmp = moment.from(date.toLocaleDateString(), 'en');\n    if (tmp.isValid()) {\n      return tmp.locale('fa').format('YYYY/MM/DD');\n    }\n    return null;\n  }\n}\n","import {\r\n  AfterContentChecked,\r\n  AfterViewInit,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Injector,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit\r\n} from '@angular/core';\r\nimport {OverlayService} from '../services/overlay/overlay.service';\r\nimport {TaminRestService} from '../services/tamin-rest-service/tamin-rest.service';\r\nimport {TaminSecurityService} from '../services/tamin-security/tamin-security.service';\r\nimport {PersianDateTimePipe} from '../pipes/persian-date-time.pipe';\r\nimport {PersianNumberPipe} from '../pipes/persian-number.pipe';\r\nimport {Router} from '@angular/router';\r\nimport {FormBuilder, FormGroup} from '@angular/forms';\r\nimport {ConstantsService} from '../services/constants.service';\r\n\r\ndeclare var alertify: any;\r\n\r\ndeclare let introJs: any;\r\n\r\n@Component({\r\n  selector: 'tamin-page-base-component',\r\n  template: '',\r\n})\r\nexport class TaminPageBaseComponent implements OnInit, OnDestroy, AfterViewInit, AfterContentChecked {\r\n  private _title: string;\r\n  private overlays = [];\r\n  private _overlayService: OverlayService;\r\n  private _restService: TaminRestService;\r\n  private _securityService: TaminSecurityService;\r\n  private _persianDateTime: PersianDateTimePipe;\r\n  private _persianNumberPipe: PersianNumberPipe;\r\n  private _router: Router;\r\n  private _constants: ConstantsService;\r\n  private _formBuilder: FormBuilder;\r\n  private _host: ElementRef;\r\n  private _changeDetectorRef: ChangeDetectorRef;\r\n  @Input() isModal = false;\r\n\r\n  @Input() set visible(val: boolean) {\r\n    this._host.nativeElement.style.display = val ? 'block' : 'none';\r\n  }\r\n\r\n  constructor(private injector: Injector) {\r\n    this._overlayService = injector.get(OverlayService);\r\n    this._restService = injector.get(TaminRestService);\r\n    this._securityService = injector.get(TaminSecurityService);\r\n    this._persianDateTime = injector.get(PersianDateTimePipe);\r\n    this._persianNumberPipe = injector.get(PersianNumberPipe);\r\n    this._router = injector.get(Router);\r\n    this._formBuilder = injector.get(FormBuilder);\r\n    this._host = injector.get(ElementRef);\r\n    this._changeDetectorRef = injector.get(ChangeDetectorRef);\r\n    this._constants = injector.get(ConstantsService);\r\n  }\r\n\r\n  ngOnInit() {\r\n    window.scrollTo(0, 0);\r\n    this.internalInitialize();\r\n    this.initializePage();\r\n  }\r\n\r\n  set title(val: string) {\r\n    this._title = val;\r\n    document.title = '  ' + ' - ' + this._title;\r\n  }\r\n\r\n  get title(): string {\r\n    return this._title;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.overlays.forEach((item: any) => {\r\n      this._overlayService.hide(item.overlay);\r\n    });\r\n    this.destroyPage();\r\n    alertify.closeAll();\r\n  }\r\n\r\n  get restService(): TaminRestService {\r\n    return this._restService;\r\n  }\r\n\r\n  get constants(): ConstantsService {\r\n    return this._constants;\r\n  }\r\n\r\n  get formBuilder(): FormBuilder {\r\n    return this._formBuilder;\r\n  }\r\n\r\n  // get currentUser(): any {\r\n  //   return this._securityService.currentUser;\r\n  // }\r\n\r\n  get changeDetectorRef(): ChangeDetectorRef {\r\n    return this._changeDetectorRef;\r\n  }\r\n\r\n  get securityService(): TaminSecurityService {\r\n    return this._securityService;\r\n  }\r\n\r\n  getPersianDate(date: any): string {\r\n    try {\r\n      return this._persianDateTime.transform(new Date(date));\r\n    } catch {\r\n      return ' ';\r\n    }\r\n  }\r\n\r\n  redirectTo(path) {\r\n    this._router.navigate([path]);\r\n  }\r\n\r\n  showInfoMessageBox(title: string, message: string, callback: Function = null) {\r\n    if (callback) {\r\n      alertify.alert(title, message, callback);\r\n    } else {\r\n      alertify.alert(title, message);\r\n    }\r\n  }\r\n\r\n  showErrorMessageBox(title: string, message: string, callback: Function = null) {\r\n    const theTitle = `<span style=\"color: red\">${title}</span>`;\r\n    if (callback) {\r\n      alertify.alert(theTitle, message, callback);\r\n    } else {\r\n      alertify.alert(theTitle, message);\r\n    }\r\n  }\r\n\r\n  showQuestionBox(title: string, message: string, yesCallback: Function, noCallback: Function) {\r\n    alertify.confirm(title, message, yesCallback, noCallback)\r\n      .set({\r\n        labels: {ok: '', cancel: ''}\r\n      });\r\n  }\r\n\r\n  showRetryBox(title: string, message: string, retryCallback: Function, cancelCallback: Function) {\r\n    alertify.confirm(title, message, retryCallback, cancelCallback)\r\n      .set({\r\n        labels: {ok: ' ', cancel: ''},\r\n        'closable': false\r\n      });\r\n  }\r\n\r\n  getPersianNumber(str: string): string {\r\n    return this._persianNumberPipe.transform(str);\r\n  }\r\n\r\n  protected initializePage() {\r\n  }\r\n\r\n  protected destroyPage() {\r\n  }\r\n\r\n  showOverlay(element: any = null): string {\r\n    if (this.overlays.findIndex(c => c.overlay === element) >= 0) {\r\n      return;\r\n    }\r\n    const overlay = this._overlayService.show(element);\r\n    const id = (new Date()).getTime();\r\n    this.overlays.push({\r\n      overlay: overlay,\r\n      id: id.toString()\r\n    });\r\n    return id.toString();\r\n  }\r\n\r\n  showOverlayWithMessage(message: string, element: any = null): string {\r\n    if (this.overlays.findIndex(c => c.overlay === element) >= 0) {\r\n      return;\r\n    }\r\n    const overlay = this._overlayService.showMessage(message, element);\r\n    const id = (new Date()).getTime();\r\n    this.overlays.push({\r\n      overlay: overlay,\r\n      id: id.toString()\r\n    });\r\n    return id.toString();\r\n  }\r\n\r\n  hideOverlay(id: string) {\r\n    const tmp = this.overlays.find(c => c.id === id);\r\n    if (tmp) {\r\n      this._overlayService.hide(tmp.overlay);\r\n    }\r\n    const index = this.overlays.findIndex(c => c.id === id);\r\n    this.overlays.splice(index, 1);\r\n  }\r\n\r\n  private internalInitialize() {\r\n  }\r\n\r\n  protected loadPageData() {\r\n  }\r\n\r\n  onTour() {\r\n    introJs().setOptions(\r\n      {\r\n        'nextLabel': '',\r\n        'prevLabel': '',\r\n        'skipLabel': '',\r\n        'doneLabel': ''\r\n      }).start();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    setTimeout(() => this.loadPageData(), 0);\r\n  }\r\n\r\n  openModal(): any {\r\n  }\r\n\r\n  markFormGroupAsTouched(form: FormGroup) {\r\n    (<any>Object).values(form.controls).forEach(control => control.markAsTouched());\r\n  }\r\n\r\n  ngAfterContentChecked(): void {\r\n    this._changeDetectorRef.detectChanges();\r\n  }\r\n}\r\n","import {AfterViewInit, ChangeDetectionStrategy, Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {PickerContainerComponent} from '../../containers/picker-container/picker-container.component';\n\n@Component({\n  selector: 'tamin-data-grid-action-menu',\n  templateUrl: './tamin-data-grid-action-menu.component.html',\n  styleUrls: ['./tamin-data-grid-action-menu.component.scss'],\n})\nexport class TaminDataGridActionMenuComponent implements OnInit, AfterViewInit {\n\n  @ViewChild('dropdown') dropdown: ElementRef;\n  @ViewChild('picker') picker: PickerContainerComponent;\n  @Input() actionColumns = [];\n  @Input() dataItem: any;\n  @Output() menuItemClicked = new EventEmitter<any>();\n  @Output() dropdownClicked = new EventEmitter<any>();\n\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    // this.picker.parent = this.dropdown;\n    // this.picker.parent = new ElementRef(this.dropdown.nativeElement.parentNode);\n  }\n\n  theMenuItemClicked(actionColumn: any) {\n    this.picker.toggle();\n    const item = this.dataItem;\n    this.menuItemClicked.emit({actionColumn, item});\n  }\n\n  dropdownClickedHandler() {\n    this.picker.toggle();\n    this.dropdownClicked.emit();\n  }\n\n  ngAfterViewInit(): void {\n    this.picker.parent = new ElementRef(this.dropdown.nativeElement.parentNode);\n  }\n}\n","import {ChangeDetectorRef, Component, ElementRef, EventEmitter, HostListener, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport PopperJs, {Placement} from 'popper.js';\n\n@Component({\n  selector: 'tamin-picker-container',\n  templateUrl: './picker-container.component.html',\n  styleUrls: ['./picker-container.component.scss']\n})\nexport class PickerContainerComponent implements OnInit {\n\n  @Input() shown: boolean;\n  @Input() parent: ElementRef;\n  @Input() button: ElementRef;\n  @Input() adjustWidth = true;\n  @Input() placement = 'bottom-end';\n  @Input() padding = '5px';\n  @Output() berforeHide = new EventEmitter<void>();\n  @Output() afterHide = new EventEmitter<void>();\n  @Output() berforeShow = new EventEmitter<void>();\n  @Output() afterShow = new EventEmitter<void>();\n  @ViewChild('picker') picker: ElementRef;\n  private _thePopper: PopperJs;\n\n  constructor(private changeDetectorRef: ChangeDetectorRef) {\n  }\n\n  toggle() {\n    if (this.shown) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  show() {\n    this.berforeShow.emit();\n    this.shown = true;\n    this.changeDetectorRef.detectChanges();\n    if (this.adjustWidth) {\n      this.picker.nativeElement.style.width = this.parent.nativeElement.getBoundingClientRect().width - 3 + 'px';\n    }\n    if (this._thePopper) {\n      this._thePopper = null;\n    }\n    this._thePopper = new PopperJs(this.parent.nativeElement, this.picker.nativeElement, {\n      placement: <Placement>this.placement,\n    });\n    this.afterShow.emit();\n  }\n\n  hide() {\n    this.berforeHide.emit();\n    this.shown = false;\n    this.afterHide.emit();\n  }\n\n  ngOnInit() {\n  }\n\n  update() {\n    if (this.shown) {\n      this._thePopper.scheduleUpdate();\n    }\n  }\n\n  @HostListener('document:click', ['$event'])\n  @HostListener('document:keyup', ['$event'])\n  documentEventHandler(event) {\n    if (this.shown) {\n      if (event.code === 'Tab' || event.code === 'Escape') {\n        this.toggle();\n      }\n\n      let shouldHidePicker = !this.picker.nativeElement.contains(event.target);\n      shouldHidePicker = shouldHidePicker && !this.parent.nativeElement.contains(event.target);\n      if (this.button) {\n        shouldHidePicker = shouldHidePicker && !this.button.nativeElement.contains(event.target);\n      }\n\n      if (shouldHidePicker) {\n        this.hide();\n      }\n    }\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'callback'\n})\nexport class CallbackPipe implements PipeTransform {\n\n  transform(items: any[], callback: (item: any) => boolean): any {\n    if (!items || !callback) {\n      return items;\n    }\n    return items.filter(item => callback(item));\n  }\n}\n","import {Component, Input, isDevMode, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'tamin-ribbon',\n  templateUrl: './ribbon.component.html',\n  styleUrls: ['./ribbon.component.scss']\n})\nexport class RibbonComponent implements OnInit {\n\n  @Input() color: 'default' | 'red' | 'blue' = 'default';\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n  devMode() {\n    return isDevMode() || !window.hasOwnProperty('cordova');\n  }\n\n  mobileMode() {\n    return window.hasOwnProperty('cordova');\n  }\n}\n","import {Component, forwardRef, Input, OnInit} from '@angular/core';\nimport {NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\ndeclare let IMask: any;\n\n@Component({\n  selector: 'tamin-field-persian-text',\n  templateUrl: './tamin-field-persian-text.component.html',\n  styleUrls: ['./tamin-field-persian-text.component.css'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldPersianTextComponent),\n      multi: true\n    }\n  ]\n\n})\nexport class TaminFieldPersianTextComponent  extends FieldBaseComponent {\n\n  @Input() maxLength = Number.MAX_SAFE_INTEGER;\n  initializeComponent() {\n    this.maskRef = new IMask(this.inputElement.nativeElement, {\n      mask: /^[\\u0600-\\u06FF\\s]+$/,\n    });\n  }\n\n\n}\n","import {ChangeDetectorRef, Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {PdfViewerComponent} from './pdf-viewer/pdf-viewer.component';\nimport {ChangeDetection} from '@angular/cli/lib/config/schema';\nimport {ImageViewerComponent} from './image-viewer/image-viewer.component';\n\n@Component({\n  selector: 'tamin-document-viewer',\n  templateUrl: './tamin-document-viewer.component.html',\n  styleUrls: ['./tamin-document-viewer.component.scss']\n})\nexport class TaminDocumentViewerComponent implements OnInit {\n  @ViewChild('pdfViewer') pdfViewer: PdfViewerComponent;\n  @ViewChild('imageViewer') imageViewer: ImageViewerComponent;\n  @Input() width = '100%';\n  @Input() height = '600px';\n  @Input() pdfJsPath = 'assets/pdfjs';\n\n  viewerType: 'pdf' | 'image';\n\n  constructor(private changeDetectorRef: ChangeDetectorRef) {\n  }\n\n  ngOnInit() {\n  }\n\n  loadPdf(url: string) {\n    this.viewerType = 'pdf';\n    this.changeDetectorRef.detectChanges();\n    this.pdfViewer.open(url);\n  }\n\n  loadPdfBased64(url: string) {\n    this.viewerType = 'pdf';\n    this.changeDetectorRef.detectChanges();\n    this.pdfViewer.openBased64(url);\n  }\n\n  loadImage(url: string) {\n    this.viewerType = 'image';\n    this.changeDetectorRef.detectChanges();\n    this.imageViewer.open(url);\n  }\n}\n","import {Component, ElementRef, Input, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {TaminLazyLoadService} from '../../../services/tamin-lazy-load/tamin-lazy-load.service';\nimport {Subscription} from 'rxjs';\n\ndeclare let Viewer: any;\n\n@Component({\n  selector: 'tamin-image-viewer',\n  templateUrl: './image-viewer.component.html',\n  styleUrls: ['./image-viewer.component.css']\n})\nexport class ImageViewerComponent implements OnInit, OnDestroy {\n\n  @ViewChild('img') img: ElementRef;\n  @Input() width = '100%';\n  @Input() height = '300px';\n\n  private subscription = new Subscription();\n\n  constructor(private taminLazyLoadService: TaminLazyLoadService) {\n  }\n\n  ngOnInit() {\n  }\n\n  open(url: string) {\n    this.subscription.add(this.taminLazyLoadService.loadJs('assets/viewerjs/dist/viewer.js').subscribe(value => {\n        this.subscription.add(\n          this.taminLazyLoadService.loadCss('assets/viewerjs/dist/viewer.css').subscribe(value1 => {\n            this.img.nativeElement.src = url;\n            const viewer = new Viewer(this.img.nativeElement, {\n              inline: false,\n              viewed() {\n                viewer.zoomTo(1);\n              },\n            });\n          })\n        );\n      })\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n}\n","import {Component, ElementRef, Input, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {TaminLazyLoadService} from '../../../services/tamin-lazy-load/tamin-lazy-load.service';\nimport {Subscription} from 'rxjs';\nimport {DomSanitizer} from '@angular/platform-browser';\n\ndeclare let PDFViewerApplication: any;\n\n@Component({\n  selector: 'tamin-pdf-viewer2',\n  templateUrl: './pdf-viewer.component.html',\n  styleUrls: ['./pdf-viewer.component.scss']\n})\nexport class PdfViewerComponent implements OnInit, OnDestroy {\n\n  @ViewChild('iframe') iframe: ElementRef;\n\n  @Input() width: string;\n  @Input() height: string;\n\n  private baseUrl = 'assets/pdfjs/viewer.html';\n  // viewerUrl: any;\n\n  private subscription = new Subscription();\n\n  constructor(private taminLazyLoadService: TaminLazyLoadService, private domSanitizer: DomSanitizer) {\n\n  }\n\n  ngOnDestroy(): void {\n  }\n\n  ngOnInit(): void {\n  }\n\n\n  based64toBlob(b64Data, contentType, sliceSize = 512) {\n    contentType = contentType || '';\n    sliceSize = sliceSize || 512;\n    const byteCharacters = atob(b64Data);\n    const byteArrays = [];\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n      const slice = byteCharacters.slice(offset, offset + sliceSize);\n      const byteNumbers = new Array(slice.length);\n      for (let i = 0; i < slice.length; i++) {\n        byteNumbers[i] = slice.charCodeAt(i);\n      }\n      const byteArray = new Uint8Array(byteNumbers);\n      byteArrays.push(byteArray);\n    }\n    return new Blob(byteArrays, {type: contentType});\n  }\n\n  openBased64(data) {\n    const tmp = URL.createObjectURL(this.based64toBlob(data, 'application/pdf'));\n    this.open(tmp);\n  }\n\n  open(url: string): void {\n    this.iframe.nativeElement.src = `${this.baseUrl}?file=${url}`;\n  }\n}\n","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {TaminDocumentViewerComponent} from '../tamin-document-viewer.component';\nimport {TaminModalComponent} from '../../tamin-modal/tamin-modal.component';\n\n@Component({\n  selector: 'tamin-document-viewer-modal',\n  templateUrl: './tamin-document-viewer-modal.component.html',\n  styleUrls: ['./tamin-document-viewer-modal.component.css']\n})\nexport class TaminDocumentViewerModalComponent implements OnInit {\n\n  @ViewChild('documentViewer') documentViewer: TaminDocumentViewerComponent;\n  @ViewChild('theModal') theModal: TaminModalComponent;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  openImage(url) {\n    this.theModal.show();\n    this.documentViewer.loadImage(url);\n  }\n\n  openPdf(url) {\n    this.theModal.show();\n    this.documentViewer.loadPdf(url);\n  }\n  openPdfBased64(url) {\n    this.theModal.show();\n    this.documentViewer.loadPdfBased64(url);\n  }\n}\n","export class Guid {\r\n\r\n  public static validator = new RegExp('^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$', 'i');\r\n\r\n  public static EMPTY = '00000000-0000-0000-0000-000000000000';\r\n\r\n  private value: string;\r\n\r\n  public static isGuid(guid: any) {\r\n    const value: string = guid.toString();\r\n    return guid && (guid instanceof Guid || Guid.validator.test(value));\r\n  }\r\n\r\n  public static create(): Guid {\r\n    return new Guid([Guid.gen(2), Guid.gen(1), Guid.gen(1), Guid.gen(1), Guid.gen(3)].join('-'));\r\n  }\r\n\r\n  public static createEmpty(): Guid {\r\n    return new Guid('emptyguid');\r\n  }\r\n\r\n  public static parse(guid: string): Guid {\r\n    return new Guid(guid);\r\n  }\r\n\r\n  public static raw(): string {\r\n    return [Guid.gen(2), Guid.gen(1), Guid.gen(1), Guid.gen(1), Guid.gen(3)].join('-');\r\n  }\r\n\r\n  private static gen(count: number) {\r\n    let out = '';\r\n    for (let i = 0; i < count; i++) {\r\n      // tslint:disable-next-line:no-bitwise\r\n      out += (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n    }\r\n    return out;\r\n  }\r\n\r\n\r\n  private constructor(guid: string) {\r\n    if (!guid) {\r\n      throw new TypeError('Invalid argument; `value` has no value.');\r\n    }\r\n\r\n    this.value = Guid.EMPTY;\r\n\r\n    if (guid && Guid.isGuid(guid)) {\r\n      this.value = guid;\r\n    }\r\n  }\r\n\r\n  public equals(other: Guid): boolean {\r\n    // Comparing string `value` against provided `guid` will auto-call\r\n    // toString on `guid` for comparison\r\n    return Guid.isGuid(other) && this.value === other.toString();\r\n  }\r\n\r\n  public isEmpty(): boolean {\r\n    return this.value === Guid.EMPTY;\r\n  }\r\n\r\n  public toString(): string {\r\n    return this.value;\r\n  }\r\n\r\n  public toJSON(): any {\r\n    return {\r\n      value: this.value,\r\n    };\r\n  }\r\n}\r\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  ViewChild\n} from '@angular/core';\nimport {Subscription} from 'rxjs';\nimport {TaminLazyLoadService} from '../../services/tamin-lazy-load/tamin-lazy-load.service';\nimport {OverlayService} from '../../services/overlay/overlay.service';\nimport {isNullOrUndefined} from 'util';\nimport {Guid} from '../../helpers/guid';\nimport {PersianNumberPipe} from '../../pipes/persian-number.pipe';\n\ndeclare var alertify: any;\ndeclare let Viewer: any;\ndeclare let filechooser: any;\n\n/* In Cordova, we need to install the https://github.com/caixiangsap/filechooser.git */\n\n@Component({\n  selector: 'tamin-image-gallery',\n  templateUrl: './tamin-image-gallery.component.html',\n  styleUrls: ['./tamin-image-gallery.component.scss']\n})\n\nexport class TaminImageGalleryComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  @ViewChild('imageContainer') imageContainer: ElementRef;\n  @ViewChild('imageInput') imageInput: ElementRef;\n  @ViewChild('host') host: ElementRef;\n  images: Array<ImageModel> = [];\n  private _gallery: any;\n  @Input() insertable = true;\n  @Input() maxImageSize = 120;\n  @Output() afterInsert = new EventEmitter<ImageModel>();\n  @Output() afterRemove = new EventEmitter<ImageModel>();\n  @Output() beforeInsert = new EventEmitter();\n  @Output() beforeRemove = new EventEmitter<ImageModel>();\n  private _subscription = new Subscription();\n  private _overlay: any;\n  private defaultTitle: string;\n  private defaultTag: any;\n\n  constructor(private taminLazyLoadService: TaminLazyLoadService, private changeDetectorRef: ChangeDetectorRef, private overlayService: OverlayService) {\n  }\n\n  ngOnInit() {\n  }\n\n  selectImage(title, tag: any = null) {\n    const me = this;\n    this.defaultTitle = title;\n    this.defaultTag = tag;\n    if (window.hasOwnProperty('cordova')) {\n      this.checkPermission().then(value => {\n        if (value) {\n          filechooser.open({'mime': 'image/*'},\n            (data) => {\n              me.getBase64FromImageUrl(data.url);\n            },\n            (reason) => {\n              me.showAlert(' ', '   ');\n            });\n        }\n      }).catch(reason => {\n        me.showAlert(' ', '      ');\n      });\n    } else {\n      this.imageInput.nativeElement.click();\n    }\n  }\n\n  ngAfterViewInit(): void {\n    const me = this;\n    this.imageInput.nativeElement.addEventListener('change', (e) => {\n      if (e.srcElement.files[0].size > me.maxImageSize * 1024) {\n        const persianNumberPipe = new PersianNumberPipe();\n        const message = persianNumberPipe.transform('      ' + ' ' + me.maxImageSize.toString() + ' ' + '  .');\n        me.showAlert(' ', message);\n        e.srcElement.value = '';\n        return;\n      }\n\n      const reader = new FileReader();\n      reader.readAsDataURL(e.srcElement.files[0]);\n      reader.onload = (event) => {\n        const model = new ImageModel();\n        model.source = (<any>event.target).result;\n        model.title = this.defaultTitle;\n        model.tag = this.defaultTag;\n        model.id = model.id = Guid.create().toString();\n        if (!this.images.find(c => c.source === model.source)) {\n          this.beforeInsert.emit();\n          me.images.push(model);\n          this.afterInsert.emit(model);\n          this.changeDetectorRef.detectChanges();\n          this._gallery.update();\n          this.imageInput.nativeElement.value = '';\n        }\n      };\n    });\n\n    this._subscription.add(this.taminLazyLoadService.loadJs('assets/viewerjs/dist/viewer.js').subscribe(value => {\n        this._subscription.add(\n          this.taminLazyLoadService.loadCss('assets/viewerjs/dist/viewer.css').subscribe(value1 => {\n            this._gallery = new Viewer(this.imageContainer.nativeElement);\n          })\n        );\n      })\n    );\n  }\n\n  addImage(model: ImageModel) {\n    if (isNullOrUndefined(model)) {\n      alert('   .');\n      return;\n    }\n    this.beforeInsert.emit(model);\n    model.id = Guid.create().toString();\n    this.images.push(model);\n    this.afterInsert.emit(model);\n    this.changeDetectorRef.detectChanges();\n    this._gallery.update();\n  }\n\n  removeImage(id: string) {\n    this.showQuestionBox(' ', '  ', () => {\n      const model = this.images.find(c => c.id === id);\n      this.beforeRemove.emit(model);\n      this.images = this.images.filter(obj => obj.id !== id);\n      this.changeDetectorRef.detectChanges();\n      this._gallery.update();\n      this.afterRemove.emit(model);\n    }, () => {\n    });\n  }\n\n  startWaiting() {\n    this._overlay = this.overlayService.show(this.host.nativeElement);\n  }\n\n  stopWaiting() {\n    this.overlayService.hide(this._overlay);\n  }\n\n  ngOnDestroy(): void {\n    this.stopWaiting();\n    this._subscription.unsubscribe();\n  }\n\n  private showQuestionBox(title: string, message: string, yesCallback: Function, noCallback: Function) {\n    alertify.confirm(title, message, yesCallback, noCallback)\n      .set({\n        labels: {ok: '', cancel: ''}\n      });\n  }\n\n  private showAlert(title: string, message: string) {\n    alertify.alert(title, message);\n  }\n\n  getBase64FromImageUrl(url) {\n    const me = this;\n    const img = new Image();\n    img.setAttribute('crossOrigin', 'anonymous');\n    img.onload = () => {\n      const canvas = document.createElement('canvas');\n      canvas.width = img.width;\n      canvas.height = img.height;\n      const ctx = canvas.getContext('2d');\n      ctx.drawImage(img, 0, 0);\n      const dataURL = canvas.toDataURL('image/png');\n      if (this.dataURLtoBlob(dataURL).size > me.maxImageSize * 1024) {\n        const persianNumberPipe = new PersianNumberPipe();\n        const message = persianNumberPipe.transform('      ' + ' ' + me.maxImageSize.toString() + ' ' + '  .');\n        me.showAlert(' ', message);\n        return;\n      }\n      const model = new ImageModel();\n      model.source = dataURL;\n      model.title = this.defaultTitle;\n      model.tag = this.defaultTag;\n      model.id = model.id = Guid.create().toString();\n      if (!this.images.find(c => c.source === model.source)) {\n        this.beforeInsert.emit();\n        me.images.push(model);\n        this.afterInsert.emit(model);\n        this.changeDetectorRef.detectChanges();\n        this._gallery.update();\n        this.imageInput.nativeElement.value = '';\n      }\n      // alert(dataURL.replace(/^data:image\\/(png|jpg);base64,/, ''));\n    };\n    img.src = url;\n  }\n\n  dataURLtoBlob(dataURL) {\n    const binary = atob(dataURL.split(',')[1]);\n    // Create 8-bit unsigned array\n    const array = [];\n    for (let i = 0; i < binary.length; i++) {\n      array.push(binary.charCodeAt(i));\n    }\n    return new Blob([new Uint8Array(array)], {type: 'image/png'});\n  }\n\n  checkPermission(): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      // @ts-ignore\n      const Permission = window.plugins.Permission;\n      const permission = 'android.permission.WRITE_EXTERNAL_STORAGE';\n      Permission.has(permission, (results) => {\n        if (!results[permission]) {\n          Permission.request(permission, (result) => {\n            if (result[permission]) {\n              resolve(true);\n            } else {\n              resolve(false);\n            }\n          }, (reason) => {\n            reject(reason);\n          });\n        } else {\n          resolve(true);\n        }\n      }, (reason) => {\n        reject(reason);\n      });\n    });\n  }\n}\n\nexport class ImageModel {\n  source: any;\n  id: string;\n  tag: any;\n  title: string;\n  removeable = true;\n}\n","import {Component, forwardRef, Input, OnInit} from '@angular/core';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\nimport {NG_VALUE_ACCESSOR} from '@angular/forms';\n\n@Component({\n  selector: 'tamin-field-static-multiline-text',\n  templateUrl: './tamin-field-static-multiline-text.component.html',\n  styleUrls: ['./tamin-field-static-multiline-text.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldStaticMultilineTextComponent),\n      multi: true\n    }\n  ]\n})\nexport class TaminFieldStaticMultilineTextComponent extends FieldBaseComponent {\n  @Input() rows = 4;\n  @Input() cols = 50;\n\n  initializeComponent() {\n  }\n\n  writeValue(value: any): void {\n    const theValue = value == null ? '' : value;\n    this.inputElement.nativeElement.value = this.persianNumberPipe.transform(value);\n    this.onChange(value);\n  }\n}\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  ViewChild\n} from '@angular/core';\nimport {Subscription} from 'rxjs';\nimport {TaminLazyLoadService} from '../../services/tamin-lazy-load/tamin-lazy-load.service';\nimport {OverlayService} from '../../services/overlay/overlay.service';\nimport {isNullOrUndefined} from 'util';\nimport {Guid} from '../../helpers/guid';\nimport {PersianNumberPipe} from '../../pipes/persian-number.pipe';\nimport {HttpClient, HttpEventType, HttpHeaders} from '@angular/common/http';\nimport {ImageModel} from '../tamin-image-gallery/tamin-image-gallery.component';\n\ndeclare var alertify: any;\ndeclare let Viewer: any;\ndeclare let filechooser: any;\n\n/* In Cordova, we need to install the https://github.com/caixiangsap/filechooser.git */\n\n@Component({\n  selector: 'tamin-image-gallery-managed',\n  templateUrl: './tamin-image-gallery-managed.component.html',\n  styleUrls: ['./tamin-image-gallery-managed.component.scss']\n})\nexport class TaminImageGalleryManagedComponent implements OnInit, AfterViewInit, OnDestroy {\n  // tslint:disable-next-line:max-line-length\n  private defaultImage = 'data:image/png;base64,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';\n  private _subscription = new Subscription();\n  private _overlay: any;\n  private defaultTitle: string;\n  private defaultTag: any;\n  private _gallery: any;\n  private _queue = [];\n  public images: Array<ImageModelManaged> = [];\n  @Input() insertable = true;\n  @Input() maxImageSize = 120;\n  @Input() saveUrl = '';\n  @Input() getUrl = '';\n  @Output() afterInsert = new EventEmitter<ImageModelManaged>();\n  @Output() afterRemove = new EventEmitter<ImageModelManaged>();\n  @Output() beforeInsert = new EventEmitter();\n  @Output() beforeRemove = new EventEmitter<ImageModelManaged>();\n  @ViewChild('imageContainer') imageContainer: ElementRef;\n  @ViewChild('imageInput') imageInput: ElementRef;\n  @ViewChild('host') host: ElementRef;\n\n  constructor(\n    private taminLazyLoadService: TaminLazyLoadService,\n    private changeDetectorRef: ChangeDetectorRef,\n    private overlayService: OverlayService,\n    private http: HttpClient) {\n  }\n\n  ngOnInit() {\n  }\n\n\n  ngAfterViewInit(): void {\n    const me = this;\n    this.imageInput.nativeElement.addEventListener('change', (e) => {\n      if (e.srcElement.files[0].size > me.maxImageSize * 1024) {\n        const persianNumberPipe = new PersianNumberPipe();\n        const message = persianNumberPipe.transform('      ' + ' ' + me.maxImageSize.toString() + ' ' + '  .');\n        me.showAlert(' ', message);\n        e.srcElement.value = '';\n        return;\n      }\n\n      const reader = new FileReader();\n      reader.readAsDataURL(e.srcElement.files[0]);\n      reader.onload = (event) => {\n        const model = new ImageModelManaged();\n        model.source = (<any>event.target).result;\n        model.title = this.defaultTitle;\n        model.tag = this.defaultTag;\n        model.file = e.srcElement.files[0];\n        model.internalId = model.internalId = Guid.create().toString();\n        if (!this.images.find(c => c.source === model.source)) {\n          this.beforeInsert.emit();\n          me.images.push(model);\n          this.afterInsert.emit(model);\n          this.changeDetectorRef.detectChanges();\n          this._gallery.update();\n          this.imageInput.nativeElement.value = '';\n          model.loading = true;\n          this.changeDetectorRef.detectChanges();\n          this.saveImage2(model)\n            .then(value => {\n              model.loading = false;\n              model.guid = value;\n              model.loadFailed = false;\n            })\n            .catch(reason => {\n              model.loading = false;\n              model.loadFailed = true;\n            });\n        }\n      };\n    });\n\n    this._subscription.add(this.taminLazyLoadService.loadJs('assets/viewerjs/dist/viewer.js').subscribe(value => {\n        this._subscription.add(\n          this.taminLazyLoadService.loadCss('assets/viewerjs/dist/viewer.css').subscribe(value1 => {\n            this._gallery = new Viewer(this.imageContainer.nativeElement);\n          })\n        );\n      })\n    );\n  }\n\n  selectImage(title, tag: any = null) {\n    const me = this;\n    this.defaultTitle = title;\n    this.defaultTag = tag;\n    if (window.hasOwnProperty('cordova')) {\n      this.checkPermission().then(value => {\n        if (value) {\n          filechooser.open({'mime': 'image/*'},\n            (data) => {\n              me.getBase64FromImageUrl(data);\n            },\n            (reason) => {\n              me.showAlert(' ', '   ');\n            });\n        }\n      }).catch(reason => {\n        me.showAlert(' ', '      ');\n      });\n\n    } else {\n      this.imageInput.nativeElement.click();\n    }\n  }\n\n  areAllImagesUploaded(): boolean {\n    let result = true;\n    this.images.forEach(value => {\n      result = result && (value.guid !== '');\n    });\n    return result;\n  }\n\n  addImage(model: ImageModelManaged) {\n    if (isNullOrUndefined(model)) {\n      alert('   .');\n      return;\n    }\n    this.beforeInsert.emit(model);\n    model.internalId = Guid.create().toString();\n    this.images.push(model);\n    this.afterInsert.emit(model);\n    this.changeDetectorRef.detectChanges();\n    this._gallery.update();\n  }\n\n  removeImage(id: string) {\n    this.showQuestionBox(' ', '  ', () => {\n      const model = this.images.find(c => c.internalId === id);\n      this.beforeRemove.emit(model);\n      this.images = this.images.filter(obj => obj.internalId !== id);\n      this.changeDetectorRef.detectChanges();\n      this._gallery.update();\n      this.afterRemove.emit(model);\n    }, () => {\n    });\n  }\n\n  startWaiting() {\n    this._overlay = this.overlayService.show(this.host.nativeElement);\n  }\n\n  stopWaiting() {\n    this.overlayService.hide(this._overlay);\n  }\n\n  ngOnDestroy(): void {\n    this.stopWaiting();\n    this._subscription.unsubscribe();\n  }\n\n  private showQuestionBox(title: string, message: string, yesCallback: Function, noCallback: Function) {\n    alertify.confirm(title, message, yesCallback, noCallback)\n      .set({\n        labels: {ok: '', cancel: ''}\n      });\n  }\n\n  private showAlert(title: string, message: string) {\n    alertify.alert(title, message);\n  }\n\n  private saveImage(model: ImageModelManaged): Promise<string> {\n    return new Promise<any>((resolve, reject) => {\n      const formData = new FormData();\n      formData.append('file', model.file, model.file.name);\n      const headers = new HttpHeaders({'Content-Type': 'application/json'});\n      this.http.post(this.saveUrl, model.source.split(',')[1], {headers: headers}).toPromise()\n        .then(value => {\n          resolve((<any>value).guid);\n        })\n        .catch(reason => {\n          reject(reason);\n        });\n    });\n  }\n\n  private saveImage2(model: ImageModelManaged): Promise<string> {\n    return new Promise<any>((resolve, reject) => {\n      const formData = new FormData();\n      formData.append('file', model.file, model.file.name);\n      this.http.post(this.saveUrl, formData, {\n        reportProgress: true,\n        observe: 'events'\n      })\n        .subscribe(\n          (event: any) => {\n            switch (event.type) {\n              case HttpEventType.Sent:\n                break;\n              case HttpEventType.Response:\n                // console.log(event.body.guid);\n                resolve(event.body.guid);\n                break;\n              case 1: {\n                break;\n              }\n            }\n          },\n          error => {\n            reject(error);\n          });\n    });\n  }\n\n  retrySaveImage(img: ImageModelManaged) {\n    img.loading = true;\n    img.loadFailed = false;\n    this.changeDetectorRef.detectChanges();\n    this.saveImage2(img)\n      .then(value => {\n        img.loading = false;\n        img.loadFailed = false;\n        img.guid = value;\n      })\n      .catch(reason => {\n        img.loading = false;\n        img.loadFailed = true;\n      });\n  }\n\n  cancelSaveImage(img: ImageModelManaged) {\n    this.removeImage(img.internalId);\n  }\n\n  clearImages() {\n    this.images = [];\n  }\n\n  downloadImage(guid: string, title: string, type: string, id: string, removeable: boolean = false, tag: any = null) {\n    const tmp = new ImageModelManaged();\n    tmp.source = this.defaultImage;\n    tmp.internalId = Guid.create().toString();\n    tmp.tag = tag;\n    tmp.file = null;\n    tmp.title = title;\n    tmp.removeable = removeable;\n    tmp.guid = '';\n    tmp.loading = false;\n    tmp.loading = true;\n    tmp.loadFailed = false;\n    tmp.loadFailed = false;\n    // tmp.size = [];\n    tmp.internalTemp = {\n      guid: guid,\n      title: title,\n      type: type,\n      id: id,\n      tag: tag\n    };\n    this.images.push(tmp);\n    const theUrl = `${this.getUrl}/${guid}/${type}/${id}`;\n    this.addToQueue(guid);\n    this.http.get(theUrl)\n      .toPromise()\n      .then((value: any) => {\n        this.removefromQueue(guid);\n        // tmp.source = 'data:image/png;base64,' + value.data.image;\n        tmp.source = 'data:image/png;base64,' + value.data;\n        tmp.loading = false;\n        tmp.guid = guid;\n      })\n      .catch(reason => {\n        this.removefromQueue(guid);\n        tmp.loadFailed = true;\n      });\n  }\n\n  private addToQueue(guid: string) {\n    this._queue.push(guid);\n  }\n\n  private removefromQueue(guid: string) {\n    this._queue.pop();\n    if (this._queue.length === 0) {\n      this.changeDetectorRef.detectChanges();\n      this._gallery.update();\n    }\n  }\n\n  private dataURLtoFile(dataurl, filename) {\n    const byteString = atob(dataurl.split(',')[1]);\n    const mimeString = dataurl.split(',')[0].split(':')[1].split(';')[0];\n    const ab = new ArrayBuffer(byteString.length);\n    const ia = new Uint8Array(ab);\n    for (let i = 0; i < byteString.length; i++) {\n      ia[i] = byteString.charCodeAt(i);\n    }\n    return new Blob([ab], {type: mimeString});\n\n    // const arr = dataurl.split(',');\n    // const mime = arr[0].match(/:(.*?);/)[1];\n    // const bstr = atob(arr[1]);\n    // let n = bstr.length;\n    // const u8arr = new Uint8Array(n);\n    // while (n--) {\n    //   u8arr[n] = bstr.charCodeAt(n);\n    // }\n    // return new File([u8arr], filename, {type: mime});\n  }\n\n  private getBase64FromImageUrl(data) {\n    const me = this;\n    const reader = new FileReader();\n    const tmp = this.dataURLtoBlob('data:image/png;base64,' + data);\n    reader.readAsDataURL(tmp);\n    reader.onloadend = function () {\n      if (me.dataURLtoBlob(reader.result).size > me.maxImageSize * 1024) {\n        const persianNumberPipe = new PersianNumberPipe();\n        const message = persianNumberPipe.transform('      ' + ' ' + me.maxImageSize.toString() + ' ' + '  .');\n        me.showAlert(' ', message);\n        return;\n      }\n\n      const model = new ImageModelManaged();\n      model.source = reader.result;\n      model.title = me.defaultTitle;\n      model.tag = me.defaultTag;\n      model.file = me.dataURLtoFile(reader.result, 'image.jpg') as File;\n      model.internalId = model.internalId = Guid.create().toString();\n      if (!me.images.find(c => c.source === model.source)) {\n        me.beforeInsert.emit();\n        me.images.push(model);\n        me.afterInsert.emit(model);\n        me.changeDetectorRef.detectChanges();\n        me._gallery.update();\n        me.imageInput.nativeElement.value = '';\n        model.loading = true;\n        me.changeDetectorRef.detectChanges();\n        me.saveImage2(model)\n          .then(value => {\n            model.loading = false;\n            model.guid = value;\n            model.loadFailed = false;\n            me.changeDetectorRef.detectChanges();\n          })\n          .catch(reason => {\n            model.loading = false;\n            model.loadFailed = true;\n            me.changeDetectorRef.detectChanges();\n          });\n      }\n\n      // if (me.dataURLtoBlob(reader.result).size > me.maxImageSize * 1024) {\n      //   const persianNumberPipe = new PersianNumberPipe();\n      //   const message = persianNumberPipe.transform('      ' + ' ' + me.maxImageSize.toString() + ' ' + '  .');\n      //   me.showAlert(' ', message);\n      //   return;\n      // }\n      // const model = new ImageModelManaged();\n      // model.source = reader.result;\n      // model.title = me.defaultTitle;\n      // model.tag = me.defaultTag;\n      // model.file = me.dataURLtoFile(reader.result, 'image.jpg');\n      // model.internalId = model.internalId = Guid.create().toString();\n      // if (!me.images.find(c => c.source === model.source)) {\n      //   me.beforeInsert.emit();\n      //   me.images.push(model);\n      //   me.afterInsert.emit(model);\n      //   me.changeDetectorRef.detectChanges();\n      //   me._gallery.update();\n      //   me.imageInput.nativeElement.value = '';\n      //   model.loading = true;\n      //   me.changeDetectorRef.detectChanges();\n      //   me.saveImage(model)\n      //     .then(value => {\n      //       model.loading = false;\n      //       model.guid = value;\n      //       model.loadFailed = false;\n      //     })\n      //     .catch(reason => {\n      //       model.loading = false;\n      //       model.loadFailed = true;\n      //     });\n      // }\n    };\n  }\n\n  dataURLtoBlob(dataURL) {\n    const binary = atob(dataURL.split(',')[1]);\n    // Create 8-bit unsigned array\n    const array = [];\n    for (let i = 0; i < binary.length; i++) {\n      array.push(binary.charCodeAt(i));\n    }\n    return new Blob([new Uint8Array(array)], {type: 'image/png'});\n  }\n\n  checkPermission(): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      // @ts-ignore\n      const Permission = window.plugins.Permission;\n      const permission = 'android.permission.WRITE_EXTERNAL_STORAGE';\n      Permission.has(permission, (results) => {\n        if (!results[permission]) {\n          Permission.request(permission, (result) => {\n            if (result[permission]) {\n              resolve(true);\n            } else {\n              resolve(false);\n            }\n          }, (reason) => {\n            reject(reason);\n          });\n        } else {\n          resolve(true);\n        }\n      }, (reason) => {\n        reject(reason);\n      });\n    });\n  }\n\n}\n\nexport class ImageModelManaged {\n  source: any;\n  internalId: string;\n  tag: any;\n  file: File;\n  title: string;\n  removeable = true;\n  guid = '';\n  loading = false;\n  loadFailed = false;\n  // size = [];\n  internalTemp: any;\n}\n","import {AfterViewInit, ChangeDetectorRef, Component, ElementRef, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {TaminLazyLoadService} from '../../services/tamin-lazy-load/tamin-lazy-load.service';\nimport {Subscription} from 'rxjs';\nimport {TaminModalComponent} from '../tamin-modal/tamin-modal.component';\n\ndeclare let Cropper: any;\n\n@Component({\n  selector: 'tamin-image-editor',\n  templateUrl: './image-editor.component.html',\n  styleUrls: ['./image-editor.component.scss']\n})\nexport class ImageEditorComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  private _subscription = new Subscription();\n  @ViewChild('image') image: ElementRef;\n  @ViewChild('thModal') thModal: TaminModalComponent;\n  @ViewChild('imagePreview') imagePreview: ElementRef;\n  cropper: any;\n\n  constructor(\n    private taminLazyLoadService: TaminLazyLoadService,\n    private changeDetectorRef: ChangeDetectorRef) {\n  }\n\n  ngOnInit() {\n  }\n\n  ngAfterViewInit(): void {\n  }\n\n  getImage(): any {\n    this.cropper.getCroppedCanvas().toBlob((blob) => {\n      const size = Math.ceil(blob.size / 1024).toString() + ' KB';\n      alert(size);\n    });\n  }\n\n  open(image) {\n    const me = this;\n\n    this._subscription.add(this.taminLazyLoadService.loadJs('assets/cropperjs/cropper.js').subscribe(value => {\n        this._subscription.add(\n          this.taminLazyLoadService.loadCss('assets/cropperjs/cropper.css').subscribe(value1 => {\n            this.thModal.show();\n            if (this.cropper) {\n              this.cropper.clear();\n              this.cropper.replace(image);\n            } else {\n              this.image.nativeElement.src = image;\n              this.cropper = new Cropper(this.image.nativeElement, {\n                aspectRatio: 16 / 9,\n                preview: me.imagePreview.nativeElement,\n                crop: function (e) {\n                },\n              });\n            }\n          })\n        );\n      })\n    );\n  }\n\n  ngOnDestroy(): void {\n    this._subscription.unsubscribe();\n  }\n\n}\n","import {Component, OnInit, TemplateRef, ViewChild} from '@angular/core';\n\n@Component({\n  selector: 'tamin-tab-body',\n  templateUrl: './tab-body.component.html',\n  styleUrls: ['./tab-body.component.scss']\n})\nexport class TaminTabBodyComponent implements OnInit {\n  @ViewChild(TemplateRef)\n  bodyContent: TemplateRef<any>;\n\n  constructor() {\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","import {Component, OnInit, TemplateRef, ViewChild} from '@angular/core';\n\n@Component({\n  selector: 'tamin-tab-label',\n  templateUrl: './tab-label.component.html',\n  styleUrls: ['./tab-label.component.scss']\n})\nexport class TaminTabLabelComponent implements OnInit {\n\n  @ViewChild(TemplateRef)\n  labelContent: TemplateRef<any>;\n\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","import {Component, ContentChild, Input, OnInit} from '@angular/core';\nimport {TaminTabBodyComponent} from '../tab-body/tab-body.component';\nimport {TaminTabLabelComponent} from '../tab-label/tab-label.component';\n\n@Component({\n  selector: 'tamin-tab-item',\n  templateUrl: './tab-item.component.html',\n  styleUrls: ['./tab-item.component.scss']\n})\nexport class TaminTabItemComponent implements OnInit {\n\n  @Input()\n  label: string;\n\n  @Input()\n  isActive: boolean;\n\n  @ContentChild(TaminTabBodyComponent)\n  bodyComponent: TaminTabBodyComponent;\n\n  @ContentChild(TaminTabLabelComponent)\n  labelComponent: TaminTabLabelComponent;\n\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","import {\n  AfterContentChecked,\n  AfterContentInit, AfterViewInit,\n  Component,\n  ContentChildren, ElementRef, HostListener,\n  Input,\n  OnInit,\n  QueryList,\n  ViewChild\n} from '@angular/core';\nimport {TaminTabItemComponent} from '../tab-item/tab-item.component';\nimport {Observable} from 'rxjs';\nimport {delay, map, startWith} from 'rxjs/operators';\n\n@Component({\n  selector: 'tamin-tabs',\n  templateUrl: './tabs.component.html',\n  styleUrls: ['./tabs.component.scss']\n})\nexport class TaminTabsComponent implements OnInit, AfterContentInit, AfterContentChecked, AfterViewInit {\n  @ContentChildren(TaminTabItemComponent)\n  tabs: QueryList<TaminTabItemComponent>;\n  tabItems: Observable<TaminTabItemComponent[]>;\n  activeTab: TaminTabItemComponent;\n  layout: 'vertical' | 'horizontal' = 'horizontal';\n  @Input() tabPosition: 'top' | 'bottom' = 'top';\n  @ViewChild('tabHeader') tabHeader: ElementRef;\n  scroll: boolean;\n\n  ngOnInit(): void {\n  }\n\n  ngAfterContentInit(): void {\n    this.tabItems = this.tabs.changes\n      .pipe(startWith(''))\n      .pipe(delay(0))\n      .pipe(map(() => this.tabs.toArray()));\n  }\n\n  ngAfterContentChecked() {\n    if (!this.activeTab) {\n      Promise.resolve().then(() => {\n        this.activeTab = this.tabs.first;\n      });\n    }\n  }\n\n  selectTab(tabItem: TaminTabItemComponent) {\n    if (this.activeTab === tabItem) {\n      return;\n    }\n\n    if (this.activeTab) {\n      this.activeTab.isActive = false;\n    }\n\n    this.activeTab = tabItem;\n\n    tabItem.isActive = true;\n  }\n\n\n  getBorderClass() {\n    return this.tabPosition === 'top' ? 'border-bottom' : 'border-top';\n  }\n\n  @HostListener('window:resize')\n  onResize() {\n    const hasScroll = this.hasScroll(this.tabHeader.nativeElement, 'horizontal');\n    this.scroll = hasScroll;\n  }\n\n  private hasScroll(el, direction) {\n    direction = (direction === 'vertical') ? 'scrollTop' : 'scrollLeft';\n    let result = !!el[direction];\n\n    if (!result) {\n      el[direction] = 1;\n      result = !!el[direction];\n      el[direction] = 0;\n    }\n    return result;\n  }\n\n  scrollTo(direction: 'left' | 'right') {\n    this.tabHeader.nativeElement.scrollLeft += direction === 'left' ? -100 : 100;\n  }\n\n  ngAfterViewInit(): void {\n    setTimeout(() => {\n      this.onResize();\n    });\n  }\n}\n","import {Component, ElementRef, EventEmitter, forwardRef, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\nimport {NG_VALUE_ACCESSOR} from '@angular/forms';\n\n@Component({\n  selector: 'tamin-field-file-upload',\n  templateUrl: './tamin-field-file-upload.component.html',\n  styleUrls: ['./tamin-field-file-upload.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldFileUploadComponent),\n      multi: true\n    }\n  ]\n})\nexport class TaminFieldFileUploadComponent extends FieldBaseComponent {\n\n  @Input() maxLength = Number.MAX_SAFE_INTEGER;\n  @Input() accept: string;\n  @Output() focus = new EventEmitter();\n  @Output() blur = new EventEmitter();\n  @ViewChild('fileInput') fileInput: ElementRef;\n\n  onShowPicker() {\n    this.fileInput.nativeElement.click();\n  }\n\n  changeFileUpload(event) {\n    this.inputElement.nativeElement.value = event.target.files[0].name;\n    this.onChange(event.target.files[0]);\n  }\n}\n","import {Component, EventEmitter, forwardRef, Input, OnInit, Output} from '@angular/core';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\nimport {NG_VALUE_ACCESSOR} from '@angular/forms';\n\ndeclare let IMask: any;\n\n@Component({\n  selector: 'tamin-tamin-field-calculable',\n  templateUrl: './tamin-field-calculable.component.html',\n  styleUrls: ['./tamin-field-calculable.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldCalculableComponent),\n      multi: true\n    }\n  ]\n})\nexport class TaminFieldCalculableComponent extends FieldBaseComponent {\n\n  @Input() min = Number.MIN_SAFE_INTEGER;\n  @Input() max = Number.MAX_SAFE_INTEGER;\n  @Input() negativeNumberColor = 'red';\n  @Output('calculate') calculate = new EventEmitter();\n\n  initializeComponent() {\n    const me = this;\n    this.maskRef = new IMask(this.inputElement.nativeElement, {\n      mask: Number,\n      thousandsSeparator: ',',\n      min: me.min,\n      max: me.max\n    });\n  }\n\n  writeValue(value: any): void {\n    const theValue = value == null ? '' : value;\n    setTimeout(() => {\n      if (this.maskRef) {\n        this.maskRef.value = value.toString();\n      } else {\n        this.inputElement.nativeElement.value = value.toString();\n      }\n    });\n\n    this.onChange(value);\n  }\n\n\n  onCalculate() {\n    this.calculate.emit();\n  }\n}\n","import {Component, EventEmitter, forwardRef, Input, OnInit, Output} from '@angular/core';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\nimport {NG_VALUE_ACCESSOR} from '@angular/forms';\n\n@Component({\n  selector: 'tamin-field-editable',\n  templateUrl: './tamin-field-editable.component.html',\n  styleUrls: ['./tamin-field-editable.component.css'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldEditableComponent),\n      multi: true\n    }\n  ]\n})\nexport class TaminFieldEditableComponent extends FieldBaseComponent {\n\n  @Input() maxLength = Number.MAX_SAFE_INTEGER;\n  @Output() focus = new EventEmitter();\n  @Output() blur = new EventEmitter();\n  @Output() edit = new EventEmitter();\n\n}\n","import {\n  Component,\n  ElementRef, EventEmitter,\n  forwardRef,\n  Input,\n  OnInit, Output,\n  ViewChild\n} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\n\n@Component({\n  selector: 'tamin-field-radio-button',\n  templateUrl: './tamin-field-radio-button.component.html',\n  styleUrls: ['./tamin-field-radio-button.component.css'],\n})\nexport class TaminFieldRadioButtonComponent implements OnInit {\n\n  @ViewChild('inputElement') inputElement: ElementRef;\n  @Input() value: string;\n  @Output() change = new EventEmitter<string>();\n  private _name: string;\n  get name(): string {\n    return this._name;\n  }\n\n  @Input() set name(value: string) {\n    setTimeout(() => {\n      this._name = value;\n    });\n  }\n\n  ngOnInit(): void {\n  }\n\n  setSelected() {\n    this.inputElement.nativeElement.checked = true;\n  }\n\n\n\n  onChangeRadio(event: Event) {\n    if (this.inputElement.nativeElement.checked) {\n      this.change.emit(this.value);\n    }\n  }\n}\n","import {Component, ContentChildren, forwardRef, Input, OnInit, QueryList} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {TaminFieldRadioButtonComponent} from '../tamin-field-radio-button/tamin-field-radio-button.component';\n\n@Component({\n  selector: 'tamin-field-radio-button-group',\n  templateUrl: './tamin-field-radio-button-group.component.html',\n  styleUrls: ['./tamin-field-radio-button-group.component.css'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldRadioButtonGroupComponent),\n      multi: true\n    }\n  ]\n})\nexport class TaminFieldRadioButtonGroupComponent implements OnInit, ControlValueAccessor {\n  @ContentChildren(TaminFieldRadioButtonComponent)\n  radioButtons: QueryList<TaminFieldRadioButtonComponent>;\n  onChange: any;\n  onTouched: any;\n  @Input() public formControlName: string;\n\n  constructor() {\n    this.onTouched = () => {\n    };\n    this.onChange = (value: string) => {\n    };\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.radioButtons.forEach(item => {\n        item.name = this.formControlName;\n        item.change.subscribe(value => {\n          this.onChange(value);\n        });\n      });\n    });\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  writeValue(obj: any): void {\n    setTimeout(() => {\n      this.radioButtons.forEach(item => {\n        if (item.value === obj) {\n          item.setSelected();\n        }\n      });\n    });\n  }\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {BreakpointObserver, Breakpoints, BreakpointState} from '@angular/cdk/layout';\n\n@Component({\n  selector: 'tamin-tamin-stepper-step',\n  templateUrl: './tamin-stepper-step.component.html',\n  styleUrls: ['./tamin-stepper-step.component.scss']\n})\nexport class TaminStepperStepComponent implements OnInit {\n\n  @Input() size: 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 = 1;\n  iconText: string;\n  @Input() name;\n  active: boolean;\n  breakPoints: Array<any> = [Breakpoints.Small, Breakpoints.Handset];\n  renderMode: 'desktop' | 'mobile' = 'desktop';\n\n  constructor(public breakpointObserver: BreakpointObserver) {\n  }\n\n  ngOnInit() {\n    this.breakpointObserver\n      .observe(this.breakPoints)\n      .subscribe((state: BreakpointState) => {\n        if (state.matches) {\n\n          if (this.renderMode !== 'mobile') {\n            this.renderMode = 'mobile';\n          }\n        } else {\n          if (this.renderMode !== 'desktop') {\n            this.renderMode = 'desktop';\n          }\n        }\n      });\n  }\n}\n","import {Component, ContentChildren, Input, OnInit, QueryList} from '@angular/core';\nimport {TaminStepperStepComponent} from './tamin-stepper-step/tamin-stepper-step.component';\nimport {BreakpointObserver, Breakpoints, BreakpointState} from '@angular/cdk/layout';\n\n@Component({\n  selector: 'tamin-tamin-stepper',\n  templateUrl: './tamin-stepper.component.html',\n  styleUrls: ['./tamin-stepper.component.scss']\n})\nexport class TaminStepperComponent implements OnInit {\n\n  @ContentChildren(TaminStepperStepComponent)\n  steps: QueryList<TaminStepperStepComponent>;\n  private _activeStepName: string;\n  breakPoints: Array<any> = [Breakpoints.Small, Breakpoints.Handset];\n  renderMode: 'desktop' | 'mobile' = 'desktop';\n\n  @Input() set activeStepName(value) {\n    this._activeStepName = value;\n    setTimeout(() => {\n      this.steps.forEach((item, index) => {\n        item.active = item.name === value;\n      });\n    });\n  }\n\n  get activeStepName(): string {\n    return this._activeStepName;\n  }\n\n  constructor(public breakpointObserver: BreakpointObserver) {\n  }\n\n  ngOnInit() {\n    this.breakpointObserver\n      .observe(this.breakPoints)\n      .subscribe((state: BreakpointState) => {\n        if (state.matches) {\n\n          if (this.renderMode !== 'mobile') {\n            this.renderMode = 'mobile';\n          }\n        } else {\n          if (this.renderMode !== 'desktop') {\n            this.renderMode = 'desktop';\n          }\n        }\n      });\n\n    setTimeout(() => {\n      this.steps.forEach((item, index) => {\n        item.iconText = (index + 1).toString();\n      });\n    });\n  }\n}\n","import {\n  AfterContentInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  Output,\n  ViewChild\n} from '@angular/core';\nimport {\n  AbstractControl,\n  ControlContainer,\n  ControlValueAccessor,\n  NG_VALUE_ACCESSOR\n} from '@angular/forms';\nimport {ITaminField} from '../ITaminField';\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'tmn-field-txt',\n  template: `<input\n    type=\"text\"\n    [(ngModel)]=\"value\"\n    (ngModelChange)=\"updateChanges()\"\n    class=\"tamin-form-control-input\"\n    (blur)=\"onTouched()\"\n    [disabled]=\"control?.disabled\"\n    [class.tamin-form-control-valid]=\"control?.touched && control?.valid\"\n    [class.tamin-form-control-invalid]=\"control?.touched && !control?.valid\"\n    [attr.maxLength]=\"maxLength\"\n    [attr.placeholder]=\"placeHolder\"\n    #element>`,\n  styles: [\n    `:host {\n      width: 100%;\n    }`\n  ],\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => FieldTxtComponent),\n    multi: true\n  }]\n})\nexport class FieldTxtComponent implements ControlValueAccessor, ITaminField, AfterContentInit {\n  value = '';\n  control: AbstractControl;\n  @ViewChild('element') element: ElementRef;\n  @Input() maxLength = Number.MAX_SAFE_INTEGER;\n  @Input() formControlName: string;\n  @Input() placeHolder: string;\n  @Output() blur = new EventEmitter();\n\n  onChange: (_: any) => void = (_: any) => {\n  }\n\n  onTouched: () => void = () => {\n    this.blur.emit();\n  }\n\n  constructor(private controlContainer: ControlContainer) {\n\n  }\n\n  updateChanges() {\n    this.onChange(this.value);\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  writeValue(obj: any): void {\n    this.value = obj;\n    this.updateChanges();\n  }\n\n  ngAfterContentInit(): void {\n    this.control = this.controlContainer.control.get(this.formControlName);\n  }\n}\n","import {\n  AfterContentInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Input,\n  Output,\n  ViewChild\n} from '@angular/core';\nimport {\n  AbstractControl,\n  ControlContainer,\n  ControlValueAccessor,\n  NG_VALUE_ACCESSOR\n} from '@angular/forms';\nimport {ITaminField} from '../ITaminField';\n\ndeclare let IMask: any;\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'tmn-field-num',\n  template: `<input\n    type=\"text\"\n    [(ngModel)]=\"value\"\n    (ngModelChange)=\"updateChanges()\"\n    class=\"tamin-form-control-input\"\n    style=\"direction: ltr\"\n    (blur)=\"onTouched()\"\n    [disabled]=\"control?.disabled\"\n    [class.tamin-form-control-valid]=\"control?.touched && control?.valid\"\n    [class.tamin-form-control-invalid]=\"control?.touched && !control?.valid\"\n    [style.color]=\"value < 0 ? negativeNumberColor : ''\"\n    [attr.placeholder]=\"placeHolder\"\n    #element>`,\n  styles: [\n    `:host {\n      width: 100%;\n    }`\n  ],\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => FieldNumComponent),\n    multi: true\n  }]\n})\nexport class FieldNumComponent implements ControlValueAccessor, ITaminField, AfterContentInit {\n  control: AbstractControl;\n  maskRef: any;\n  @ViewChild('element') element: ElementRef;\n  @Input() maxLength = Number.MAX_SAFE_INTEGER;\n  @Input() formControlName: string;\n  @Input() placeHolder: string;\n  @Input() min = Number.MIN_SAFE_INTEGER;\n  @Input() max = Number.MAX_SAFE_INTEGER;\n  @Input() negativeNumberColor = 'red';\n  @Output() blur = new EventEmitter();\n\n  set value(val: any) {\n    this.maskRef.value = val.toString();\n  }\n\n  get value() {\n    return this.maskRef.value;\n  }\n\n  onChange: (_: any) => void = (_: any) => {\n  }\n\n  onTouched: () => void = () => {\n    this.blur.emit();\n  }\n\n  constructor(private controlContainer: ControlContainer) {\n\n  }\n\n  updateChanges() {\n    this.onChange(this.value);\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  writeValue(obj: any): void {\n    this.value = obj;\n    this.updateChanges();\n  }\n\n  ngAfterContentInit(): void {\n    this.control = this.controlContainer.control.get(this.formControlName);\n    const me = this;\n    this.maskRef = new IMask(this.element.nativeElement, {\n      mask: Number,\n      thousandsSeparator: ',',\n      min: me.min,\n      max: me.max\n    });\n  }\n}\n","import {Component, forwardRef, OnInit} from '@angular/core';\nimport {FieldBaseComponent} from '../../../base/field-base.component';\nimport {NG_VALUE_ACCESSOR} from '@angular/forms';\n\n@Component({\n  selector: 'tamin-field-static-number',\n  templateUrl: './tamin-field-static-number.component.html',\n  styleUrls: ['./tamin-field-static-number.component.css'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TaminFieldStaticNumberComponent),\n      multi: true\n    }\n  ]\n})\nexport class TaminFieldStaticNumberComponent extends FieldBaseComponent {\n  writeValue(value: any): void {\n    setTimeout(() => {\n      const theValue = value == null ? '' : value;\n      this.inputElement.nativeElement.value = this.commaSeperated(value.toString());\n      this.onChange(value);\n    }, 0);\n  }\n\n  private commaSeperated(val: string) {\n    const parts = val.split('.');\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    return parts.join('.');\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {TaminFieldAutoCompleteDataGridComponent} from './components/fields/tamin-field-auto-complete-data-grid/tamin-field-auto-complete-data-grid.component';\nimport {TaminPersianDatePickerComponent} from './components/tamin-persian-date-picker/tamin-persian-date-picker.component';\nimport {TaminFieldNumberComponent} from './components/fields/tamin-field-number/tamin-field-number.component';\nimport {TaminFieldComboBoxStaticComponent} from './components/fields/tamin-field-combo-box-static/tamin-field-combo-box-static.component';\nimport {TaminFieldPersianDateComponent} from './components/fields/tamin-field-persian-date/tamin-field-persian-date.component';\nimport {TaminFieldValidatorComponent} from './components/fields/tamin-field-validator/tamin-field-validator.component';\nimport {TaminModalComponent} from './components/tamin-modal/tamin-modal.component';\nimport {TaminFieldNatioanlIdComponent} from './components/fields/tamin-field-natioanl-id/tamin-field-natioanl-id.component';\nimport {TaminImageUploadComponent} from './components/tamin-image-upload/tamin-image-upload.component';\nimport {TaminFormControlComponent} from './components/containers/tamin-form-control/tamin-form-control.component';\nimport {TaminAccordionGroupComponent} from './components/tamin-accordion-group/tamin-accordion-group.component';\nimport {TaminTabComponent} from './components/containers/tamin-tab/tamin-tab.component';\nimport {TaminFieldMaskComponent} from './components/fields/tamin-field-mask/tamin-field-mask.component';\nimport {TaminSiteTopMenuComponent} from './components/tamin-site/tamin-site-top-menu/tamin-site-top-menu.component';\nimport {TaminDataPagerComponent} from './components/tamin-data-grid/tamin-data-pager/tamin-data-pager.component';\nimport {TaminSiteBottomMenuComponent} from './components/tamin-site/tamin-site-bottom-menu/tamin-site-bottom-menu.component';\nimport {TaminAccordionComponent} from './components/tamin-accordion/tamin-accordion.component';\nimport {TaminFieldCheckboxComponent} from './components/fields/tamin-field-checkbox/tamin-field-checkbox.component';\nimport {TaminFieldTextComponent} from './components/fields/tamin-field-text/tamin-field-text.component';\nimport {TaminTabPanelComponent} from './components/containers/tamin-tab-panel/tamin-tab-panel.component';\nimport {TaminFieldComboBoxComponent} from './components/fields/tamin-field-combo-box/tamin-field-combo-box.component';\nimport {TaminTagComponent} from './components/fields/tamin-tag/tamin-tag.component';\nimport {TaminPageNotFoundComponent} from './components/tamin-site/tamin-page-not-found/tamin-page-not-found.component';\nimport {TaminFieldLabelComponent} from './components/fields/tamin-field-label/tamin-field-label.component';\nimport {TaminSiteHeaderComponent} from './components/tamin-site/tamin-site-header/tamin-site-header.component';\nimport {TaminChartComponent} from './components/tamin-chart/tamin-chart.component';\nimport {TaminSiteFooterComponent} from './components/tamin-site/tamin-site-footer/tamin-site-footer.component';\nimport {TaminFieldStaticTextComponent} from './components/fields/tamin-field-static-text/tamin-field-static-text.component';\nimport {TaminDataGridComponent} from './components/tamin-data-grid/tamin-data-grid.component';\nimport {FieldBaseComponent} from './base/field-base.component';\nimport {MonitoringComponent} from './components/maintenance/monitoring/monitoring.component';\nimport {TaminMapComponent} from './components/tamin-map/tamin-map.component';\nimport {TaminFieldStaticPersianDateComponent} from './components/fields/tamin-field-static-persian-date/tamin-field-static-persian-date.component';\nimport {TaminPdfViewerComponent} from './components/tamin-pdf-viewer/tamin-pdf-viewer.component';\nimport {TaminWizardComponent} from './components/tamin-wizard/tamin-wizard/tamin-wizard.component';\nimport {TaminWizardItemComponent} from './components/tamin-wizard/tamin-wizard/tamin-wizard-item/tamin-wizard-item.component';\nimport {TaminMenuButtonComponent} from './components/tamin-menu-button/tamin-menu-button.component';\nimport {TaminProcessIndicatorComponent} from './components/tamin-process-indicator/tamin-process-indicator.component';\nimport {TaminFieldPasswordComponent} from './components/fields/tamin-field-password/tamin-field-password.component';\nimport {TaminFieldTextAreaComponent} from './components/fields/tamin-field-text-area/tamin-field-text-area.component';\nimport {PersianNumberPipe} from './pipes/persian-number.pipe';\nimport {PersianDateTimePipe} from './pipes/persian-date-time.pipe';\nimport {TaminPageBaseComponent} from './base/page-base.component';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {HttpClientModule} from '@angular/common/http';\nimport {LayoutModule} from '@angular/cdk/layout';\nimport { TaminDataGridActionMenuComponent } from './components/tamin-data-grid/tamin-data-grid-action-menu/tamin-data-grid-action-menu.component';\nimport { PickerContainerComponent } from './components/containers/picker-container/picker-container.component';\nimport { CallbackPipe } from './pipes/callback.pipe';\nimport { RibbonComponent } from './components/ribbon/ribbon.component';\nimport { TaminFieldPersianTextComponent } from './components/fields/tamin-field-persian-text/tamin-field-persian-text.component';\nimport { TaminDocumentViewerComponent } from './components/tamin-document-viewer/tamin-document-viewer.component';\nimport { ImageViewerComponent } from './components/tamin-document-viewer/image-viewer/image-viewer.component';\nimport { PdfViewerComponent } from './components/tamin-document-viewer/pdf-viewer/pdf-viewer.component';\nimport { TaminDocumentViewerModalComponent } from './components/tamin-document-viewer/tamin-document-viewer-modal/tamin-document-viewer-modal.component';\nimport { TaminImageGalleryComponent } from './components/tamin-image-gallery/tamin-image-gallery.component';\nimport { TaminFieldStaticMultilineTextComponent } from './components/fields/tamin-field-static-multiline-text/tamin-field-static-multiline-text.component';\nimport { TaminImageGalleryManagedComponent } from './components/tamin-image-gallery-managed/tamin-image-gallery-managed.component';\nimport { ImageEditorComponent } from './components/image-editor/image-editor.component';\nimport {TaminTabsComponent} from './components/tamin-tab/tabs/tabs.component';\nimport {TaminTabBodyComponent} from './components/tamin-tab/tab-body/tab-body.component';\nimport {TaminTabItemComponent} from './components/tamin-tab/tab-item/tab-item.component';\nimport {TaminTabLabelComponent} from './components/tamin-tab/tab-label/tab-label.component';\nimport { TaminFieldFileUploadComponent } from './components/fields/tamin-field-file-upload/tamin-field-file-upload.component';\nimport { TaminFieldCalculableComponent } from './components/fields/tamin-field-calculable/tamin-field-calculable.component';\nimport { TaminFieldEditableComponent } from './components/fields/tamin-field-editable/tamin-field-editable.component';\nimport { TaminFieldRadioButtonComponent } from './components/fields/tamin-field-radio-button/tamin-field-radio-button.component';\nimport { TaminFieldRadioButtonGroupComponent } from './components/fields/tamin-field-radio-button-group/tamin-field-radio-button-group.component';\nimport { TaminStepperComponent } from './components/tamin-stepper/tamin-stepper.component';\nimport { TaminStepperStepComponent } from './components/tamin-stepper/tamin-stepper-step/tamin-stepper-step.component';\nimport { FieldTxtComponent } from './components/tmn/field-txt/field-txt.component';\nimport {FieldNumComponent} from './components/tmn/field-txt/field-num.component';\nimport { TaminFieldStaticNumberComponent } from './components/fields/tamin-field-static-number/tamin-field-static-number.component';\n\n@NgModule({\n  declarations: [\n    TaminFieldAutoCompleteDataGridComponent,\n    PickerContainerComponent,\n    PickerContainerComponent,\n    TaminPersianDatePickerComponent,\n    TaminFieldNumberComponent,\n    TaminFieldComboBoxStaticComponent,\n    TaminFieldPersianDateComponent,\n    TaminFieldValidatorComponent,\n    TaminModalComponent,\n    TaminFieldNatioanlIdComponent,\n    TaminImageUploadComponent,\n    TaminFormControlComponent,\n    TaminAccordionGroupComponent,\n    TaminTabComponent,\n    TaminFieldMaskComponent,\n    TaminSiteTopMenuComponent,\n    TaminSiteBottomMenuComponent,\n    TaminDataPagerComponent,\n    TaminAccordionComponent,\n    TaminFieldCheckboxComponent,\n    TaminTabPanelComponent,\n    TaminFieldTextComponent,\n    TaminFieldComboBoxComponent,\n    TaminTagComponent,\n    TaminPageNotFoundComponent,\n    TaminFieldLabelComponent,\n    TaminSiteHeaderComponent,\n    TaminChartComponent,\n    TaminSiteFooterComponent,\n    TaminFieldStaticTextComponent,\n    TaminDataGridComponent,\n    FieldBaseComponent,\n    MonitoringComponent,\n    TaminFieldStaticPersianDateComponent,\n    TaminMapComponent,\n    TaminWizardComponent,\n    TaminWizardItemComponent,\n    TaminPdfViewerComponent,\n    TaminMenuButtonComponent,\n    TaminProcessIndicatorComponent,\n    TaminFieldPasswordComponent,\n    TaminFieldTextAreaComponent,\n    PersianNumberPipe,\n    PersianDateTimePipe,\n    TaminPageBaseComponent,\n    TaminDataGridActionMenuComponent,\n    PickerContainerComponent,\n    CallbackPipe,\n    RibbonComponent,\n    TaminFieldPersianTextComponent,\n    TaminDocumentViewerComponent,\n    ImageViewerComponent,\n    PdfViewerComponent,\n    TaminDocumentViewerModalComponent,\n    TaminImageGalleryComponent,\n    TaminFieldStaticMultilineTextComponent,\n    TaminImageGalleryManagedComponent,\n    ImageEditorComponent,\n    TaminTabsComponent,\n    TaminTabBodyComponent,\n    TaminTabItemComponent,\n    TaminTabLabelComponent,\n    TaminFieldFileUploadComponent,\n    TaminFieldCalculableComponent,\n    TaminFieldCalculableComponent,\n    TaminFieldEditableComponent,\n    TaminFieldRadioButtonComponent,\n    TaminFieldRadioButtonGroupComponent,\n    TaminStepperComponent,\n    TaminStepperStepComponent,\n    FieldTxtComponent,\n    FieldNumComponent,\n    TaminFieldStaticNumberComponent,\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    HttpClientModule,\n    LayoutModule\n\n  ],\n  exports: [\n    TaminFieldAutoCompleteDataGridComponent,\n    TaminPersianDatePickerComponent,\n    TaminFieldNumberComponent,\n    TaminFieldComboBoxStaticComponent,\n    TaminFieldPersianDateComponent,\n    TaminFieldValidatorComponent,\n    TaminModalComponent,\n    TaminFieldNatioanlIdComponent,\n    TaminImageUploadComponent,\n    TaminFormControlComponent,\n    TaminAccordionGroupComponent,\n    TaminTabComponent,\n    TaminFieldMaskComponent,\n    TaminSiteTopMenuComponent,\n    TaminSiteBottomMenuComponent,\n    TaminDataPagerComponent,\n    TaminAccordionComponent,\n    TaminFieldCheckboxComponent,\n    TaminTabPanelComponent,\n    TaminFieldTextComponent,\n    TaminFieldComboBoxComponent,\n    TaminTagComponent,\n    TaminPageNotFoundComponent,\n    TaminFieldLabelComponent,\n    TaminSiteHeaderComponent,\n    TaminChartComponent,\n    TaminSiteFooterComponent,\n    TaminFieldStaticTextComponent,\n    TaminDataGridComponent,\n    FieldBaseComponent,\n    MonitoringComponent,\n    TaminFieldStaticPersianDateComponent,\n    TaminMapComponent,\n    TaminWizardComponent,\n    TaminWizardItemComponent,\n    TaminPdfViewerComponent,\n    TaminMenuButtonComponent,\n    TaminProcessIndicatorComponent,\n    TaminFieldPasswordComponent,\n    TaminFieldTextAreaComponent,\n    PersianNumberPipe,\n    PersianDateTimePipe,\n    CallbackPipe,\n    TaminPageBaseComponent,\n    RibbonComponent,\n    TaminFieldPersianTextComponent,\n    TaminDocumentViewerComponent,\n    TaminDocumentViewerModalComponent,\n    TaminImageGalleryComponent,\n    TaminFieldStaticMultilineTextComponent,\n    TaminImageGalleryManagedComponent,\n    ImageEditorComponent,\n    TaminTabsComponent,\n    TaminTabBodyComponent,\n    TaminTabItemComponent,\n    TaminTabLabelComponent,\n    TaminFieldFileUploadComponent,\n    TaminFieldCalculableComponent,\n    TaminFieldEditableComponent,\n    TaminFieldRadioButtonComponent,\n    TaminFieldRadioButtonGroupComponent,\n    TaminStepperComponent,\n    TaminStepperStepComponent,\n    FieldTxtComponent,\n    FieldNumComponent,\n    TaminFieldStaticNumberComponent,\n  ]\n})\nexport class TaminFrameworkModule {\n}\n","/*\n  Created by: k_kaviani\n  Revised by: a_amiri\n*/\nexport enum SortDirection {\n  ASC = 'ASC',\n  DESC = 'DESC'\n}\n\nexport class SortParam {\n  property: string;\n  direction?: SortDirection;\n}\n\n","import {AbstractControl, ValidatorFn} from '@angular/forms';\r\nimport * as momentNs from 'jalali-moment';\r\n\r\nconst moment = momentNs;\r\n\r\n\r\nexport class TaminValidators {\r\n\r\n  static requiredNumber(control: AbstractControl): { [key: string]: any } | null {\r\n    const value = control.value;\r\n    if (value === undefined || value === null || value === '') {\r\n      return null;\r\n    }\r\n    if (Number(value) !== 0) {\r\n      return null;\r\n    }\r\n    return {'requiredNumber': false};\r\n  }\r\n\r\n  static nationalId(control: AbstractControl): { [key: string]: any } | null {\r\n    if (control.value === undefined || control.value === null || control.value === '') {\r\n      return undefined;\r\n    }\r\n\r\n    const value = control.value;\r\n\r\n    if (value.length !== 10 && value.length !== 13) {\r\n      return {'nationalId': false};\r\n    }\r\n\r\n    if (value.length === 10) {\r\n      if (value === '0000000000' ||\r\n        value === '1111111111' ||\r\n        value === '2222222222' ||\r\n        value === '3333333333' ||\r\n        value === '4444444444' ||\r\n        value === '5555555555' ||\r\n        value === '6666666666' ||\r\n        value === '7777777777' ||\r\n        value === '8888888888' ||\r\n        value === '9999999999'\r\n      ) {\r\n        return {'nationalId': false};\r\n      }\r\n\r\n      let sum = 0;\r\n\r\n      for (let i = 0; i < 9; i++) {\r\n        sum += value.charAt(i) * (10 - i);\r\n      }\r\n\r\n      const s = Math.floor(sum / 11);\r\n\r\n      const a = sum - s * 11;\r\n\r\n      const astr = a.toString();\r\n\r\n      const c = value.charAt(9);\r\n\r\n      const difa = (11 - a).toString();\r\n\r\n      return ((a === 0 && astr === c) || (a === 1 && c === '1') || (a > 1 && c === difa)) ? null : {'nationalId': false};\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  private static isNotPresent(control: AbstractControl): boolean {\r\n    const value = control.value;\r\n    if (value === undefined || value === null) {\r\n      return true;\r\n    }\r\n    return value === '';\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import {TaminActionColumn} from '../../models/tamin-action-column.model';\r\nimport {TaminDataColumn} from '../../models/tamin-data-column.model';\r\nimport {SearchParam} from '../../models/search-param.model';\r\nimport {SortParam} from '../../models/sort-param.model';\r\n\r\nexport class TaminDataGridConfiguration {\r\n  serviceUrl: string;\r\n  visibleColumns: TaminDataColumn[];\r\n  actionColumns: TaminActionColumn[];\r\n  searchParams: SearchParam[];\r\n  sortParams: SortParam[];\r\n  viewType: string;\r\n  showActionColumn: boolean;\r\n  rowEditable: string;\r\n  actionColumnCaption = '';\r\n  rowDeletable: string;\r\n  dataItems: any;\r\n  showFooter: string;\r\n  showPager: boolean;\r\n  pagerSize = 5;\r\n  loadDataOnInit = false;\r\n  pagerCurrentPage = 1;\r\n  id: string;\r\n  cellTranslator: Function;\r\n}\r\n","import {TaminActionColumn} from '../../models/tamin-action-column.model';\r\nimport {TaminDataColumn} from '../../models/tamin-data-column.model';\r\nimport {SearchParam} from '../../models/search-param.model';\r\nimport {SortParam} from '../../models/sort-param.model';\r\nimport {TaminDataGridConfiguration} from './tamin.data.grid.configuration';\r\n\r\nexport class TaminDataGridConfigurationFactory {\r\n  private _data = new TaminDataGridConfiguration();\r\n\r\n  public constructor() {\r\n  }\r\n\r\n  public addUrl(url: string): this {\r\n    this._data.serviceUrl = url;\r\n    return this;\r\n  }\r\n\r\n  public addVisibleColumn(column: TaminDataColumn | object): this {\r\n    this._data.visibleColumns.push(<TaminDataColumn>column);\r\n    return this;\r\n  }\r\n\r\n  public clearVisibleColumns(): this {\r\n    this._data.visibleColumns = [];\r\n    return this;\r\n  }\r\n\r\n  public addActionColumn(column: TaminActionColumn | object): this {\r\n    this._data.actionColumns.push(<TaminActionColumn>column);\r\n    return this;\r\n  }\r\n\r\n  public clearActionColumns(): this {\r\n    this._data.actionColumns = [];\r\n    return this;\r\n  }\r\n\r\n  public addSearchParam(param: SearchParam | object): this {\r\n    this._data.searchParams.push(<SearchParam>param);\r\n    return this;\r\n  }\r\n\r\n  public clearSearchParams(): this {\r\n    this._data.searchParams = [];\r\n    return this;\r\n  }\r\n\r\n  public addSortParam(param: SortParam | object): this {\r\n    this._data.sortParams.push(<SortParam>param);\r\n    return this;\r\n  }\r\n\r\n  public clearSortParams(): this {\r\n    this._data.sortParams = [];\r\n    return this;\r\n  }\r\n\r\n  public setViewType(viewType: string): this {\r\n    this._data.viewType = viewType;\r\n    return this;\r\n  }\r\n\r\n  public setShowActionColumn(val: boolean): this {\r\n    this._data.showActionColumn = val;\r\n    return this;\r\n  }\r\n\r\n  public setActionColumnCaption(caption: string): this {\r\n    this._data.actionColumnCaption = caption;\r\n    return this;\r\n  }\r\n\r\n  public setId(id: string): this {\r\n    this._data.id = id;\r\n    return this;\r\n  }\r\n\r\n  public setRowEditable(val: boolean): this {\r\n    this._data.rowEditable = val.toString();\r\n    return this;\r\n  }\r\n\r\n  public setRowDeletable(val: boolean): this {\r\n    this._data.rowDeletable = val.toString();\r\n    return this;\r\n  }\r\n\r\n  public setDataItems(items: any): this {\r\n    this._data.dataItems = items;\r\n    return this;\r\n  }\r\n\r\n  public setShowFooter(val: boolean): this {\r\n    this._data.showFooter = val.toString();\r\n    return this;\r\n  }\r\n\r\n  public setShowPager(val: boolean): this {\r\n    this._data.showPager = val;\r\n    return this;\r\n  }\r\n\r\n  public setPagerSize(val: number): this {\r\n    this._data.pagerSize = val;\r\n    return this;\r\n  }\r\n\r\n  public setFirstLoad(val: boolean): this {\r\n    this._data.loadDataOnInit = val;\r\n    return this;\r\n  }\r\n\r\n  public setPagerCurrentPage(val: number): this {\r\n    this._data.pagerCurrentPage = val;\r\n    return this;\r\n  }\r\n\r\n  public getData(): TaminDataGridConfiguration {\r\n    return this._data;\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\nimport {HttpErrorResponse, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from '@angular/common/http';\nimport {Observable, throwError} from 'rxjs';\nimport {TaminSecurityService} from './tamin-security/tamin-security.service';\nimport {catchError} from 'rxjs/operators';\n\ndeclare var alertify: any;\n\n@Injectable({providedIn: 'root'})\nexport class AuthInterceptorService implements HttpInterceptor {\n\n  constructor(private taminSecurityService: TaminSecurityService) {\n  }\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    if (this.taminSecurityService.hasToken()) {\n      const token = this.taminSecurityService.getToken();\n      req = req.clone({\n        setHeaders: {Authorization: `Bearer ` + token}\n      });\n    }\n\n    return next.handle(req)\n      .pipe(\n        catchError((error: HttpErrorResponse) => {\n          if (error.error instanceof ErrorEvent) {\n            // client-side error\n          } else {\n            // server-side error\n            if (error.status === 401) {\n              alertify.alert('', '              ', () => {\n\n                const adressParts = window.location.href.split('/#/');\n                let redirectUrl = '';\n\n                if (adressParts.length === 2) {\n                  redirectUrl = adressParts[1];\n                }\n                this.taminSecurityService.redirectToLogin(redirectUrl);\n              });\n            }\n          }\n          return throwError(error);\n        })\n      );\n  }\n}\n\n\n\n\n/*\nimport {Injectable} from '@angular/core';\nimport {HttpClient, HttpErrorResponse, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from '@angular/common/http';\nimport {Observable, throwError} from 'rxjs';\nimport {TaminSecurityService} from './tamin-security/tamin-security.service';\nimport {catchError} from 'rxjs/operators';\nimport {ConstantsService} from './constants.service';\n\n\ndeclare var alertify: any;\n\n@Injectable({providedIn: 'root'})\nexport class AuthInterceptorService implements HttpInterceptor {\n\n  constructor(private taminSecurityService: TaminSecurityService, private httpClient: HttpClient, private constantsService: ConstantsService) {\n  }\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    if (this.taminSecurityService.hasToken()) {\n      const token = this.taminSecurityService.getToken();\n      req = req.clone({\n        setHeaders: {Authorization: `Bearer ` + token}\n      });\n    }\n\n    return next.handle(req)\n      .pipe(\n        catchError((error: HttpErrorResponse) => {\n          if (error.error instanceof ErrorEvent) {\n            // client-side error\n          } else {\n            // server-side error\n            if (error.status === 401) {\n/!*\n              if (this.taminSecurityService.hasRefreshToken()) {\n\n                this.taminSecurityService.reNewToken().then(value => {\n                  next.handle(req);\n                }).catch(reason => {\n                  alertify.alert('', this.constantsService.getNetworkErrorMessage(), () => {\n                  });\n                });\n\n              } else {\n*!/\n                const adressParts = window.location.href.split('/#/');\n                let redirectUrl = '';\n\n                if (adressParts.length === 2) {\n                  redirectUrl = adressParts[1];\n                }\n                this.taminSecurityService.redirectToLogin(redirectUrl);\n              }\n            }\n          // }\n          return throwError(error);\n        })\n      );\n  }\n}\n*/\n","import {Injectable} from '@angular/core';\nimport {Platform} from '@angular/cdk/platform';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PlatformService {\n\n  constructor(private platform: Platform) {\n  }\n\n  isAndroid(): boolean {\n    return this.platform.ANDROID;\n  }\n\n  isIOS(): boolean {\n    return this.platform.IOS;\n  }\n\n  isBlink(): boolean {\n    return this.platform.BLINK;\n  }\n\n  isEdge(): boolean {\n    return this.platform.EDGE;\n  }\n\n  isFirefox(): boolean {\n    return this.platform.FIREFOX;\n  }\n\n  isBrowser(): boolean {\n    return this.platform.isBrowser;\n  }\n\n  isSafari(): boolean {\n    return this.platform.SAFARI;\n  }\n\n  isTrident(): boolean {\n    return this.platform.TRIDENT;\n  }\n\n  isWebkit(): boolean {\n    return this.platform.WEBKIT;\n  }\n}\n"]}