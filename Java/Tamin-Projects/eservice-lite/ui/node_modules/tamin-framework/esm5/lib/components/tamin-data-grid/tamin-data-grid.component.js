/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, Output, ViewChild } from '@angular/core';
import { DataColumnViewType } from '../../models/tamin-data-column.model';
import { GenericRestService } from '../../services/generic-rest-service/generic-rest.service';
import { TaminDataGridConfiguration } from '../../helpers/tamin.data.grid.configuration/tamin.data.grid.configuration';
import { TaminPersianService } from '../../services/persian-service/tamin-persian.service';
import { OverlayService } from '../../services/overlay/overlay.service';
import { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';
import { TaminRestService } from '../../services/tamin-rest-service/tamin-rest.service';
import { PersianNumberPipe } from '../../pipes/persian-number.pipe';
import { Error } from 'tslint/lib/error';
import { ConstantsService } from '../../services/constants.service';
var TaminDataGridComponent = /** @class */ (function () {
    function TaminDataGridComponent(genericRestService, changeDetectorRef, taminRestService, taminPersianService, persianNumberPipe, breakpointObserver, constants, overlayService) {
        this.genericRestService = genericRestService;
        this.changeDetectorRef = changeDetectorRef;
        this.taminRestService = taminRestService;
        this.taminPersianService = taminPersianService;
        this.persianNumberPipe = persianNumberPipe;
        this.breakpointObserver = breakpointObserver;
        this.constants = constants;
        this.overlayService = overlayService;
        this.actionColumnCaption = 'عملیات';
        this.selectedDataItems = [];
        this.pagerSize = 5;
        this.id = '';
        this.loadDataOnInit = false;
        this.showLoadOverlay = true;
        this.showHover = false;
        this.pagerCurrentPage = 1;
        this.allowBreakPoints = true;
        this.itemSelect = new EventEmitter();
        this.itemAction = new EventEmitter();
        this.beforeRefreshData = new EventEmitter();
        this.afterRefreshData = new EventEmitter();
        this.refreshDataError = new EventEmitter();
        this.renderMode = 'desktop';
        this.hasError = false;
        this.loading = false;
        this.breakPoints = [Breakpoints.Small, Breakpoints.Handset];
        this._overlay = null;
    }
    Object.defineProperty(TaminDataGridComponent.prototype, "configuration", {
        set: /**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            if (data) {
                this.serviceUrl = data.serviceUrl;
                this.visibleColumns = data.visibleColumns;
                this.actionColumns = data.actionColumns;
                this.searchParams = data.searchParams;
                this.sortParams = data.sortParams;
                this.viewType = data.viewType;
                this.showActionColumn = data.showActionColumn;
                this.actionColumnCaption = data.actionColumnCaption;
                this.rowEditable = data.rowEditable;
                this.rowDeletable = data.rowDeletable;
                this.dataItems = data.dataItems;
                this.showFooter = data.showFooter;
                this.showPager = data.showPager;
                this.pagerSize = data.pagerSize;
                this.loadDataOnInit = data.loadDataOnInit;
                this.pagerCurrentPage = data.pagerCurrentPage;
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    TaminDataGridComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.errorMessage = this.constants.getNetworkErrorMessage();
        this.breakpointObserver
            .observe(this.breakPoints)
            .subscribe((/**
         * @param {?} state
         * @return {?}
         */
        function (state) {
            if (!_this.allowBreakPoints) {
                return;
            }
            if (state.matches) {
                if (_this.renderMode !== 'mobile') {
                    _this.renderMode = 'mobile';
                }
            }
            else {
                if (_this.renderMode !== 'desktop') {
                    _this.renderMode = 'desktop';
                }
            }
        }));
        if (this.sortParams && this.sortParams.length !== 0) {
            this.sortColumnName = this.sortParams[0].property;
            this.sortColumnMethod = this.sortParams[0].direction;
        }
    };
    /**
     * @param {?=} showOverlay
     * @return {?}
     */
    TaminDataGridComponent.prototype.refreshData = /**
     * @param {?=} showOverlay
     * @return {?}
     */
    function (showOverlay) {
        var _this = this;
        if (showOverlay === void 0) { showOverlay = true; }
        return new Promise((/**
         * @param {?} resolve
         * @param {?} reject
         * @return {?}
         */
        function (resolve, reject) {
            if (_this.loading) {
                return;
            }
            _this.hasError = false;
            if (!_this.serviceUrl || _this.serviceUrl === '') {
                reject(new Error('ServiceUrl has not value'));
                return;
            }
            _this.beforeRefreshData.emit();
            _this.loading = true;
            if (_this.showLoadOverlay && showOverlay) {
                if (_this._overlay === null) {
                    _this._overlay = _this.overlayService.show(_this.gridContainer.nativeElement);
                }
            }
            /** @type {?} */
            var sortParams = [];
            if (_this.sortColumnName) {
                sortParams.push({
                    property: _this.sortColumnName,
                    direction: _this.sortColumnMethod
                });
            }
            if (!_this.pagerSize || _this.pagerSize <= 0) {
                _this.pagerSize = 1000; // Max allowed
                _this.taminRestService.getAll(_this.serviceUrl, _this.searchParams, sortParams)
                    .then((/**
                 * @param {?} value
                 * @return {?}
                 */
                function (value) {
                    if (_this.showLoadOverlay && showOverlay && _this._overlay !== null) {
                        _this.overlayService.hide(_this._overlay);
                        _this._overlay = null;
                    }
                    _this.loading = false;
                    if (value.data !== undefined && value.data == null) {
                        value.data.list = [];
                        value.data.total = 0;
                    }
                    _this.dataItems = value.data.list;
                    _this.totalRows = value.data.total;
                    _this.totalPages = Math.ceil(_this.totalRows / _this.pagerSize);
                    _this.pagerCurrentPage = _this.totalPages > 0 ? 1 : 0;
                    _this.afterRefreshData.emit();
                    resolve(value);
                }))
                    .catch((/**
                 * @param {?} reason
                 * @return {?}
                 */
                function (reason) {
                    if (_this.showLoadOverlay && showOverlay && _this._overlay !== null) {
                        _this.overlayService.hide(_this._overlay);
                        _this._overlay = null;
                    }
                    _this.dataItems = [];
                    _this.loading = false;
                    _this.hasError = true;
                    _this.refreshDataError.emit(reason);
                    reject(reason);
                }));
            }
            else {
                _this.taminRestService.getPage(_this.serviceUrl, _this.pagerCurrentPage, _this.pagerSize, _this.searchParams, sortParams)
                    .then((/**
                 * @param {?} value
                 * @return {?}
                 */
                function (value) {
                    if (_this.showLoadOverlay && showOverlay && _this._overlay !== null) {
                        _this.overlayService.hide(_this._overlay);
                        _this._overlay = null;
                    }
                    _this.loading = false;
                    _this.dataItems = value.data.list;
                    _this.totalRows = value.data.total;
                    _this.totalPages = Math.ceil(_this.totalRows / _this.pagerSize);
                    _this.afterRefreshData.emit();
                    resolve();
                }))
                    .catch((/**
                 * @param {?} reason
                 * @return {?}
                 */
                function (reason) {
                    if (_this.showLoadOverlay && showOverlay && _this._overlay !== null) {
                        _this.overlayService.hide(_this._overlay);
                        _this._overlay = null;
                    }
                    _this.dataItems = [];
                    _this.loading = false;
                    _this.hasError = true;
                    _this.refreshDataError.emit(reason);
                    reject(reason);
                }));
            }
        }));
    };
    /**
     * @param {?} dataItem
     * @return {?}
     */
    TaminDataGridComponent.prototype.onSelectItem = /**
     * @param {?} dataItem
     * @return {?}
     */
    function (dataItem) {
        this.selectedDataItem = dataItem;
        this.itemSelect.emit(dataItem);
    };
    /**
     * @param {?} dataItem
     * @param {?} event
     * @return {?}
     */
    TaminDataGridComponent.prototype.onItemCheckBoxClick = /**
     * @param {?} dataItem
     * @param {?} event
     * @return {?}
     */
    function (dataItem, event) {
        if (this.selectedDataItems.indexOf(dataItem) === -1 && event.target.checked) {
            this.selectedDataItems.push(dataItem);
        }
        if (!event.target.checked) {
            /** @type {?} */
            var index = this.selectedDataItems.indexOf(dataItem, 0);
            if (index > -1) {
                this.selectedDataItems.splice(index, 1);
            }
        }
    };
    /**
     * @param {?} dataItem
     * @param {?} actionCell
     * @return {?}
     */
    TaminDataGridComponent.prototype.onActionClicked = /**
     * @param {?} dataItem
     * @param {?} actionCell
     * @return {?}
     */
    function (dataItem, actionCell) {
        this.selectedDataItem = dataItem;
        this.itemAction.emit({ dataItem: dataItem, actionCell: actionCell });
    };
    /**
     * @param {?} pagerCurrentPage
     * @return {?}
     */
    TaminDataGridComponent.prototype.onPagerPageChanged = /**
     * @param {?} pagerCurrentPage
     * @return {?}
     */
    function (pagerCurrentPage) {
        this.pagerCurrentPage = pagerCurrentPage;
        this.refreshData();
    };
    /**
     * @param {?} dataItem
     * @param {?} cell
     * @param {?} index
     * @return {?}
     */
    TaminDataGridComponent.prototype.getDataItemString = /**
     * @param {?} dataItem
     * @param {?} cell
     * @param {?} index
     * @return {?}
     */
    function (dataItem, cell, index) {
        /** @type {?} */
        var result = dataItem;
        if (cell.columnViewType !== DataColumnViewType.RowNumber) {
            /** @type {?} */
            var fields = cell.columnName.split('.');
            for (var i = 0; i < fields.length; i++) {
                if (!result[fields[i]]) {
                    result = '';
                }
                else {
                    result = result[fields[i]];
                }
            }
        }
        switch (cell.columnViewType) {
            case DataColumnViewType.Label:
                return result;
            case DataColumnViewType.ThousandSeperated:
                /** @type {?} */
                var parts = result.toString().split('.');
                parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ',');
                return parts.join('.');
            case DataColumnViewType.RowNumber:
                return (index + 1 + (this.pagerSize * (this.pagerCurrentPage - 1))).toString();
            case DataColumnViewType.PersianDate:
                try {
                    /** @type {?} */
                    var date = new Date(result);
                    return this.taminPersianService.getPersianDate(date);
                }
                catch (e) {
                    return 'خطا در تبدیل تاریخ';
                }
            case DataColumnViewType.Custom:
                return cell.columnTranslator(result);
            case DataColumnViewType.CustomRow:
                return cell.columnTranslator(dataItem, cell.columnName);
        }
    };
    /**
     * @param {?} dataItem
     * @param {?} cell
     * @return {?}
     */
    TaminDataGridComponent.prototype.getDataItemAction = /**
     * @param {?} dataItem
     * @param {?} cell
     * @return {?}
     */
    function (dataItem, cell) {
        if (!cell.columnStyle) {
            return '';
        }
        /** @type {?} */
        var fields = cell.columnName.split('.');
        /** @type {?} */
        var result = dataItem;
        for (var i = 0; i < fields.length; i++) {
            if (!result[fields[i]]) {
                result = '-';
            }
            else {
                result = result[fields[i]];
            }
        }
        return cell.columnStyle(result);
    };
    /**
     * @private
     * @param {?} item
     * @param {?} column
     * @param {?} index
     * @return {?}
     */
    TaminDataGridComponent.prototype.cellRendererSelector = /**
     * @private
     * @param {?} item
     * @param {?} column
     * @param {?} index
     * @return {?}
     */
    function (item, column, index) {
        if (column.columnViewType === DataColumnViewType.RowNumber) {
            return this.getDataItemString(item[column.columnName], column, index);
        }
        if (this.cellRenderer) {
            /** @type {?} */
            var result = this.cellRenderer(item, column);
            if (result.handled) {
                return result.data;
            }
        }
        return this.getDataItemString(item, column, index);
    };
    /**
     * @param {?} item
     * @param {?} column
     * @param {?} i
     * @return {?}
     */
    TaminDataGridComponent.prototype.generateContent = /**
     * @param {?} item
     * @param {?} column
     * @param {?} i
     * @return {?}
     */
    function (item, column, i) {
        if (/<\/?[a-z][\s\S]*>/i.test(item)) {
            return this.cellRendererSelector(encodeURIComponent(item), column, i);
        }
        return this.cellRendererSelector(item, column, i);
    };
    /**
     * @return {?}
     */
    TaminDataGridComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        if (this.loadDataOnInit) {
            this.refreshData();
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    TaminDataGridComponent.prototype.onActionMenuItemClicked = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.onSelectItem(event.item);
        this.itemAction.emit(event);
    };
    /**
     * @param {?} item
     * @param {?} column
     * @return {?}
     */
    TaminDataGridComponent.prototype.getCellStylerResult = /**
     * @param {?} item
     * @param {?} column
     * @return {?}
     */
    function (item, column) {
        return this.cellStyler ? this.cellStyler(item, column) : '';
    };
    /**
     * @param {?} item
     * @return {?}
     */
    TaminDataGridComponent.prototype.getRowStylerResult = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        return this.rowStyler ? this.rowStyler(item) : '';
    };
    /**
     * @param {?} item
     * @param {?} actionCell
     * @return {?}
     */
    TaminDataGridComponent.prototype.actionRender = /**
     * @param {?} item
     * @param {?} actionCell
     * @return {?}
     */
    function (item, actionCell) {
        if (this.actionRenderer) {
            return this.actionRenderer(item, actionCell);
        }
        return actionCell;
    };
    /**
     * @param {?} column
     * @return {?}
     */
    TaminDataGridComponent.prototype.onSort = /**
     * @param {?} column
     * @return {?}
     */
    function (column) {
        if (this.sortColumnName === column.columnName) {
            this.sortColumnMethod = this.sortColumnMethod === 'ASC' ? 'DESC' : 'ASC';
        }
        if (this.sortColumnName !== column.columnName) {
            this.sortColumnName = column.columnName;
            this.sortColumnMethod = 'ASC';
        }
        this.refreshData();
    };
    TaminDataGridComponent.decorators = [
        { type: Component, args: [{
                    selector: 'tamin-data-grid',
                    template: "<div #gridContainer>\n  <div *ngIf=\"renderMode === 'desktop'\">\n    <div class=\"gridContainer\">\n      <div *ngIf=\"viewType === 'GridView'\" style=\"width: 100%;\">\n        <table class=\"desktop-table\">\n          <thead>\n          <tr>\n            <ng-container *ngFor=\"let column of visibleColumns\">\n              <ng-container *ngIf=\"column.columnSortable\">\n                <th (click)=\"onSort(column)\">\n                  <span>{{column.columnCaption}}</span>\n                  <i *ngIf=\"column.columnViewType !== 'RowNumber'\" class=\"sortable\"\n                     [class.icon-sort]=\"sortColumnName !== column.columnName\"\n                     [class.icon-sort-down]=\"sortColumnName === column.columnName && sortColumnMethod == 'ASC'\"\n                     [class.icon-sort-up]=\"sortColumnName === column.columnName && sortColumnMethod == 'DESC'\"></i>\n                </th>\n              </ng-container>\n              <ng-container *ngIf=\"!column.columnSortable\">\n                <th>\n                  <span>{{column.columnCaption}}</span>\n                </th>\n              </ng-container>\n            </ng-container>\n            <th *ngIf=\"showActionColumn\" style=\"text-align: center; cursor: auto\">{{actionColumnCaption}}</th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr *ngIf=\"hasError\">\n            <td [attr.colspan]=\"visibleColumns.length + (showActionColumn ? 1 : 0)\">\n              <div class=\"alert alert-danger\" [innerHTML]=\"errorMessage\"></div>\n            </td>\n          </tr>\n          <tr *ngIf=\"dataItems && dataItems.length === 0 && !hasError\">\n            <td [attr.colspan]=\"visibleColumns.length + (showActionColumn ? 1 : 0)\">\n              <div class=\"alert alert-info\">\u0627\u0637\u0644\u0627\u0639\u0627\u062A\u06CC \u0628\u0631\u0627\u06CC \u0646\u0645\u0627\u06CC\u0634 \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F</div>\n            </td>\n          </tr>\n          <tr *ngFor=\"let item of dataItems; let i = index\"\n              [class.row-data]=\"showHover\"\n              [class.selected]=\"item === selectedDataItem\"\n              [ngStyle]=\"getRowStylerResult(item)\">\n            <td *ngFor=\"let column of visibleColumns\"\n                [class.row-number-column]=\"column.columnViewType == 'RowNumber'\"\n                [ngStyle]=\"getCellStylerResult(item, column)\"\n                [innerHtml]=\"generateContent(item, column, i)\"\n                (click)=\"onSelectItem(item)\">\n            </td>\n            <td *ngIf=\"showActionColumn\" class=\"action-column\">\n              <tamin-data-grid-action-menu [dataItem]=\"item\" [actionColumns]=\"actionRender(item, actionColumns)\"\n                                           (menuItemClicked)=\"onActionMenuItemClicked($event)\"></tamin-data-grid-action-menu>\n            </td>\n          </tr>\n          </tbody>\n          <tfoot *ngIf=\"showPager\">\n          <tr>\n            <td [attr.colspan]=\"visibleColumns.length + (showActionColumn ? 1 : 0)\" style=\"text-align: -webkit-center;\">\n              <tamin-data-pager\n                [pagerSize]=\"pagerSize\"\n                [(pagerCurrentPage)]=\"pagerCurrentPage\"\n                [pagerTotal]=\"totalPages\"\n                (refreshData)=\"refreshData()\"\n                (pageChanged)=\"onPagerPageChanged($event)\">\n              </tamin-data-pager>\n            </td>\n          </tr>\n          </tfoot>\n        </table>\n      </div>\n    </div>\n  </div>\n  <div *ngIf=\"renderMode === 'mobile'\">\n    <table class=\"mobile-table\">\n      <tbody *ngIf=\"hasError\">\n      <tr>\n        <td [attr.colspan]=\"visibleColumns.length\">\n          <div class=\"alert alert-danger\">\u062E\u0637\u0627 \u062F\u0631 \u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A</div>\n        </td>\n      </tr>\n      </tbody>\n      <tbody *ngIf=\"!hasError\">\n      <ng-container *ngFor=\"let item of dataItems; let i = index\">\n        <ng-container *ngFor=\"let column of visibleColumns\">\n          <tr [class.selected]=\"item === selectedDataItem\" (click)=\"onSelectItem(item)\">\n            <td [ngClass]=\"{'odd':i % 2 == 0, 'even':i % 2 != 0}\" [class.selected]=\"item === selectedDataItem\"\n                [ngStyle]=\"getRowStylerResult(item)\">{{column.columnCaption}}\n            </td>\n            <td\n              [ngClass]=\"{'odd':i % 2 == 0, 'even':i % 2 != 0}\"\n              [class.selected]=\"item === selectedDataItem\"\n              [ngStyle]=\"getCellStylerResult(item,column)\"\n              (click)=\"onSelectItem(item)\"\n              [innerHtml]=\"generateContent(item, column, i)\">\n            </td>\n          </tr>\n        </ng-container>\n        <tr *ngIf=\"showActionColumn\">\n          <td [ngClass]=\"{'odd':i % 2 == 0, 'even':i % 2 != 0}\" [class.selected]=\"item === selectedDataItem\"\n              [ngStyle]=\"getRowStylerResult(item)\">{{actionColumnCaption}}\n          </td>\n          <td [ngClass]=\"{'odd':i % 2 == 0, 'even':i % 2 != 0}\" [class.selected]=\"item === selectedDataItem\">\n            <tamin-data-grid-action-menu\n              [dataItem]=\"item\"\n              (dropdownClicked)=\"onSelectItem(item)\"\n              [actionColumns]=\"actionRender(item, actionColumns)\"\n              (menuItemClicked)=\"onActionMenuItemClicked($event)\">\n            </tamin-data-grid-action-menu>\n          </td>\n        </tr>\n      </ng-container>\n      <tr *ngIf=\"showPager\">\n        <td colspan=\"2\" style=\"text-align: -webkit-center\">\n          <tamin-data-pager\n            [pagerSize]=\"pagerSize\"\n            [(pagerCurrentPage)]=\"pagerCurrentPage\"\n            [pagerTotal]=\"totalPages\"\n            (pageChanged)=\"onPagerPageChanged($event)\"\n            (refreshData)=\"refreshData()\">\n          </tamin-data-pager>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n",
                    styles: [".datagrid-checkbox{height:16px;vertical-align:middle}.gridContainer{position:relative;margin:3px}.fixed-col{position:absolute}.odd{background-color:#efefef}.even{background-color:#fff}.selected{background-color:#d1d1d1;font-weight:bolder}.action-column,.row-number-column{width:1%;white-space:nowrap;text-align:center}th{text-align:right;white-space:nowrap}th.sortable{cursor:pointer}th.sortable i{margin-right:5px}"]
                }] }
    ];
    /** @nocollapse */
    TaminDataGridComponent.ctorParameters = function () { return [
        { type: GenericRestService },
        { type: ChangeDetectorRef },
        { type: TaminRestService },
        { type: TaminPersianService },
        { type: PersianNumberPipe },
        { type: BreakpointObserver },
        { type: ConstantsService },
        { type: OverlayService }
    ]; };
    TaminDataGridComponent.propDecorators = {
        configuration: [{ type: Input }],
        serviceUrl: [{ type: Input }],
        visibleColumns: [{ type: Input }],
        actionColumns: [{ type: Input }],
        searchParams: [{ type: Input }],
        sortParams: [{ type: Input }],
        viewType: [{ type: Input }],
        showActionColumn: [{ type: Input }],
        actionColumnCaption: [{ type: Input }],
        rowEditable: [{ type: Input }],
        rowDeletable: [{ type: Input }],
        multiSelectable: [{ type: Input }],
        dataItems: [{ type: Input }],
        selectedDataItem: [{ type: Input }],
        selectedDataItems: [{ type: Input }],
        showFooter: [{ type: Input }],
        showPager: [{ type: Input }],
        pagerSize: [{ type: Input }],
        id: [{ type: Input }],
        loadDataOnInit: [{ type: Input }],
        showLoadOverlay: [{ type: Input }],
        showHover: [{ type: Input }],
        pagerCurrentPage: [{ type: Input }],
        errorMessage: [{ type: Input }],
        allowBreakPoints: [{ type: Input }],
        itemSelect: [{ type: Output }],
        itemAction: [{ type: Output }],
        beforeRefreshData: [{ type: Output }],
        afterRefreshData: [{ type: Output }],
        refreshDataError: [{ type: Output }],
        gridContainer: [{ type: ViewChild, args: ['gridContainer',] }]
    };
    return TaminDataGridComponent;
}());
export { TaminDataGridComponent };
if (false) {
    /** @type {?} */
    TaminDataGridComponent.prototype.serviceUrl;
    /** @type {?} */
    TaminDataGridComponent.prototype.visibleColumns;
    /** @type {?} */
    TaminDataGridComponent.prototype.actionColumns;
    /** @type {?} */
    TaminDataGridComponent.prototype.searchParams;
    /** @type {?} */
    TaminDataGridComponent.prototype.sortParams;
    /** @type {?} */
    TaminDataGridComponent.prototype.viewType;
    /** @type {?} */
    TaminDataGridComponent.prototype.showActionColumn;
    /** @type {?} */
    TaminDataGridComponent.prototype.actionColumnCaption;
    /** @type {?} */
    TaminDataGridComponent.prototype.rowEditable;
    /** @type {?} */
    TaminDataGridComponent.prototype.rowDeletable;
    /** @type {?} */
    TaminDataGridComponent.prototype.multiSelectable;
    /** @type {?} */
    TaminDataGridComponent.prototype.dataItems;
    /** @type {?} */
    TaminDataGridComponent.prototype.selectedDataItem;
    /** @type {?} */
    TaminDataGridComponent.prototype.selectedDataItems;
    /** @type {?} */
    TaminDataGridComponent.prototype.showFooter;
    /** @type {?} */
    TaminDataGridComponent.prototype.showPager;
    /** @type {?} */
    TaminDataGridComponent.prototype.pagerSize;
    /** @type {?} */
    TaminDataGridComponent.prototype.id;
    /** @type {?} */
    TaminDataGridComponent.prototype.loadDataOnInit;
    /** @type {?} */
    TaminDataGridComponent.prototype.showLoadOverlay;
    /** @type {?} */
    TaminDataGridComponent.prototype.showHover;
    /** @type {?} */
    TaminDataGridComponent.prototype.pagerCurrentPage;
    /** @type {?} */
    TaminDataGridComponent.prototype.errorMessage;
    /** @type {?} */
    TaminDataGridComponent.prototype.allowBreakPoints;
    /** @type {?} */
    TaminDataGridComponent.prototype.itemSelect;
    /** @type {?} */
    TaminDataGridComponent.prototype.itemAction;
    /** @type {?} */
    TaminDataGridComponent.prototype.beforeRefreshData;
    /** @type {?} */
    TaminDataGridComponent.prototype.afterRefreshData;
    /** @type {?} */
    TaminDataGridComponent.prototype.refreshDataError;
    /** @type {?} */
    TaminDataGridComponent.prototype.gridContainer;
    /** @type {?} */
    TaminDataGridComponent.prototype.renderMode;
    /** @type {?} */
    TaminDataGridComponent.prototype.hasError;
    /** @type {?} */
    TaminDataGridComponent.prototype.sortColumnName;
    /** @type {?} */
    TaminDataGridComponent.prototype.sortColumnMethod;
    /** @type {?} */
    TaminDataGridComponent.prototype.cellRenderer;
    /** @type {?} */
    TaminDataGridComponent.prototype.actionRenderer;
    /** @type {?} */
    TaminDataGridComponent.prototype.cellStyler;
    /** @type {?} */
    TaminDataGridComponent.prototype.rowStyler;
    /** @type {?} */
    TaminDataGridComponent.prototype.loading;
    /** @type {?} */
    TaminDataGridComponent.prototype.breakPoints;
    /** @type {?} */
    TaminDataGridComponent.prototype.totalPages;
    /** @type {?} */
    TaminDataGridComponent.prototype.totalRows;
    /**
     * @type {?}
     * @private
     */
    TaminDataGridComponent.prototype._overlay;
    /**
     * @type {?}
     * @private
     */
    TaminDataGridComponent.prototype.genericRestService;
    /**
     * @type {?}
     * @private
     */
    TaminDataGridComponent.prototype.changeDetectorRef;
    /**
     * @type {?}
     * @private
     */
    TaminDataGridComponent.prototype.taminRestService;
    /**
     * @type {?}
     * @private
     */
    TaminDataGridComponent.prototype.taminPersianService;
    /**
     * @type {?}
     * @private
     */
    TaminDataGridComponent.prototype.persianNumberPipe;
    /** @type {?} */
    TaminDataGridComponent.prototype.breakpointObserver;
    /** @type {?} */
    TaminDataGridComponent.prototype.constants;
    /**
     * @type {?}
     * @private
     */
    TaminDataGridComponent.prototype.overlayService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFtaW4tZGF0YS1ncmlkLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL3RhbWluLWZyYW1ld29yay8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3RhbWluLWRhdGEtZ3JpZC90YW1pbi1kYXRhLWdyaWQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQWdCLGlCQUFpQixFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBVSxNQUFNLEVBQUUsU0FBUyxFQUFDLE1BQU0sZUFBZSxDQUFDO0FBQ3RJLE9BQU8sRUFBQyxrQkFBa0IsRUFBa0IsTUFBTSxzQ0FBc0MsQ0FBQztBQUV6RixPQUFPLEVBQUMsa0JBQWtCLEVBQUMsTUFBTSwwREFBMEQsQ0FBQztBQUM1RixPQUFPLEVBQUMsMEJBQTBCLEVBQUMsTUFBTSwyRUFBMkUsQ0FBQztBQUNySCxPQUFPLEVBQUMsbUJBQW1CLEVBQUMsTUFBTSxzREFBc0QsQ0FBQztBQUN6RixPQUFPLEVBQUMsY0FBYyxFQUFDLE1BQU0sd0NBQXdDLENBQUM7QUFDdEUsT0FBTyxFQUFDLGtCQUFrQixFQUFFLFdBQVcsRUFBa0IsTUFBTSxxQkFBcUIsQ0FBQztBQUNyRixPQUFPLEVBQUMsZ0JBQWdCLEVBQUMsTUFBTSxzREFBc0QsQ0FBQztBQUN0RixPQUFPLEVBQUMsaUJBQWlCLEVBQUMsTUFBTSxpQ0FBaUMsQ0FBQztBQUNsRSxPQUFPLEVBQUMsS0FBSyxFQUFDLE1BQU0sa0JBQWtCLENBQUM7QUFDdkMsT0FBTyxFQUFDLGdCQUFnQixFQUFDLE1BQU0sa0NBQWtDLENBQUM7QUFFbEU7SUF3RUUsZ0NBQ1Usa0JBQTJDLEVBQzNDLGlCQUFvQyxFQUNwQyxnQkFBa0MsRUFDbEMsbUJBQXdDLEVBQ3hDLGlCQUFvQyxFQUNyQyxrQkFBc0MsRUFDdEMsU0FBMkIsRUFDMUIsY0FBOEI7UUFQOUIsdUJBQWtCLEdBQWxCLGtCQUFrQixDQUF5QjtRQUMz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LDRDQUE0Qjs7SUFDNUIsZ0RBQXNEOztJQUN0RCwrQ0FBdUQ7O0lBQ3ZELDhDQUE2Qjs7SUFDN0IsNENBQTJCOztJQUMzQiwwQ0FBMEI7O0lBQzFCLGtEQUFtQzs7SUFDbkMscURBQXdDOztJQUN4Qyw2Q0FBNkI7O0lBQzdCLDhDQUE4Qjs7SUFDOUIsaURBQWlDOztJQUNqQywyQ0FBd0I7O0lBQ3hCLGtEQUErQjs7SUFDL0IsbURBQXVDOztJQUN2Qyw0Q0FBNEI7O0lBQzVCLDJDQUE0Qjs7SUFDNUIsMkNBQXVCOztJQUN2QixvQ0FBaUI7O0lBQ2pCLGdEQUFnQzs7SUFDaEMsaURBQWdDOztJQUNoQywyQ0FBMkI7O0lBQzNCLGtEQUE4Qjs7SUFDOUIsOENBQThCOztJQUM5QixrREFBaUM7O0lBQ2pDLDRDQUErQzs7SUFDL0MsNENBQStDOztJQUMvQyxtREFBc0Q7O0lBQ3RELGtEQUFxRDs7SUFDckQsa0RBQXFEOztJQUNyRCwrQ0FBc0Q7O0lBQ3RELDRDQUE2Qzs7SUFDN0MsMENBQWlCOztJQUNqQixnREFBdUI7O0lBQ3ZCLGtEQUFpQzs7SUFDakMsOENBQW9DOztJQUNwQyxnREFBeUU7O0lBQ3pFLDRDQUFrQzs7SUFDbEMsMkNBQXlCOztJQUN6Qix5Q0FBZ0I7O0lBQ2hCLDZDQUFtRTs7SUFDbkUsNENBQW1COztJQUNuQiwyQ0FBa0I7Ozs7O0lBQ2xCLDBDQUF3Qjs7Ozs7SUFHdEIsb0RBQW1EOzs7OztJQUNuRCxtREFBNEM7Ozs7O0lBQzVDLGtEQUEwQzs7Ozs7SUFDMUMscURBQWdEOzs7OztJQUNoRCxtREFBNEM7O0lBQzVDLG9EQUE2Qzs7SUFDN0MsMkNBQWtDOzs7OztJQUNsQyxnREFBc0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0FmdGVyVmlld0luaXQsIENoYW5nZURldGVjdG9yUmVmLCBDb21wb25lbnQsIEVsZW1lbnRSZWYsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE9uSW5pdCwgT3V0cHV0LCBWaWV3Q2hpbGR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtEYXRhQ29sdW1uVmlld1R5cGUsIFRhbWluRGF0YUNvbHVtbn0gZnJvbSAnLi4vLi4vbW9kZWxzL3RhbWluLWRhdGEtY29sdW1uLm1vZGVsJztcbmltcG9ydCB7VGFtaW5BY3Rpb25Db2x1bW59IGZyb20gJy4uLy4uL21vZGVscy90YW1pbi1hY3Rpb24tY29sdW1uLm1vZGVsJztcbmltcG9ydCB7R2VuZXJpY1Jlc3RTZXJ2aWNlfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9nZW5lcmljLXJlc3Qtc2VydmljZS9nZW5lcmljLXJlc3Quc2VydmljZSc7XG5pbXBvcnQge1RhbWluRGF0YUdyaWRDb25maWd1cmF0aW9ufSBmcm9tICcuLi8uLi9oZWxwZXJzL3RhbWluLmRhdGEuZ3JpZC5jb25maWd1cmF0aW9uL3RhbWluLmRhdGEuZ3JpZC5jb25maWd1cmF0aW9uJztcbmltcG9ydCB7VGFtaW5QZXJzaWFuU2VydmljZX0gZnJvbSAnLi4vLi4vc2VydmljZXMvcGVyc2lhbi1zZXJ2aWNlL3RhbWluLXBlcnNpYW4uc2VydmljZSc7XG5pbXBvcnQge092ZXJsYXlTZXJ2aWNlfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9vdmVybGF5L292ZXJsYXkuc2VydmljZSc7XG5pbXBvcnQge0JyZWFrcG9pbnRPYnNlcnZlciwgQnJlYWtwb2ludHMsIEJyZWFrcG9pbnRTdGF0ZX0gZnJvbSAnQGFuZ3VsYXIvY2RrL2xheW91dCc7XG5pbXBvcnQge1RhbWluUmVzdFNlcnZpY2V9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3RhbWluLXJlc3Qtc2VydmljZS90YW1pbi1yZXN0LnNlcnZpY2UnO1xuaW1wb3J0IHtQZXJzaWFuTnVtYmVyUGlwZX0gZnJvbSAnLi4vLi4vcGlwZXMvcGVyc2lhbi1udW1iZXIucGlwZSc7XG5pbXBvcnQge0Vycm9yfSBmcm9tICd0c2xpbnQvbGliL2Vycm9yJztcbmltcG9ydCB7Q29uc3RhbnRzU2VydmljZX0gZnJvbSAnLi4vLi4vc2VydmljZXMvY29uc3RhbnRzLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICd0YW1pbi1kYXRhLWdyaWQnLFxuICB0ZW1wbGF0ZVVybDogJy4vdGFtaW4tZGF0YS1ncmlkLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vdGFtaW4tZGF0YS1ncmlkLmNvbXBvbmVudC5zY3NzJ10sXG59KVxuXG5leHBvcnQgY2xhc3MgVGFtaW5EYXRhR3JpZENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCB7XG4gIEBJbnB1dCgpIHNldCBjb25maWd1cmF0aW9uKGRhdGE6IFRhbWluRGF0YUdyaWRDb25maWd1cmF0aW9uKSB7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHRoaXMuc2VydmljZVVybCA9IGRhdGEuc2VydmljZVVybDtcbiAgICAgIHRoaXMudmlzaWJsZUNvbHVtbnMgPSBkYXRhLnZpc2libGVDb2x1bW5zO1xuICAgICAgdGhpcy5hY3Rpb25Db2x1bW5zID0gZGF0YS5hY3Rpb25Db2x1bW5zO1xuICAgICAgdGhpcy5zZWFyY2hQYXJhbXMgPSBkYXRhLnNlYXJjaFBhcmFtcztcbiAgICAgIHRoaXMuc29ydFBhcmFtcyA9IGRhdGEuc29ydFBhcmFtcztcbiAgICAgIHRoaXMudmlld1R5cGUgPSBkYXRhLnZpZXdUeXBlO1xuICAgICAgdGhpcy5zaG93QWN0aW9uQ29sdW1uID0gZGF0YS5zaG93QWN0aW9uQ29sdW1uO1xuICAgICAgdGhpcy5hY3Rpb25Db2x1bW5DYXB0aW9uID0gZGF0YS5hY3Rpb25Db2x1bW5DYXB0aW9uO1xuICAgICAgdGhpcy5yb3dFZGl0YWJsZSA9IGRhdGEucm93RWRpdGFibGU7XG4gICAgICB0aGlzLnJvd0RlbGV0YWJsZSA9IGRhdGEucm93RGVsZXRhYmxlO1xuICAgICAgdGhpcy5kYXRhSXRlbXMgPSBkYXRhLmRhdGFJdGVtcztcbiAgICAgIHRoaXMuc2hvd0Zvb3RlciA9IGRhdGEuc2hvd0Zvb3RlcjtcbiAgICAgIHRoaXMuc2hvd1BhZ2VyID0gZGF0YS5zaG93UGFnZXI7XG4gICAgICB0aGlzLnBhZ2VyU2l6ZSA9IGRhdGEucGFnZXJTaXplO1xuICAgICAgdGhpcy5sb2FkRGF0YU9uSW5pdCA9IGRhdGEubG9hZERhdGFPbkluaXQ7XG4gICAgICB0aGlzLnBhZ2VyQ3VycmVudFBhZ2UgPSBkYXRhLnBhZ2VyQ3VycmVudFBhZ2U7XG4gICAgfVxuICB9XG5cbiAgQElucHV0KCkgc2VydmljZVVybDogc3RyaW5nO1xuICBASW5wdXQoKSB2aXNpYmxlQ29sdW1uczogVGFtaW5EYXRhQ29sdW1uW10gfCBvYmplY3RbXTtcbiAgQElucHV0KCkgYWN0aW9uQ29sdW1uczogVGFtaW5BY3Rpb25Db2x1bW5bXSB8IG9iamVjdFtdO1xuICBASW5wdXQoKSBzZWFyY2hQYXJhbXM6IGFueVtdO1xuICBASW5wdXQoKSBzb3J0UGFyYW1zOiBhbnlbXTtcbiAgQElucHV0KCkgdmlld1R5cGU6IHN0cmluZztcbiAgQElucHV0KCkgc2hvd0FjdGlvbkNvbHVtbjogYm9vbGVhbjtcbiAgQElucHV0KCkgYWN0aW9uQ29sdW1uQ2FwdGlvbiA9ICfYudmF2YTbjNin2KonO1xuICBASW5wdXQoKSByb3dFZGl0YWJsZTogc3RyaW5nO1xuICBASW5wdXQoKSByb3dEZWxldGFibGU6IHN0cmluZztcbiAgQElucHV0KCkgbXVsdGlTZWxlY3RhYmxlOiBzdHJpbmc7XG4gIEBJbnB1dCgpIGRhdGFJdGVtczogYW55O1xuICBASW5wdXQoKSBzZWxlY3RlZERhdGFJdGVtOiBhbnk7XG4gIEBJbnB1dCgpIHNlbGVjdGVkRGF0YUl0ZW1zOiBhbnlbXSA9IFtdO1xuICBASW5wdXQoKSBzaG93Rm9vdGVyOiBzdHJpbmc7XG4gIEBJbnB1dCgpIHNob3dQYWdlcjogYm9vbGVhbjtcbiAgQElucHV0KCkgcGFnZXJTaXplID0gNTtcbiAgQElucHV0KCkgaWQgPSAnJztcbiAgQElucHV0KCkgbG9hZERhdGFPbkluaXQgPSBmYWxzZTtcbiAgQElucHV0KCkgc2hvd0xvYWRPdmVybGF5ID0gdHJ1ZTtcbiAgQElucHV0KCkgc2hvd0hvdmVyID0gZmFsc2U7XG4gIEBJbnB1dCgpIHBhZ2VyQ3VycmVudFBhZ2UgPSAxO1xuICBASW5wdXQoKSBlcnJvck1lc3NhZ2U6IHN0cmluZztcbiAgQElucHV0KCkgYWxsb3dCcmVha1BvaW50cyA9IHRydWU7XG4gIEBPdXRwdXQoKSBpdGVtU2VsZWN0ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoKSBpdGVtQWN0aW9uID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoKSBiZWZvcmVSZWZyZXNoRGF0YSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCkgYWZ0ZXJSZWZyZXNoRGF0YSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCkgcmVmcmVzaERhdGFFcnJvciA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAVmlld0NoaWxkKCdncmlkQ29udGFpbmVyJykgZ3JpZENvbnRhaW5lcjogRWxlbWVudFJlZjtcbiAgcmVuZGVyTW9kZTogJ2Rlc2t0b3AnIHwgJ21vYmlsZScgPSAnZGVza3RvcCc7XG4gIGhhc0Vycm9yID0gZmFsc2U7XG4gIHNvcnRDb2x1bW5OYW1lOiBzdHJpbmc7XG4gIHNvcnRDb2x1bW5NZXRob2Q6ICdBU0MnIHwgJ0RFU0MnO1xuICBjZWxsUmVuZGVyZXI6IChpdGVtLCBjb2x1bW4pID0+IGFueTtcbiAgYWN0aW9uUmVuZGVyZXI6IChpdGVtOiBhbnksIGFjdGlvbkNlbGw6IEFycmF5PFRhbWluQWN0aW9uQ29sdW1uPikgPT4gYW55O1xuICBjZWxsU3R5bGVyOiAoaXRlbSwgY29sdW1uKSA9PiBhbnk7XG4gIHJvd1N0eWxlcjogKGl0ZW0pID0+IGFueTtcbiAgbG9hZGluZyA9IGZhbHNlO1xuICBicmVha1BvaW50czogQXJyYXk8YW55PiA9IFtCcmVha3BvaW50cy5TbWFsbCwgQnJlYWtwb2ludHMuSGFuZHNldF07XG4gIHRvdGFsUGFnZXM6IG51bWJlcjtcbiAgdG90YWxSb3dzOiBudW1iZXI7XG4gIHByaXZhdGUgX292ZXJsYXkgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgZ2VuZXJpY1Jlc3RTZXJ2aWNlOiBHZW5lcmljUmVzdFNlcnZpY2U8YW55PixcbiAgICBwcml2YXRlIGNoYW5nZURldGVjdG9yUmVmOiBDaGFuZ2VEZXRlY3RvclJlZixcbiAgICBwcml2YXRlIHRhbWluUmVzdFNlcnZpY2U6IFRhbWluUmVzdFNlcnZpY2UsXG4gICAgcHJpdmF0ZSB0YW1pblBlcnNpYW5TZXJ2aWNlOiBUYW1pblBlcnNpYW5TZXJ2aWNlLFxuICAgIHByaXZhdGUgcGVyc2lhbk51bWJlclBpcGU6IFBlcnNpYW5OdW1iZXJQaXBlLFxuICAgIHB1YmxpYyBicmVha3BvaW50T2JzZXJ2ZXI6IEJyZWFrcG9pbnRPYnNlcnZlcixcbiAgICBwdWJsaWMgY29uc3RhbnRzOiBDb25zdGFudHNTZXJ2aWNlLFxuICAgIHByaXZhdGUgb3ZlcmxheVNlcnZpY2U6IE92ZXJsYXlTZXJ2aWNlKSB7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLmVycm9yTWVzc2FnZSA9IHRoaXMuY29uc3RhbnRzLmdldE5ldHdvcmtFcnJvck1lc3NhZ2UoKTtcbiAgICB0aGlzLmJyZWFrcG9pbnRPYnNlcnZlclxuICAgICAgLm9ic2VydmUodGhpcy5icmVha1BvaW50cylcbiAgICAgIC5zdWJzY3JpYmUoKHN0YXRlOiBCcmVha3BvaW50U3RhdGUpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLmFsbG93QnJlYWtQb2ludHMpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLm1hdGNoZXMpIHtcblxuICAgICAgICAgIGlmICh0aGlzLnJlbmRlck1vZGUgIT09ICdtb2JpbGUnKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlck1vZGUgPSAnbW9iaWxlJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRoaXMucmVuZGVyTW9kZSAhPT0gJ2Rlc2t0b3AnKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlck1vZGUgPSAnZGVza3RvcCc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICBpZiAodGhpcy5zb3J0UGFyYW1zICYmIHRoaXMuc29ydFBhcmFtcy5sZW5ndGggIT09IDApIHtcbiAgICAgIHRoaXMuc29ydENvbHVtbk5hbWUgPSB0aGlzLnNvcnRQYXJhbXNbMF0ucHJvcGVydHk7XG4gICAgICB0aGlzLnNvcnRDb2x1bW5NZXRob2QgPSB0aGlzLnNvcnRQYXJhbXNbMF0uZGlyZWN0aW9uO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyByZWZyZXNoRGF0YShzaG93T3ZlcmxheTogYm9vbGVhbiA9IHRydWUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8YW55PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy5sb2FkaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuaGFzRXJyb3IgPSBmYWxzZTtcbiAgICAgIGlmICghdGhpcy5zZXJ2aWNlVXJsIHx8IHRoaXMuc2VydmljZVVybCA9PT0gJycpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignU2VydmljZVVybCBoYXMgbm90IHZhbHVlJykpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmJlZm9yZVJlZnJlc2hEYXRhLmVtaXQoKTtcbiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7XG4gICAgICBpZiAodGhpcy5zaG93TG9hZE92ZXJsYXkgJiYgc2hvd092ZXJsYXkpIHtcbiAgICAgICAgaWYgKHRoaXMuX292ZXJsYXkgPT09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLl9vdmVybGF5ID0gdGhpcy5vdmVybGF5U2VydmljZS5zaG93KHRoaXMuZ3JpZENvbnRhaW5lci5uYXRpdmVFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3Qgc29ydFBhcmFtcyA9IFtdO1xuICAgICAgaWYgKHRoaXMuc29ydENvbHVtbk5hbWUpIHtcbiAgICAgICAgc29ydFBhcmFtcy5wdXNoKHtcbiAgICAgICAgICBwcm9wZXJ0eTogdGhpcy5zb3J0Q29sdW1uTmFtZSxcbiAgICAgICAgICBkaXJlY3Rpb246IHRoaXMuc29ydENvbHVtbk1ldGhvZFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLnBhZ2VyU2l6ZSB8fCB0aGlzLnBhZ2VyU2l6ZSA8PSAwKSB7XG4gICAgICAgIHRoaXMucGFnZXJTaXplID0gMTAwMDsgLy8gTWF4IGFsbG93ZWRcbiAgICAgICAgdGhpcy50YW1pblJlc3RTZXJ2aWNlLmdldEFsbCh0aGlzLnNlcnZpY2VVcmwsIHRoaXMuc2VhcmNoUGFyYW1zLCBzb3J0UGFyYW1zKVxuICAgICAgICAgIC50aGVuKHZhbHVlID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3dMb2FkT3ZlcmxheSAmJiBzaG93T3ZlcmxheSAmJiB0aGlzLl9vdmVybGF5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHRoaXMub3ZlcmxheVNlcnZpY2UuaGlkZSh0aGlzLl9vdmVybGF5KTtcbiAgICAgICAgICAgICAgdGhpcy5fb3ZlcmxheSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5kYXRhICE9PSB1bmRlZmluZWQgJiYgdmFsdWUuZGF0YSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHZhbHVlLmRhdGEubGlzdCA9IFtdO1xuICAgICAgICAgICAgICB2YWx1ZS5kYXRhLnRvdGFsID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW1zID0gdmFsdWUuZGF0YS5saXN0O1xuICAgICAgICAgICAgdGhpcy50b3RhbFJvd3MgPSB2YWx1ZS5kYXRhLnRvdGFsO1xuICAgICAgICAgICAgdGhpcy50b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRoaXMudG90YWxSb3dzIC8gdGhpcy5wYWdlclNpemUpO1xuICAgICAgICAgICAgdGhpcy5wYWdlckN1cnJlbnRQYWdlID0gdGhpcy50b3RhbFBhZ2VzID4gMCA/IDEgOiAwO1xuICAgICAgICAgICAgdGhpcy5hZnRlclJlZnJlc2hEYXRhLmVtaXQoKTtcbiAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5zaG93TG9hZE92ZXJsYXkgJiYgc2hvd092ZXJsYXkgJiYgdGhpcy5fb3ZlcmxheSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICB0aGlzLm92ZXJsYXlTZXJ2aWNlLmhpZGUodGhpcy5fb3ZlcmxheSk7XG4gICAgICAgICAgICAgIHRoaXMuX292ZXJsYXkgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kYXRhSXRlbXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5oYXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hEYXRhRXJyb3IuZW1pdChyZWFzb24pO1xuICAgICAgICAgICAgcmVqZWN0KHJlYXNvbik7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRhbWluUmVzdFNlcnZpY2UuZ2V0UGFnZSh0aGlzLnNlcnZpY2VVcmwsIHRoaXMucGFnZXJDdXJyZW50UGFnZSwgdGhpcy5wYWdlclNpemUsIHRoaXMuc2VhcmNoUGFyYW1zLCBzb3J0UGFyYW1zKVxuICAgICAgICAgIC50aGVuKHZhbHVlID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3dMb2FkT3ZlcmxheSAmJiBzaG93T3ZlcmxheSAmJiB0aGlzLl9vdmVybGF5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHRoaXMub3ZlcmxheVNlcnZpY2UuaGlkZSh0aGlzLl9vdmVybGF5KTtcbiAgICAgICAgICAgICAgdGhpcy5fb3ZlcmxheSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW1zID0gdmFsdWUuZGF0YS5saXN0O1xuICAgICAgICAgICAgdGhpcy50b3RhbFJvd3MgPSB2YWx1ZS5kYXRhLnRvdGFsO1xuICAgICAgICAgICAgdGhpcy50b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRoaXMudG90YWxSb3dzIC8gdGhpcy5wYWdlclNpemUpO1xuICAgICAgICAgICAgdGhpcy5hZnRlclJlZnJlc2hEYXRhLmVtaXQoKTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChyZWFzb24gPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0xvYWRPdmVybGF5ICYmIHNob3dPdmVybGF5ICYmIHRoaXMuX292ZXJsYXkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgdGhpcy5vdmVybGF5U2VydmljZS5oaWRlKHRoaXMuX292ZXJsYXkpO1xuICAgICAgICAgICAgICB0aGlzLl9vdmVybGF5ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW1zID0gW107XG4gICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoRGF0YUVycm9yLmVtaXQocmVhc29uKTtcbiAgICAgICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb25TZWxlY3RJdGVtKGRhdGFJdGVtOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLnNlbGVjdGVkRGF0YUl0ZW0gPSBkYXRhSXRlbTtcbiAgICB0aGlzLml0ZW1TZWxlY3QuZW1pdChkYXRhSXRlbSk7XG4gIH1cblxuICBvbkl0ZW1DaGVja0JveENsaWNrKGRhdGFJdGVtOiBhbnksIGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zZWxlY3RlZERhdGFJdGVtcy5pbmRleE9mKGRhdGFJdGVtKSA9PT0gLTEgJiYgZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWREYXRhSXRlbXMucHVzaChkYXRhSXRlbSk7XG4gICAgfVxuICAgIGlmICghZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5zZWxlY3RlZERhdGFJdGVtcy5pbmRleE9mKGRhdGFJdGVtLCAwKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWREYXRhSXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIG9uQWN0aW9uQ2xpY2tlZChkYXRhSXRlbTogYW55LCBhY3Rpb25DZWxsOiBUYW1pbkFjdGlvbkNvbHVtbik6IHZvaWQge1xuICAgIHRoaXMuc2VsZWN0ZWREYXRhSXRlbSA9IGRhdGFJdGVtO1xuICAgIHRoaXMuaXRlbUFjdGlvbi5lbWl0KHtkYXRhSXRlbSwgYWN0aW9uQ2VsbH0pO1xuICB9XG5cbiAgb25QYWdlclBhZ2VDaGFuZ2VkKHBhZ2VyQ3VycmVudFBhZ2U6IG51bWJlcikge1xuICAgIHRoaXMucGFnZXJDdXJyZW50UGFnZSA9IHBhZ2VyQ3VycmVudFBhZ2U7XG4gICAgdGhpcy5yZWZyZXNoRGF0YSgpO1xuICB9XG5cbiAgZ2V0RGF0YUl0ZW1TdHJpbmcoZGF0YUl0ZW06IGFueSwgY2VsbDogVGFtaW5EYXRhQ29sdW1uLCBpbmRleDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBsZXQgcmVzdWx0ID0gZGF0YUl0ZW07XG4gICAgaWYgKGNlbGwuY29sdW1uVmlld1R5cGUgIT09IERhdGFDb2x1bW5WaWV3VHlwZS5Sb3dOdW1iZXIpIHtcbiAgICAgIGNvbnN0IGZpZWxkcyA9IGNlbGwuY29sdW1uTmFtZS5zcGxpdCgnLicpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFyZXN1bHRbZmllbGRzW2ldXSkge1xuICAgICAgICAgIHJlc3VsdCA9ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdFtmaWVsZHNbaV1dO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAoY2VsbC5jb2x1bW5WaWV3VHlwZSkge1xuICAgICAgY2FzZSBEYXRhQ29sdW1uVmlld1R5cGUuTGFiZWwgOlxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgY2FzZSBEYXRhQ29sdW1uVmlld1R5cGUuVGhvdXNhbmRTZXBlcmF0ZWQgOlxuICAgICAgICBjb25zdCBwYXJ0cyA9IHJlc3VsdC50b1N0cmluZygpLnNwbGl0KCcuJyk7XG4gICAgICAgIHBhcnRzWzBdID0gcGFydHNbMF0ucmVwbGFjZSgvXFxCKD89KFxcZHszfSkrKD8hXFxkKSkvZywgJywnKTtcbiAgICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oJy4nKTtcbiAgICAgIGNhc2UgRGF0YUNvbHVtblZpZXdUeXBlLlJvd051bWJlciA6XG4gICAgICAgIHJldHVybiAoaW5kZXggKyAxICsgKHRoaXMucGFnZXJTaXplICogKHRoaXMucGFnZXJDdXJyZW50UGFnZSAtIDEpKSkudG9TdHJpbmcoKTtcbiAgICAgIGNhc2UgRGF0YUNvbHVtblZpZXdUeXBlLlBlcnNpYW5EYXRlIDpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUocmVzdWx0KTtcbiAgICAgICAgICByZXR1cm4gdGhpcy50YW1pblBlcnNpYW5TZXJ2aWNlLmdldFBlcnNpYW5EYXRlKGRhdGUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuICfYrti32Kcg2K/YsSDYqtio2K/bjNmEINiq2KfYsduM2K4nO1xuICAgICAgICB9XG4gICAgICBjYXNlIERhdGFDb2x1bW5WaWV3VHlwZS5DdXN0b206XG4gICAgICAgIHJldHVybiBjZWxsLmNvbHVtblRyYW5zbGF0b3IocmVzdWx0KTtcbiAgICAgIGNhc2UgRGF0YUNvbHVtblZpZXdUeXBlLkN1c3RvbVJvdzpcbiAgICAgICAgcmV0dXJuIGNlbGwuY29sdW1uVHJhbnNsYXRvcihkYXRhSXRlbSwgY2VsbC5jb2x1bW5OYW1lKTtcbiAgICB9XG4gIH1cblxuICBnZXREYXRhSXRlbUFjdGlvbihkYXRhSXRlbTogYW55LCBjZWxsOiBUYW1pbkRhdGFDb2x1bW4pOiBzdHJpbmcge1xuICAgIGlmICghY2VsbC5jb2x1bW5TdHlsZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb25zdCBmaWVsZHMgPSBjZWxsLmNvbHVtbk5hbWUuc3BsaXQoJy4nKTtcbiAgICBsZXQgcmVzdWx0ID0gZGF0YUl0ZW07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghcmVzdWx0W2ZpZWxkc1tpXV0pIHtcbiAgICAgICAgcmVzdWx0ID0gJy0nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0W2ZpZWxkc1tpXV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjZWxsLmNvbHVtblN0eWxlKHJlc3VsdCk7XG4gIH1cblxuICBwcml2YXRlIGNlbGxSZW5kZXJlclNlbGVjdG9yKGl0ZW06IGFueSwgY29sdW1uOiBUYW1pbkRhdGFDb2x1bW4sIGluZGV4OiBudW1iZXIpIHtcbiAgICBpZiAoY29sdW1uLmNvbHVtblZpZXdUeXBlID09PSBEYXRhQ29sdW1uVmlld1R5cGUuUm93TnVtYmVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXREYXRhSXRlbVN0cmluZyhpdGVtW2NvbHVtbi5jb2x1bW5OYW1lXSwgY29sdW1uLCBpbmRleCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmNlbGxSZW5kZXJlcikge1xuICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5jZWxsUmVuZGVyZXIoaXRlbSwgY29sdW1uKTtcbiAgICAgIGlmIChyZXN1bHQuaGFuZGxlZCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmdldERhdGFJdGVtU3RyaW5nKGl0ZW0sIGNvbHVtbiwgaW5kZXgpO1xuICB9XG5cbiAgZ2VuZXJhdGVDb250ZW50KGl0ZW0sIGNvbHVtbiwgaSk6IGFueSB7XG4gICAgaWYgKC88XFwvP1thLXpdW1xcc1xcU10qPi9pLnRlc3QoaXRlbSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNlbGxSZW5kZXJlclNlbGVjdG9yKGVuY29kZVVSSUNvbXBvbmVudChpdGVtKSwgY29sdW1uLCBpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY2VsbFJlbmRlcmVyU2VsZWN0b3IoaXRlbSwgY29sdW1uLCBpKTtcbiAgfVxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5sb2FkRGF0YU9uSW5pdCkge1xuICAgICAgdGhpcy5yZWZyZXNoRGF0YSgpO1xuICAgIH1cbiAgfVxuXG4gIG9uQWN0aW9uTWVudUl0ZW1DbGlja2VkKGV2ZW50OiBhbnkpIHtcbiAgICB0aGlzLm9uU2VsZWN0SXRlbShldmVudC5pdGVtKTtcbiAgICB0aGlzLml0ZW1BY3Rpb24uZW1pdChldmVudCk7XG4gIH1cblxuICBnZXRDZWxsU3R5bGVyUmVzdWx0KGl0ZW0sIGNvbHVtbikge1xuICAgIHJldHVybiB0aGlzLmNlbGxTdHlsZXIgPyB0aGlzLmNlbGxTdHlsZXIoaXRlbSwgY29sdW1uKSA6ICcnO1xuICB9XG5cbiAgZ2V0Um93U3R5bGVyUmVzdWx0KGl0ZW0pIHtcbiAgICByZXR1cm4gdGhpcy5yb3dTdHlsZXIgPyB0aGlzLnJvd1N0eWxlcihpdGVtKSA6ICcnO1xuICB9XG5cbiAgYWN0aW9uUmVuZGVyKGl0ZW06IGFueSwgYWN0aW9uQ2VsbDogQXJyYXk8YW55Pikge1xuICAgIGlmICh0aGlzLmFjdGlvblJlbmRlcmVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5hY3Rpb25SZW5kZXJlcihpdGVtLCBhY3Rpb25DZWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIGFjdGlvbkNlbGw7XG4gIH1cblxuICBvblNvcnQoY29sdW1uOiBUYW1pbkRhdGFDb2x1bW4pIHtcbiAgICBpZiAodGhpcy5zb3J0Q29sdW1uTmFtZSA9PT0gY29sdW1uLmNvbHVtbk5hbWUpIHtcbiAgICAgIHRoaXMuc29ydENvbHVtbk1ldGhvZCA9IHRoaXMuc29ydENvbHVtbk1ldGhvZCA9PT0gJ0FTQycgPyAnREVTQycgOiAnQVNDJztcbiAgICB9XG4gICAgaWYgKHRoaXMuc29ydENvbHVtbk5hbWUgIT09IGNvbHVtbi5jb2x1bW5OYW1lKSB7XG4gICAgICB0aGlzLnNvcnRDb2x1bW5OYW1lID0gY29sdW1uLmNvbHVtbk5hbWU7XG4gICAgICB0aGlzLnNvcnRDb2x1bW5NZXRob2QgPSAnQVNDJztcbiAgICB9XG4gICAgdGhpcy5yZWZyZXNoRGF0YSgpO1xuICB9XG59XG4iXX0=